"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[5477],{25653:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"1.0.0","title":"v1.0.0","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/1.0.0.mdx","sourceDirName":".","slug":"/1.0.0","permalink":"/release-notes/1.0.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/1.0.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2020-08-21T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.1.0","permalink":"/release-notes/1.1.0"},"next":{"title":"Version 0","permalink":"/release-notes/version-0"}}');var s=n(74848),t=n(28453);const c={date:new Date("2020-08-21T00:00:00.000Z")},a="v1.0.0",l={},o=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\u2622\ufe0f Breaking changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function d(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{ThankYou:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.header,{children:[(0,s.jsx)(r.h1,{id:"v100",children:"v1.0.0"}),(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"August 21, 2020"})})]}),"\n",(0,s.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now check whether a ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html",children:"RequestContext"})," contains an attribute or not conveniently using\n",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#hasAttr(io.netty.util.AttributeKey)",children:"RequestContext#hasAttr(AttributeKey)"})," and ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#hasOwnAttr(io.netty.util.AttributeKey)",children:"RequestContext#hasOwnAttr(AttributeKey)"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3014",children:"#3014"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now specify the default service and log name programmatically for an annotated service. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2979",children:"#2979"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["It was previously only possible to specify a service name with ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ServiceName.html",children:"@ServiceName"})," annotation."]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'Server.builder()\n      .annotatedService().defaultServiceName("my-service")\n                         .build(myAnnotatedService);\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Annotated services now support ",(0,s.jsx)(r.a,{href:"https://kotlinlang.org/docs/reference/coroutines-overview.html",children:"Kotlin coroutines"}),".\n",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2983",children:"#2983"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3010",children:"#3010"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3011",children:"#3011"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["See ",(0,s.jsx)(r.a,{href:"/docs/advanced/kotlin",children:"Kotlin coroutines support"})," for more\ninformation."]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-kotlin",children:'class MyAnnotatedService {\n    @Get("/users/{name}")\n    suspend fun getUserToken(@Param name: String): String {\n        val user = myReactiveRepository.findByName(name).await()\n        return user.token\n    }\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now get the current ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html",children:"ServiceRequestContext"})," from the Kotlin coroutine context when using\n",(0,s.jsx)(r.a,{href:"https://github.com/grpc/grpc-kotlin",children:"grpc-kotlin"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3001",children:"#3001"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now use ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/grpc/GrpcMeterIdPrefixFunction.html",children:"GrpcMeterIdPrefixFunction"})," to create meters with a ",(0,s.jsx)(r.code,{children:"grpc-status"})," tag for gRPC clients\nand servers. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2762",children:"#2762"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2971",children:"#2971"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'Server.builder()\n      .route().defaultServiceName("my-grpc-services")\n              .build(GrpcService.builder()\n                                .addService(serviceFoo)\n                                .addService(serviceBar)\n                                .build()\n                                .decorate(MetricCollectingService.newDecorator(\n                                    GrpcMeterIdPrefixFunction.of("my.grpc.svcs"))))\n                                //  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n      .build();\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Added a new module ",(0,s.jsx)(r.code,{children:"armeria-reactor3"})," that provides automatic ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html",children:"RequestContext"})," propagation for\n",(0,s.jsx)(r.a,{href:"https://projectreactor.io/",children:"Project Reactor"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2999",children:"#2999"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["See ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria-examples/tree/main/context-propagation/reactor",children:"the complete example"}),"\nfor more information."]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'// Enable the hooks.\nRequestContextHooks.enable();\n\nRequestContext ctx = ...;\nFlux<String> flux;\ntry (SafeCloseable ignored = ctx.push()) {\n    // The callbacks of the \'flux\' will have thread-local RequestContext set.\n    flux = Flux.just("foo").publishOn(Schedulers.single());\n}\n\nStepVerifier.create(flux)\n            .expectSubscriptionMatches(s -> RequestContext.current() == ctx)\n            .expectNextMatches(s -> RequestContext.current() == ctx &&\n                                    "foo".equals(s))\n            .verifyComplete();\n'})}),"\n"]}),"\n"]}),"\n","\n",(0,s.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"type://#",children:"RequestContext#setAttr(AttributeKey,Object)"})," now returns an old value being replaced. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2997",children:"#2997"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3004",children:"#3004"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'static final AttributeKey<String> ATTR_KEY =\n    AttributeKey.valueOf(MyClass.class, "KEY");\n\nRequestContext ctx = ...;\nctx.setAttr(ATTR_KEY, "foo");\nString oldValue = ctx.setAttr(ATTR_KEY, "bar");\nassert "foo".equals(oldValue);\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now bind a ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceWithRoutes.html",children:"ServiceWithRoutes"})," (e.g. ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcService.html",children:"GrpcService"}),") using the fluent builder API. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2996",children:"#2996"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'HttpService myGrpcService =\n    GrpcService.builder()\n               .addService(serviceFoo)\n               .addService(serviceBar)\n               .build()\n               .decorate(LoggingService.newDecorator())\n               .decorate(MetricCollectingService.newDecorator(...))\n\nServer.builder()\n      .route().defaultServiceName("my-grpc-service")\n              // Note that we didn\'t specify any paths.\n              .build(myGrpcService)\n      .build();\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"localAddress()"})," and ",(0,s.jsx)(r.code,{children:"remoteAddress()"})," builder methods in ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContextBuilder.html",children:"ServiceRequestContextBuilder"})," and\n",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContextBuilder.html",children:"ClientRequestContextBuilder"})," now accept ",(0,s.jsx)(r.code,{children:"SocketAddress"})," instead of ",(0,s.jsx)(r.code,{children:"InetSocketAddress"}),", so we have\nmore freedom in the future when we add support for UNIX domain sockets. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2996",children:"#2996"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Fixed some of our ",(0,s.jsx)(r.code,{children:"Publisher"})," implementations so they do not raise an ",(0,s.jsx)(r.code,{children:"AssertionError"})," when its ",(0,s.jsx)(r.code,{children:"Subscriber"}),"\nattempts to request elements after the subscription is cancelled. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3003",children:"#3003"})]}),"\n",(0,s.jsxs)(r.li,{children:["The default ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/MeterIdPrefixFunction.html",children:"MeterIdPrefixFunction"})," now always sets the ",(0,s.jsx)(r.code,{children:"service"})," tag so that it doesn't violate the\nconstraints enforced by some monitoring systems, e.g. Prometheus. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2977",children:"#2977"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/TimeoutMode.html#SET_FROM_START",children:"TimeoutMode#SET_FROM_START"})," now schedules a timeout correctly. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2968",children:"#2968"})]}),"\n",(0,s.jsxs)(r.li,{children:["HAProxy protocol server doesn't raise a ",(0,s.jsx)(r.code,{children:"NullPointerException"})," anymore when it receives a request with\n",(0,s.jsx)(r.code,{children:"AF_UNSPEC"})," socket family. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2984",children:"#2984"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2985",children:"#2985"})]}),"\n",(0,s.jsxs)(r.li,{children:["Fixed a bug that prevented you from overriding the service name of a gRPC or Thrift service. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2994",children:"#2994"})]}),"\n",(0,s.jsxs)(r.li,{children:["The ",(0,s.jsx)(r.code,{children:"content-type"})," header of a trailer-only gRPC response is now set correctly. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2969",children:"#2969"})]}),"\n",(0,s.jsxs)(r.li,{children:["Fixed a bug where a Retrofit call is sometimes left unfinished. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3006",children:"#3006"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3008",children:"#3008"})]}),"\n",(0,s.jsxs)(r.li,{children:["A Spring WebFlux integration doesn't leave noisy error logs anymore for a ",(0,s.jsx)(r.code,{children:"HEAD"})," route that produces\ncontent. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2965",children:"#2965"})]}),"\n",(0,s.jsxs)(r.li,{children:["Fixed a bug where a Spring WebFlux server fails to start if the ",(0,s.jsx)(r.code,{children:"management.server.port"})," property is\nspecified. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2980",children:"#2980"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"\ufe0f-breaking-changes",children:"\u2622\ufe0f Breaking changes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Removed all deprecated classes, fields and methods from the public API.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["The ",(0,s.jsx)(r.code,{children:"-Dcom.linecorp.armeria.useLegacyMeterNames"})," flag does not work anymore."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Removed ",(0,s.jsx)(r.code,{children:"HTTP_"})," or ",(0,s.jsx)(r.code,{children:"Http"})," from various fields and methods.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientOptions.html",children:"ClientOptions"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"HTTP_HEADERS"})," \u2192 ",(0,s.jsx)(r.code,{children:"HEADERS"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"httpHeaders()"})," \u2192 ",(0,s.jsx)(r.code,{children:"headers()"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/Clients.html",children:"Clients"}),":","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"withHttpHeader()"})," \u2192 ",(0,s.jsx)(r.code,{children:"withHeader()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"withHttpHeaders()"})," \u2192 ",(0,s.jsx)(r.code,{children:"withHeaders()"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/AbstractClientOptionsBuilder.html",children:"AbstractClientOptionsBuilder"})," and all its subtypes","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"setHttpHeader()"})," \u2192 ",(0,s.jsx)(r.code,{children:"setHeader()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"setHttpHeaders()"})," \u2192 ",(0,s.jsx)(r.code,{children:"setHeaders()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addHttpHeader()"})," \u2192 ",(0,s.jsx)(r.code,{children:"addHeader()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addHttpHeaders()"})," \u2192 ",(0,s.jsx)(r.code,{children:"addHeaders()"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Removed redundant ",(0,s.jsx)(r.code,{children:"add"})," prefix to some builder methods.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestContextExporterBuilder.html",children:"RequestContextExporterBuilder"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addBuiltIn()"})," \u2192 ",(0,s.jsx)(r.code,{children:"builtIn()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addAttribute()"})," \u2192 ",(0,s.jsx)(r.code,{children:"attr()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addRequestHeader()"})," \u2192 ",(0,s.jsx)(r.code,{children:"requestHeader()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addResponseHeader()"})," \u2192 ",(0,s.jsx)(r.code,{children:"responseHeader()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addKeyPattern()"})," \u2192 ",(0,s.jsx)(r.code,{children:"keyPattern()"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/saml/KeyStoreCredentialResolverBuilder.html",children:"KeyStoreCredentialResolverBuilder"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addKeyPassword()"})," \u2192 ",(0,s.jsx)(r.code,{children:"keyPassword()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addKeyPasswords()"})," \u2192 ",(0,s.jsx)(r.code,{children:"keyPasswords()"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Renamed the methods in ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"}),", ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocServiceBuilder.html",children:"DocServiceBuilder"})," and their related classes.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"exampleHttpHeaders"})," \u2192 ",(0,s.jsx)(r.code,{children:"exampleHeaders"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"exampleRequest()"})," \u2192 ",(0,s.jsx)(r.code,{children:"exampleRequests()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"exampleRequestForMethod()"})," \u2192 ",(0,s.jsx)(r.code,{children:"exampleRequests()"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Removed ",(0,s.jsx)(r.code,{children:"exampleRequests(Object...)"})," to avoid ambiguity."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"injectedScript()"})," \u2192 ",(0,s.jsx)(r.code,{children:"injectedScripts()"})]}),"\n",(0,s.jsxs)(r.li,{children:["Removed ",(0,s.jsx)(r.code,{children:"http_"})," from all query parameters","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"http_headers"})," \u2192 ",(0,s.jsx)(r.code,{children:"headers"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"http_headers_sticky"})," \u2192 ",(0,s.jsx)(r.code,{children:"sticky_headers"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Renamed the methods in ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerListenerBuilder.html",children:"ServerListenerBuilder"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addStartingCallback()"})," \u2192 ",(0,s.jsx)(r.code,{children:"whenStarting()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addStartedCallback()"})," \u2192 ",(0,s.jsx)(r.code,{children:"whenStarted()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addStopingCallback()"})," \u2192 ",(0,s.jsx)(r.code,{children:"whenStoping()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"addStopedCallback()"})," \u2192 ",(0,s.jsx)(r.code,{children:"whenStoped()"})]}),"\n",(0,s.jsxs)(r.li,{children:["Removed all methods that accept ",(0,s.jsx)(r.code,{children:"Runnable"})," in favor of those that\naccept ",(0,s.jsx)(r.code,{children:"Consumer"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Fixed the type parameters of ",(0,s.jsx)(r.code,{children:"Iterable"}),"s."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Renamed the methods in ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/encoding/EncodingServiceBuilder.html",children:"EncodingServiceBuilder"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"encodableContentTypePredicate()"})," \u2192 ",(0,s.jsx)(r.code,{children:"encodableContentTypes()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"encodableRequestHeadersPredicate()"})," \u2192 ",(0,s.jsx)(r.code,{children:"encodableRequestHeaders()"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Renamed the methods in ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/throttling/bucket4j/TokenBucketThrottlingStrategyBuilder.html",children:"TokenBucketThrottlingStrategyBuilder"}),".","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Removed the ",(0,s.jsx)(r.code,{children:"with"})," from the builder methods.","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"withMinimumBackoff()"})," \u2192 ",(0,s.jsx)(r.code,{children:"minimumBackoff()"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"withHeadersScheme()"})," \u2192 ",(0,s.jsx)(r.code,{children:"headersScheme()"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://#",children:"BasicToken#toHeaderValue()"}),", ",(0,s.jsx)(r.a,{href:"type://#",children:"OAuth1aToken#toHeaderValue()"})," and ",(0,s.jsx)(r.a,{href:"type://#",children:"OAuth2Token#toHeaderValue()"}),"\nhave been renamed to ",(0,s.jsx)(r.code,{children:"asHeaderValue()"})," for consistency. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3012",children:"#3012"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLogProperty.html#NAME",children:"RequestLogProperty#NAME"})," is not always available for annotated service methods anymore. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2979",children:"#2979"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Use ",(0,s.jsx)(r.a,{href:"type://#",children:"RequestLog#whenComplete()"})," as usual."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"RequestContext.setAttrIfAbsent()"})," and ",(0,s.jsx)(r.code,{children:"computeAttrIfAbsent()"})," have been removed. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2997",children:"#2997"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3004",children:"#3004"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Use ",(0,s.jsx)(r.a,{href:"type://#",children:"RequestContext#setAttr(AttributeKey,Object)"})," guarded by ",(0,s.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#hasOwnAttr(io.netty.util.AttributeKey)",children:"RequestContext#hasOwnAttr(AttributeKey)"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Dropwizard Metrics 4.1.11 \u2192 4.1.12.1"}),"\n",(0,s.jsx)(r.li,{children:"gRPC 1.31.0 \u2192 1.31.1"}),"\n",(0,s.jsx)(r.li,{children:"grpc-kotlin 0.1.4 \u2192 0.1.5"}),"\n",(0,s.jsx)(r.li,{children:"kafka-clients 2.5.0 \u2192 2.6.0"}),"\n",(0,s.jsx)(r.li,{children:"Micrometer 1.5.3 \u2192 1.5.4, 1.3.11 \u2192 1.3.12"}),"\n",(0,s.jsx)(r.li,{children:"Project Reactor 3.3.8 \u2192 3.3.9"}),"\n",(0,s.jsx)(r.li,{children:"RxJava 3.0.5 \u2192 3.0.6"}),"\n",(0,s.jsx)(r.li,{children:"Spring Boot 2.3.2 \u2192 2.3.3"}),"\n",(0,s.jsxs)(r.li,{children:["Shaded dependencies:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"fastutil 8.4.0 \u2192 8.4.1"}),"\n",(0,s.jsx)(r.li,{children:"JCTools 3.0.0 \u2192 3.1.0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["Examples:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"scalapb-runtime 0.10.7 \u2192 0.10.8"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,s.jsx)(n,{usernames:["anuraaga","cj848","cnabro","eunchan-kim","gary-lo","ikhoon","jorgheymans","jrhee17","KarboniteKream","matsumana","minwoox","okue","TimurKasatkin","trustin","xmeng1"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>a});var i=n(96540);const s={},t=i.createContext(s);function c(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);