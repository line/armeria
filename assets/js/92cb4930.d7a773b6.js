"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[5917],{28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var r=n(96540);const s={},t=r.createContext(s);function a(e){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:i},e.children)}},40815:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"0.81.0","title":"v0.81.0","description":"New features","source":"@site/src/content/release-notes/0.81.0.mdx","sourceDirName":".","slug":"/0.81.0","permalink":"/release-notes/0.81.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/0.81.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2019-03-08T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v0.81.1","permalink":"/release-notes/0.81.1"},"next":{"title":"v0.80.0","permalink":"/release-notes/0.80.0"}}');var s=n(74848),t=n(28453);const a={date:new Date("2019-03-08T00:00:00.000Z")},l="v0.81.0",c={},d=[{value:"New features",id:"new-features",level:2},{value:"Improvements",id:"improvements",level:2},{value:"Bug fixes",id:"bug-fixes",level:2},{value:"Breaking Change",id:"breaking-change",level:2},{value:"Dependencies",id:"dependencies",level:2}];function h(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.header,{children:[(0,s.jsx)(i.h1,{id:"v0810",children:"v0.81.0"}),(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:"March 8, 2019"})})]}),"\n",(0,s.jsx)(i.h2,{id:"new-features",children:"New features"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["A user now can generate ",(0,s.jsx)(i.code,{children:"cache-control"})," header value programmatically. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1615",children:"#1615"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-java",children:'HttpHeaders headers = HttpHeaders.of();\nHttpFileBuilder fileBuilder = HttpFileBuilder.of(...);\nHttpFileServiceBuilder fileServiceBuilder = HttpFileServiceBuilder.forFileSystem(...);\n\n// Before:\nheaders.set(HttpHeaderNames.CACHE_CONTROL, "no-cache, no-store, must-revalidate"));\nfileBuilder.setHeader(HttpHeaderNames.CACHE_CONTROL,\n                      "max-age=86400, no-cache, must-revalidate");\nfileServiceBuilder.setHeader(HttpHeaderNames.CACHE_CONTROL, "public, max-age=3600");\n\n// After:\nheaders.setObject(HttpHeaderNames.CACHE_CONTROL, ServerCacheControl.DISABLED);\nfileBuilder.cacheControl(new ServerCacheControlBuilder()\n                                 .maxAgeSeconds(86400)\n                                 .noCache()\n                                 .mustRevalidate()\n                                 .build());\nfileServiceBuilder.cacheControl(new ServerCacheControlBuilder()\n                                        .cachePublic()\n                                        .maxAgeSeconds(3600)\n                                        .build());\n'})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Armeria supports ",(0,s.jsx)(i.a,{href:"https://github.com/grpc/grpc-java/blob/master/documentation/server-reflection-tutorial.md",children:"gRPC Server Reflection"}),". ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1623",children:"#1623"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-java",children:"ServerBuilder sb = new ServerBuilder();\nsb.service(new GrpcServiceBuilder().addService(new MyHelloService())\n                                   .addService(ProtoReflectionService.newInstance())\n                                   .build());\n"})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Added ",(0,s.jsx)(i.code,{children:"StreamMessage.drailAll(...)"})," to simply collect all the elements from the ",(0,s.jsx)(i.code,{children:"StreamMessage"}),". ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1620",children:"#1620"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-java",children:'HttpResponse res = HttpResponse.of(HttpHeaders.of(HttpStatus.OK)\n                                              .contentType(PLAIN_TEXT_UTF_8),\n                                   HttpData.ofUtf8("bob"),\n                                   HttpHeaders.of(CONTENT_MD5, "hash"));\n// Simply collect all the elements.\nList<HttpObject> drained = res.drainAll().join();\nassertThat(drained).containsExactly(\n        HttpHeaders.of(HttpStatus.OK)\n                   .contentType(PLAIN_TEXT_UTF_8),\n        HttpData.of(StandardCharsets.UTF_8, "bob"),\n        HttpHeaders.of(CONTENT_MD5, "hash"));\n'})}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["A user is able to see the HTTP trailers in a ",(0,s.jsx)(i.code,{children:"RequestLog"}),". ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1614",children:"#1614"})]}),"\n"]}),"\n"]}),"\n","\n",(0,s.jsx)(i.h2,{id:"improvements",children:"Improvements"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Added more logging to ",(0,s.jsx)(i.code,{children:"SamlService"})," to inform the reasons of the failure. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1629",children:"#1629"})]}),"\n",(0,s.jsxs)(i.li,{children:["Various documentation updates. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1604",children:"#1604"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1607",children:"#1607"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1610",children:"#1610"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1611",children:"#1611"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1613",children:"#1613"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1618",children:"#1618"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1626",children:"#1626"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1627",children:"#1627"}),", ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1628",children:"#1628"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"bug-fixes",children:"Bug fixes"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Fixed a bug where HTTP trailers is added to message headers. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1620",children:"#1620"})]}),"\n",(0,s.jsxs)(i.li,{children:["Fixed a bug where the TLS handshake exception pollutes the log message. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1612",children:"#1612"})]}),"\n",(0,s.jsxs)(i.li,{children:["Fixed a bug where Server-Sent Events messages miss the ",(0,s.jsx)(i.code,{children:"end-of-line"})," character. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1610",children:"#1610"})]}),"\n",(0,s.jsxs)(i.li,{children:["Fixed an API design flaw where a user cannot specify more than one decorator when adding a ",(0,s.jsx)(i.code,{children:"ServiceWithPathMappings"}),". ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1627",children:"#1627"})]}),"\n",(0,s.jsxs)(i.li,{children:["Fixed a bug where ",(0,s.jsx)(i.code,{children:"contentPreview"})," is not working correctly. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1624",children:"#1624"})]}),"\n",(0,s.jsxs)(i.li,{children:["Fixed a bug where a ",(0,s.jsx)(i.code,{children:"StackOverFlowError"})," is raised while finding annotations in ",(0,s.jsx)(i.code,{children:"AnnotationUtil"}),". ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1635",children:"#1635"})]}),"\n",(0,s.jsxs)(i.li,{children:["Fixed a bug where the Armeria actuator sends the response with the incorrect media type. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1641",children:"#1641"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"breaking-change",children:"Breaking Change"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.code,{children:"HttpHeaders"})," is added to ",(0,s.jsx)(i.code,{children:"get()"})," in ",(0,s.jsx)(i.code,{children:"HttpVfs"})," as a parameter. ",(0,s.jsx)(i.a,{href:"https://github.com/line/armeria/issues/1615",children:"#1615"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["A user can easily add the ",(0,s.jsx)(i.code,{children:"HttpHeaders"})," when building an ",(0,s.jsx)(i.code,{children:"HttpFile"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Caffeine 2.6.2 -> 2.7.0"}),"\n",(0,s.jsx)(i.li,{children:"Curator 4.1.0 -> 4.2.0"}),"\n",(0,s.jsx)(i.li,{children:"gRPC 1.18.0 -> 1.19.0"}),"\n",(0,s.jsx)(i.li,{children:"Hibernate Validator 6.0.14 -> 6.0.15"}),"\n",(0,s.jsx)(i.li,{children:"Jetty 9.4.14 -> 9.4.15"}),"\n",(0,s.jsx)(i.li,{children:"protobuf-java 3.5.1 -> 3.6.1"}),"\n",(0,s.jsx)(i.li,{children:"RxJava 2.2.6 -> 2.2.7"}),"\n",(0,s.jsx)(i.li,{children:"SLF4J 1.7.25 -> 1.7.26"}),"\n",(0,s.jsx)(i.li,{children:"Spring Boot 2.1.2 -> 2.1.3"}),"\n"]})]})}function o(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);