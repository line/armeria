"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[61],{28453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>o});var i=n(96540);const a={},s=i.createContext(a);function t(e){const r=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(s.Provider,{value:r},e.children)}},48873:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"1.12.0","title":"v1.12.0","description":"\ud83c\udf38 Highlights","source":"@site/src/content/release-notes/1.12.0.mdx","sourceDirName":".","slug":"/1.12.0","permalink":"/release-notes/1.12.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/1.12.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2021-10-07T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.13.0","permalink":"/release-notes/1.13.0"},"next":{"title":"v1.11.0","permalink":"/release-notes/1.11.0"}}');var a=n(74848),s=n(28453);const t={date:new Date("2021-10-07T00:00:00.000Z")},o="v1.12.0",c={},l=[{value:"\ud83c\udf38 Highlights",id:"-highlights",level:2},{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"gRPC",id:"grpc",level:3},{value:"Kotlin",id:"kotlin",level:3},{value:"Spring integration",id:"spring-integration",level:3},{value:"GraphQL",id:"graphql",level:3},{value:"\ud83d\udcc3 Documentation",id:"-documentation",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\ud83c\udfda\ufe0f Deprecations",id:"\ufe0f-deprecations",level:2},{value:"\u2622\ufe0f Breaking changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{ThankYou:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.header,{children:[(0,a.jsx)(r.h1,{id:"v1120",children:"v1.12.0"}),(0,a.jsx)(r.p,{children:(0,a.jsx)(r.em,{children:"October 7, 2021"})})]}),"\n",(0,a.jsx)(r.h2,{id:"-highlights",children:"\ud83c\udf38 Highlights"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now enable ",(0,a.jsx)(r.a,{href:"https://cloud.google.com/endpoints/docs/grpc/transcoding",children:"HTTP/JSON to GRPC transcoding"}),"\nin your ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcService.html",children:"GrpcService"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3786",children:"#3786"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"GrpcService.builder()\n           .addService(helloService)\n           .enableHttpJsonTranscoding(true) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n           .build();\n"})}),"\n",(0,a.jsx)(r.admonition,{type:"tip",children:(0,a.jsx)(r.p,{children:"HTTP/JSON transcoding is currently experimental. We're looking forward to your feedback."})}),"\n"]}),"\n"]}),"\n","\n",(0,a.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now bind a virtual host to a specific port. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3798",children:"#3798"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3833",children:"#3833"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'Server.builder()\n      .http(8080)\n      .http(18080)\n      // Bind the virtual host to 18080 port.\n      .virtualHost(18080).service("/health", healthCheckService) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n                         .serviceUnder("/secret/", secretService)\n      .and()\n      ...\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now customize any HTTP error status responses including a decoder-level error and\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpStatusException.html",children:"HttpStatusException"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3822",children:"#3822"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3853",children:"#3853"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"ServerBuilder sb = ...\nsb.errorHandler(new ServerErrorHandler() {\n    @Override\n    public HttpResponse onServiceException(ServiceRequestContext ctx, Throwable cause) {\n        // Convert an error that is raised in a service or a decorator.\n        if (cause instanceof IllegalArgumentException) {\n            return HttpResponse.of(HttpStatus.BAD_REQUEST);\n        }\n        ...\n    }\n\n    @Override\n    public AggregatedHttpResponse onProtocolViolation(ServiceConfig config,\n                                                      HttpStatus status,\n                                                      @Nullable String description,\n                                                      @Nullable Throwable cause) {\n        // Convert the decoder-level error.\n        if (status == HttpStatus.REQUEST_ENTITY_TOO_LARGE) {\n            return AggregatedHttpResponse.of(HttpStatus.BAD_REQUEST);\n        }\n        ...\n    }\n\n    @Override\n    public AggregatedHttpResponse renderStatus(ServiceConfig config,\n                                               HttpStatus status,\n                                               @Nullable String description,\n                                               @Nullable Throwable cause) {\n        // Convert the given error status and cause.\n        ...\n    }\n})\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now share ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/limit/ConcurrencyLimit.html",children:"ConcurrencyLimit"})," between ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/limit/ConcurrencyLimitingClient.html",children:"ConcurrencyLimitingClient"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3478",children:"#3478"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3753",children:"#3753"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3860",children:"#3860"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"ConcurrencyLimit limit = ConcurrencyLimit.of(64); // Can send 64 requests concurrently.\n\nWebClient client1 = WebClient\n  .builder(...)\n  .decorator(ConcurrencyLimitingClient.newDecorator(limit))\n  .build(...);\n\nWebClient client2 = WebClient\n  .builder(...)\n  .decorator(ConcurrencyLimitingClient.newDecorator(limit))\n  // different options\n  ...\n  .build(...);\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now allow all headers in ",(0,a.jsx)(r.code,{children:"Access-Control-Request-Headers"})," from a\n",(0,a.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request",children:"preflight request"})," using\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/cors/CorsServiceBuilder.html#allowAllRequestHeaders(boolean)",children:"CorsServiceBuilder#allowAllRequestHeaders(boolean)"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3839",children:"#3839"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3843",children:"#3843"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'ServerBuilder sb = ...\nsb.service("/cors", myService.decorate(CorsService.builder("http://example.com")\n                                                  .allowRequestMethods(HttpMethod.GET)\n                                                  .allowAllRequestHeaders(true) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n                                                  .newDecorator()));\n'})}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Specifying ",(0,a.jsx)(r.code,{children:"*"})," in ",(0,a.jsx)(r.code,{children:"Access-Control-Allow-Headers"})," does not work with\n",(0,a.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers#browser_compatibility",children:"certain browsers"}),"\nso you should use ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/cors/CorsServiceBuilder.html#allowAllRequestHeaders(boolean)",children:"CorsServiceBuilder#allowAllRequestHeaders(boolean)"})," to allow all headers."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now sanitize the preview of a request or a response. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3791",children:"#3791"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3795",children:"#3795"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"ContentPreviewingService.builder(ContentPreviewerFactory.text(100))\n                        .requestPreviewSanitizer(requestPreviewSanitizer) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n                        .responsePreviewSanitizer(responsePreviewSanitizer) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n                        .newDecorator();\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["A compressed file is automatically decompressed if ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/FileServiceBuilder.html#autoDecompress(boolean)",children:"FileServiceBuilder#autoDecompress(boolean)"}),"\nis set to ",(0,a.jsx)(r.code,{children:"true"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3804",children:"#3804"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3810",children:"#3810"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'FileService.builder(FileServiceBuilderTest.class.getClassLoader(), "/")\n           .serveCompressedFiles(true) // This should be set to true to serve compressed files.\n           .autoDecompress(true) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n           .build();\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now send a delayed ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html",children:"HttpResponse"})," using ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html#delayed(java.util.function.Supplier,java.time.Duration)",children:"HttpResponse#delayed(Supplier,Duration)"}),".\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3698",children:"#3698"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3770",children:"#3770"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"Supplier<HttpResponse> responseSupplier = ...\nHttpResponse.delayed(responseSupplier, Duration.ofSeconds(5)); // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now specify different blocking task executors for different ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpService.html",children:"HttpService"})," using\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceBindingBuilder.html",children:"ServiceBindingBuilder"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3740",children:"#3740"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3754",children:"#3754"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'Server.builder()\n      .route()\n      .get("/foo")\n      .blockingTaskExecutor(fooExecutor) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n      .build(fooService)\n      .route()\n      .get("/bar")\n      .blockingTaskExecutor(barExecutor) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n      .build(barService)\n      .build()\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now specify an ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/auth/AuthToken.html",children:"AuthToken"})," when building a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/healthcheck/HealthCheckedEndpointGroup.html",children:"HealthCheckedEndpointGroup"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3809",children:"#3809"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'HealthCheckedEndpointGroup.builder(endpointGroup, "/health")\n                          .auth(AuthToken.ofOAuth2("..."))\n                          .build();\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now export different properties for different ",(0,a.jsx)(r.a,{href:"typeplural://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logback/RequestContextExportingAppender.html",children:"RequestContextExportingAppender"})," to log\nwith ",(0,a.jsx)(r.a,{href:"http://logback.qos.ch",children:"Logback"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3775",children:"#3775"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3769",children:"#3769"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'// logback.xml\n<appender name="RCEA1" class="com.linecorp.armeria.common.logback.RequestContextExportingAppender">\n  ...\n  <export>remote.ip</export>\n</appender>\n\n<appender name="RCEA2" class="com.linecorp.armeria.common.logback.RequestContextExportingAppender">\n  ...\n  <export>remote.port</export>\n</appender>\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now log HTTP/2 frames using the frame loggers. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3817",children:"#3817"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:'\x3c!-- logback.xml --\x3e\n<logger name="com.linecorp.armeria.logging.traffic.server.http2" level="TRACE" />\n<logger name="com.linecorp.armeria.logging.traffic.client.http2" level="TRACE" />\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"grpc",children:"gRPC"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You can now use ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/UnframedGrpcErrorHandler.html",children:"UnframedGrpcErrorHandler"})," to map a non-OK gRPC status to an ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html",children:"HttpResponse"}),"\nin an unframed gRPC service. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3777",children:"#3777"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3782",children:"#3782"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"GrpcService.builder()\n           .addService(grpcService)\n           .enableUnframedRequests(true) // This should be set to true to enable UnframedGrpcService.\n           .unframedGrpcErrorHandler(UnframedGrpcErrorHandler.of()) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n           .build();\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"kotlin",children:"Kotlin"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You can now use Kotlin ",(0,a.jsx)(r.a,{href:"https://kotlinlang.org/docs/flow.html",children:"Flow"})," as a return type in an annotated service.\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3756",children:"#3756"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3768",children:"#3768"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-kotlin",children:'@Get("/members")\n@ProducesJson\nfun listMembers() = flow { // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n    emit(Member(name = "foo", age = 10))\n    emit(Member(name = "bar", age = 20))\n    emit(Member(name = "baz", age = 30))\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"spring-integration",children:"Spring integration"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You can now configure an internal port with a Spring property file. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3798",children:"#3798"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3833",children:"#3833"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"armeria:\n  ports:\n    - port: 8080\n  internal-services:\n    # Prometheus exposition and health check service will be\n    # exposed to 18080 port. The requests to 8080 port will return 404 Not Found.\n    include: metrics, health\n    port: 18080 # \ud83d\udc48\ud83d\udc48\ud83d\udc48\n    protocols: http\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["You can now specify all parameters of ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html",children:"ServerBuilder"})," with a Spring property file. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3705",children:"#3705"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3735",children:"#3735"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"armeria:\n  ports:\n    - port: 0\n  max-num-connections: 8\n  idle-timeout: 2s\n  ping-interval: 1s\n  max-connection-age: 4s\n  max-num-requests-per-connection: 4\n  http2-initial-connection-window-size: 2mb\n  http2-initial-stream-window-size: 4mb\n  http2-max-streams-per-connection: 1\n  ...\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"graphql",children:"GraphQL"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You can now specify a ",(0,a.jsx)(r.code,{children:"GraphQLSchema"})," or ",(0,a.jsx)(r.code,{children:"schemaUrls"})," when building a ",(0,a.jsx)(r.a,{href:"type://#",children:"GraphQlService"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3708",children:"#3708"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3815",children:"#3815"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'GraphQLSchema schema = ...\nsb.service("/graphql", GraphqlService.builder()\n                                     .schema(schema) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n                                     ...\n                                     .build());\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-documentation",children:"\ud83d\udcc3 Documentation"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You can now learn ",(0,a.jsx)(r.a,{href:"https://armeria.dev/docs/advanced-streaming-backpressure",children:"how to write a streaming response"}),"\nusing backpressure. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3397",children:"#3397"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3847",children:"#3847"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html",children:"ServiceRequestContext"})," is now automatically propagated to other dispatchers\nover ",(0,a.jsx)(r.a,{href:"https://kotlinlang.org/docs/coroutines-overview.html",children:"Kotlin Coroutines"})," when\nusing annotated and gRPC services. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3745",children:"#3745"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3849",children:"#3849"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/jetty/JettyService.html",children:"JettyService"})," and ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/tomcat/TomcatService.html",children:"TomcatService"})," can now run the Servlets that\ndepends on the TLS attributes. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3850",children:"#3850"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerConfig.html#server()",children:"ServerConfig#server()"})," doesn't raise an ",(0,a.jsx)(r.code,{children:"IllegalStateException"})," anymore\nafter ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Server.html#reconfigure(com.linecorp.armeria.server.ServerConfigurator)",children:"Server#reconfigure(ServerConfigurator)"})," is called. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3853",children:"#3853"})]}),"\n",(0,a.jsxs)(r.li,{children:["The ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLog.html",children:"RequestLog"})," is complete on the server-side even when an exception is raised and deferred values\nare not set. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3823",children:"#3823"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ResponseConverterFunctionProvider.html",children:"ResponseConverterFunctionProvider"})," now correctly works for suspending functions whose return type is\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/HttpResult.html",children:"HttpResult"})," in Kotlin. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3844",children:"#3844"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"%2F"})," and ",(0,a.jsx)(r.code,{children:"%2f"})," are no longer converted to ",(0,a.jsx)(r.code,{children:"/"})," when decoding a request path. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3855",children:"#3855"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ExceptionHandlerFunction.html",children:"ExceptionHandlerFunction"})," of an annotated service now correctly handles exceptions raised by\nservice decorators. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3835",children:"#3835"})]}),"\n",(0,a.jsxs)(r.li,{children:["You can now correctly send additional response headers even if the request has failed. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3836",children:"#3836"})]}),"\n",(0,a.jsxs)(r.li,{children:["The ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLog.html",children:"RequestLog"})," is complete on the server-side even when an exception is raised and deferred values\nare not set. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3823",children:"#3823"})]}),"\n",(0,a.jsxs)(r.li,{children:["The failed request to a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/TransientService.html",children:"TransientService"})," is now logged properly. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3818",children:"#3818"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer see a pseudo request header in a response headers. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3801",children:"#3801"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer see a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ClosedSessionException.html",children:"ClosedSessionException"})," when a server gracefully shut down an HTTP/2 connection.\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3825",children:"#3825"})]}),"\n",(0,a.jsxs)(r.li,{children:["A response headers of a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcService.html",children:"GrpcService"})," is now correctly sent when the first response frame\nis sent. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3856",children:"#3856"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcService.html",children:"GrpcService"})," now correctly invokes ",(0,a.jsx)(r.code,{children:"Server.Listener"})," in order. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3805",children:"#3805"})]}),"\n",(0,a.jsxs)(r.li,{children:["gRPC client calls are now closed exactly once. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3799",children:"#3799"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3800",children:"#3800"})]}),"\n",(0,a.jsxs)(r.li,{children:["Throwing an ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/grpc/protocol/ArmeriaStatusException.html",children:"ArmeriaStatusException"})," now overrides the gRPC status code and description as expected.\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3838",children:"#3838"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-deprecations",children:"\ud83c\udfda\ufe0f Deprecations"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/saml/SamlAssertionConsumerConfigBuilder.html#endpoint(com.linecorp.armeria.server.saml.SamlEndpoint)",children:"SamlAssertionConsumerConfigBuilder#endpoint(SamlEndpoint)"})," is deprecated. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3813",children:"#3813"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Use ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/saml/SamlServiceProviderBuilder.html#acs(com.linecorp.armeria.server.saml.SamlEndpoint)",children:"SamlServiceProviderBuilder#acs(SamlEndpoint)"})," instead."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-breaking-changes",children:"\u2622\ufe0f Breaking changes"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"ExceptionHandler"})," is now gone. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3853",children:"#3853"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Use ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerErrorHandler.html",children:"ServerErrorHandler"})," instead."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Bucket4j 6.2.0 \u2192 6.3.0"}),"\n",(0,a.jsx)(r.li,{children:"Dropwizard 2.0.24 \u2192 2.0.25"}),"\n",(0,a.jsx)(r.li,{children:"Dropwizard metrics 4.2.3 \u2192 4.2.4"}),"\n",(0,a.jsx)(r.li,{children:"GraphQL-Java 17.1 \u2192 17.3"}),"\n",(0,a.jsx)(r.li,{children:"gRPC-Java 1.40.1 \u2192 1.41.0"}),"\n",(0,a.jsx)(r.li,{children:"Jackson 2.12.4 \u2192 2.13.0"}),"\n",(0,a.jsx)(r.li,{children:"java-jwt 3.18.1 \u2192 3.18.2"}),"\n",(0,a.jsx)(r.li,{children:"Kotlin 1.5.10 \u2192 1.5.21"}),"\n",(0,a.jsx)(r.li,{children:"Kafka 2.8.0 -> 3.0.0"}),"\n",(0,a.jsx)(r.li,{children:"Kotlin 1.5.21 \u2192 1.5.31"}),"\n",(0,a.jsx)(r.li,{children:"Kotlin Coroutines 1.5.1 \u2192 1.5.2"}),"\n",(0,a.jsx)(r.li,{children:"Logback 1.2.5 \u2192 1.2.6"}),"\n",(0,a.jsx)(r.li,{children:"Micrometer 1.7.3 \u2192 1.7.4"}),"\n",(0,a.jsx)(r.li,{children:"Netty 4.1.66 \u2192 4.1.68"}),"\n",(0,a.jsx)(r.li,{children:"netty-tcnative-boringssl-static 2.0.40 \u2192 2.0.43"}),"\n",(0,a.jsx)(r.li,{children:"Prometheus simpleclient 0.11.0 \u2192 0.12.0"}),"\n",(0,a.jsx)(r.li,{children:"Reactor 3.4.9 \u2192 3.4.10"}),"\n",(0,a.jsx)(r.li,{children:"RESTEasy 4.7.1 \u2192 4.7.2"}),"\n",(0,a.jsx)(r.li,{children:"RxJava 3.1.0 \u2192 3.1.1"}),"\n",(0,a.jsx)(r.li,{children:"scala-java8-compat 1.0.0 \u2192 1.0.1"}),"\n",(0,a.jsx)(r.li,{children:"Spring 5.3.9 \u2192 5.3.10"}),"\n",(0,a.jsx)(r.li,{children:"Spring Boot 2.5.4 \u2192 2.5.5"}),"\n",(0,a.jsx)(r.li,{children:"Thrift 0.14.2 \u2192 0.15.0"}),"\n",(0,a.jsx)(r.li,{children:"Tomcat 9.0.46 \u2192 9.0.53"}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,a.jsx)(n,{usernames:["anuraaga","berry120","fantayeneh","freevie","ghkim3221","heowc","ikhoon","jasper-vandemalle","jrhee17","kezhenxu94","ks-yim","minwoox","TheWeaVer","trustin","vivekkothari"]})]})}function d(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);