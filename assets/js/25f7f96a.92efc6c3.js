"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[9929],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var i=r(96540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},75254:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"1.2.0","title":"v1.2.0","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/1.2.0.mdx","sourceDirName":".","slug":"/1.2.0","permalink":"/release-notes/1.2.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/1.2.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2020-10-22T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.3.0","permalink":"/release-notes/1.3.0"},"next":{"title":"v1.1.0","permalink":"/release-notes/1.1.0"}}');var s=r(74848),t=r(28453);const a={date:new Date("2020-10-22T00:00:00.000Z")},c="v1.2.0",o={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\ud83c\udfda\ufe0f Deprecations",id:"\ufe0f-deprecations",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{ThankYou:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.header,{children:[(0,s.jsx)(n.h1,{id:"v120",children:"v1.2.0"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"October 22, 2020"})})]}),"\n",(0,s.jsx)(n.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can now bind a ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcService.html",children:"GrpcService"})," to a custom route path. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3072",children:"#3072"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3083",children:"#3083"}),"\nThis is useful if you want to serve an unframed gRPC service with RESTful routes."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"ServerBuilder sb = ...\nsb.service(GrpcService.builder()\n                      // Bind 'getProfile()' method to '/v1/api/users/profile'\n                      .addService(\"/v1/api/users/profile\", userService,\n                                  UserServiceGrpc.getProfile())\n                      // Bind 'getFriends()' method to '/v1/api/users/friends'\n                      .addService(\"/v1/api/users/friends\", userService,\n                                  UserServiceGrpc.getFriends())\n                      .build());\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can now use ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/encoding/DecodingService.html",children:"DecodingService"})," for decoding a compressed request. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1521",children:"#1521"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3087",children:"#3087"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can now use ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html#ofRedirect(java.lang.String)",children:"HttpResponse#ofRedirect(String)"})," for easily sending a redirect response. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/914",children:"#914"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3059",children:"#3059"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// The status is HttpStatus.TEMPORARY_REDIRECT.\nHttpResponse.ofRedirect("/new-location");\nHttpResponse.ofRedirect("/new-location/%s", someVar);\n// Redirect with the specified redirection status.\nHttpResponse.ofRedirect(HttpStatus.MOVED_PERMANENTLY, "/new-location");\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can now choose a path when a Thrift/gRPC service has more than one path\nin the ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"}),". ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/2167",children:"#2167"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3024",children:"#3024"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can now cancel a service's request or client's response with ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/CancellationException.html",children:"CancellationException"})," or\nany ",(0,s.jsx)(n.code,{children:"Throwable"})," using ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#cancel()",children:"RequestContext#cancel()"})," or\n",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#cancel(java.lang.Throwable)?full",children:"RequestContext#cancel(Throwable)"}),". ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3046",children:"#3046"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3080",children:"#3080"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'ClientRequestContext cctx = ...;\n// Cancel a client\'s response with ResponseCancellationException\ncctx.cancel();\ncctx.cancel(new RuntimeException("A custom error message"));\n\nServiceRequestContext sctx = ...;\n// Cancel a service\'s request with RequestCancellationException\nsctx.cancel();\nsctx.cancel(new RuntimeException("A custom error message"));\n'})}),"\n"]}),"\n"]}),"\n","\n",(0,s.jsx)(n.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Do not launch two servers if both ",(0,s.jsx)(n.code,{children:"armeria-spring-boot2-autoconfigure"})," and\n",(0,s.jsx)(n.code,{children:"armeria-spring-boot2-webflux-autoconfigure"})," are in the class path. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3056",children:"#3056"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3102",children:"#3102"})]}),"\n",(0,s.jsxs)(n.li,{children:["You no longer see a previously selected input when the input box of ",(0,s.jsx)(n.code,{children:"Go to"})," menu is clicked. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3095",children:"#3095"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You now get proper 404 Not Found status when ",(0,s.jsx)(n.code,{children:"routeDecorator()"})," is used and\nthe endpoint of the request doesn't exist. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3120",children:"#3120"})]}),"\n",(0,s.jsxs)(n.li,{children:["You no longer see duplicated MDC keys anymore when ",(0,s.jsx)(n.code,{children:"armeria-logback"})," is applied. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3044",children:"#3044"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3105",children:"#3105"})]}),"\n",(0,s.jsxs)(n.li,{children:["You can now get the normal response even though the request is not fully sent. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3115",children:"#3115"})]}),"\n",(0,s.jsxs)(n.li,{children:["You can now use milliseconds as an interval unit in ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/eureka/EurekaEndpointGroup.html",children:"EurekaEndpointGroup"}),". ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3108",children:"#3108"})]}),"\n",(0,s.jsxs)(n.li,{children:["You no longer see ",(0,s.jsx)(n.code,{children:"UNKNOWN"})," error code while sending stream messages with Reactive gRPC stub. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3090",children:"#3090"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3099",children:"#3099"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TTEXT_NAMED_ENUM"})," now correctly serializes enums when used inside maps. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3091",children:"#3091"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/brave/BraveClient.html",children:"BraveClient"})," and ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/brave/BraveService.html",children:"BraveService"})," do not override\nthe default ",(0,s.jsx)(n.code,{children:"(Client|Server)(Request|Response)Parser"})," anymore. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3023",children:"#3023"})," ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3111",children:"#3111"})]}),"\n",(0,s.jsxs)(n.li,{children:["Armeria client now sets the default path(",(0,s.jsx)(n.code,{children:"/"}),") properly if a path is empty. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3098",children:"#3098"})]}),"\n",(0,s.jsxs)(n.li,{children:["You no longer see an outdated JS bundle in the browser\nwhen the ",(0,s.jsx)(n.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"})," page is rebuilt. ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3094",children:"#3094"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-deprecations",children:"\ud83c\udfda\ufe0f Deprecations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The following methods have been deprecated in favor of their ",(0,s.jsx)(n.code,{children:"millis"}),"-accepting versions: ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3108",children:"#3108"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"EurekaEndpointGroupBuilder.registryFetchIntervalSeconds()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"EurekaUpdatingServerListener.leaseDurationSeconds()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"EurekaUpdatingServerListener.renewalIntervalSeconds()"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["The following methods have been deprecated in favor of their ",(0,s.jsx)(n.code,{children:"*Cancelling"})," and ",(0,s.jsx)(n.code,{children:"*Cancelled"})," versions: ",(0,s.jsx)(n.a,{href:"https://github.com/line/armeria/issues/3080",children:"#3080"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"ClientRequestContext.whenResponseTimingOut()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"ClientRequestContext.whenResponseTimedOut()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"ServiceRequestContext.whenRequestTimingOut()"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"type://#",children:"ServiceRequestContext.whenRequestTimedOut()"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Brave 5.12.6 \u2192 5.12.7"}),"\n",(0,s.jsx)(n.li,{children:"Caffeine 2.8.5 \u2192 2.8.6"}),"\n",(0,s.jsx)(n.li,{children:"Dropwizard 1.3.24 \u2192 1.3.25"}),"\n",(0,s.jsx)(n.li,{children:"Dropwizard Metrics 4.1.12.1 \u2192 4.1.13"}),"\n",(0,s.jsx)(n.li,{children:"Eureka 1.9.26 \u2192 1.10.7"}),"\n",(0,s.jsx)(n.li,{children:"gRPC-Java 1.32.1 \u2192 1.33.0"}),"\n",(0,s.jsx)(n.li,{children:"Guava 29.0 \u2192 30.0"}),"\n",(0,s.jsx)(n.li,{children:"java-jwt 3.10.3 \u2192 3.11.0"}),"\n",(0,s.jsx)(n.li,{children:"Jetty 9.4.31 \u2192 9.4.32"}),"\n",(0,s.jsx)(n.li,{children:"Micrometer 1.3.12 \u2192 1.3.14"}),"\n",(0,s.jsx)(n.li,{children:"Netty 4.1.52 \u2192 4.1.53"}),"\n",(0,s.jsx)(n.li,{children:"RxJava2 2.2.19 \u2192 2.2.20"}),"\n",(0,s.jsx)(n.li,{children:"RxJava3 3.0.6 \u2192 3.0.7"}),"\n",(0,s.jsx)(n.li,{children:"Spring Boot 2.1.16 \u2192 2.1.17"}),"\n",(0,s.jsx)(n.li,{children:"Spring 5.1.17 \u2192 5.1.18"}),"\n",(0,s.jsx)(n.li,{children:"Tomcat8 8.5.57 \u2192 8.5.58"}),"\n",(0,s.jsx)(n.li,{children:"Tomcat9 9.0.38 \u2192 9.0.39"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,s.jsx)(r,{usernames:["anuraaga","cnabro","codefromthecrypt","ghkim3221","heowc","ikhoon","joonhaeng","jrhee17","KarboniteKream","kojilin","kowshikn","minwoox","policeman-kh","trustin","tumile"]})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);