---
date: 2020-09-22
---

## 🌟 New features

- You can now inject your own <type://MeterIdPrefixFunction> when using Armeria Spring Boot integration. #3034
  ```java
  @Bean
  public MeterIdPrefixFunction myMeterIdPrefixFunction() {
      return MeterIdPrefixFunction.of("custom.armeria.server");
  }
  ```
- You can now disable TLS verification for certain hosts only. #2722 #3057
  ```java
  ClientFactoryBuilder builder = ...
  // You should never use this in production but only for a testing purpose.
  builder.tlsNoVerifyHosts("trustin.com", "trustus.com");
  ```
- You can now use a string to specify the `Logger` for <type://LoggingService> and <type://LoggingClient>. #3035
  ```java
  ServerBuilder sb = ...
  sb.decorator(LoggingService.builder()
                             .logger("com.foo")
                             .build());
  ```

## 📈 Improvements

- <type://RequestLog#serviceName()> is now used as a span name if you use the default `HttpRequestParser`
  and `HttpResponseParser` with <type://BraveClient> and <type://BraveService> for recognizing
  a span easily. #3023
- You can now easily find out whether SPI service interfaces are applied from the logs. #3039
- You can now get the log of the exception which is raised while converting a <type://RequestLog> into a
  `String`. #3043
- The stack trace of <type://HttpStatusException> and <type://HttpResponseException> are not logged anymore by
  <type://LoggingService> because a user already knows where they are come from. #3053, #3054

## 🛠️ Bug fixes

- `TimeoutScheduler` is now initialized exactly once. #3066
- Reactor subscriber context is now properly propagated. #3058
- Armeria Spring Boot integration collects metrics correctly if <type://ArmeriaSettings#enableMetrics>
is `true`. #3048
- You now see the proper exception from WebFlux `WebClient` when <type://CircuitBreakerClient> is applied. #3064
- Armeria client now rejects a `PUSH_PROMISE` frame correctly because it doesn't support it yet. #3045
  - `SETTINGS_ENABLE_PUSH` is now disabled.
- Armeria gRPC server does not raise a `NullPointerException` anymore when a gRPC server interceptor closes
  the `ServerCall`. #3022

## ⛓ Dependencies

- Brave 5.12.4 → 5.12.6
- Dropwizard 2.0.12 → 2.0.13
- gRPC 1.31.1 → 1.32.1
- grpc-kotlin-stub 0.1.5 → 0.2.0
- Micrometer 1.5.4 → 1.5.5
- Netty 4.1.51.FINAL → 4.1.52.FINAL
  - netty-tcnative-boringssl-static 2.0.31.Final → 2.0.34.Final
- Tomcat 9.0.37 → 9.0.38
- org.jetbrains.kotlinx 1.3.8 → 1.3.9
- Spring 5.2.8.RELEASE → 5.2.9.RELEASE
- Spring Boot 2.3.3.RELEASE → 2.3.4.RELEASE
- Examples:
  - Dagger 2.28.3 → 2.29.1
  - monix-reactive_2.13 3.2.2+43-36c1ada8 → 3.2.2+45-5c6c8b9e
  - org.jetbrains.kotlin 1.3.72 → 1.4.10

## 🙇 Thank you

<ThankYou
  usernames={[
    'aanrii',
    'anuraaga',
    'codefromthecrypt',
    'eonezhang',
    'ghkim3221',
    'ikhoon',
    'kojilin',
    'mauhiz',
    'minwoox',
    'okue',
    'rickyrattlesnake',
    'trustin',
    'tumile',
    'wooyeong',
  ]}
/>
