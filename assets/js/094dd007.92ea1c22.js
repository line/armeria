"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[5485],{28453:(e,r,i)=>{i.d(r,{R:()=>s,x:()=>c});var a=i(96540);const n={},t=a.createContext(n);function s(e){const r=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),a.createElement(t.Provider,{value:r},e.children)}},73531:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"1.29.0","title":"v1.29.0","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/1.29.0.mdx","sourceDirName":".","slug":"/1.29.0","permalink":"/release-notes/1.29.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/1.29.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2024-06-12T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.29.1","permalink":"/release-notes/1.29.1"},"next":{"title":"v1.28.4","permalink":"/release-notes/1.28.4"}}');var n=i(74848),t=i(28453);const s={date:new Date("2024-06-12T00:00:00.000Z")},c="v1.29.0",o={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\ud83c\udfda\ufe0f Deprecations",id:"\ufe0f-deprecations",level:2},{value:"\u2622\ufe0f Breaking changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{ThankYou:i}=r;return i||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.header,{children:[(0,n.jsx)(r.h1,{id:"v1290",children:"v1.29.0"}),(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"June 12, 2024"})})]}),"\n",(0,n.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["Armeria ",(0,n.jsx)(r.a,{href:"https://cloud.google.com/endpoints/docs/grpc/transcoding",children:"HTTP/JSON to GRPC transcoding"})," service now\nsupports ",(0,n.jsx)(r.a,{href:"https://cloud.google.com/apis/design/custom_methods",children:"Custom methods"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5613",children:"#5613"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-protobuf",children:'rpc Watch(WatchRequest) returns (WatchResponse) {\n  option (google.api.http) = {\n    post: "/v1:watch" // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n    body: "*"\n  };\n}\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now specify when to remove multipart temporary files using ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/MultipartRemovalStrategy.html",children:"MultipartRemovalStrategy"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5652",children:"#5652"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5653",children:"#5653"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"Server\n  .builder()\n  .multipartRemovalStrategy(\n    MultipartRemovalStrategy.ON_RESPONSE_COMPLETION)\n  ...\n"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["The default value is now ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/MultipartRemovalStrategy.html#ON_RESPONSE_COMPLETION",children:"MultipartRemovalStrategy#ON_RESPONSE_COMPLETION"})," which removes\nthe temporary files when the response is completed."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["A ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/ClientConnectionTimings.html",children:"ClientConnectionTimings"})," now includes the time spent on the TLS handshake. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3647",children:"#3647"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5647",children:"#5647"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"ClientConnectionTimings timings = ...\nassert timings.tlsHandshakeDurationNanos() > 0;\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now configure ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/TlsEngineType.html",children:"TlsEngineType"})," using ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactoryBuilder.html",children:"ClientFactoryBuilder"})," or ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html",children:"ServerBuilder"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4962",children:"#4962"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"ClientFactory\n  .builder()\n  .tlsEngineType(TlsEngineType.OPENSSL) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n  .build();\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now easily find both dynamic and static decorators that handle a request\nvia ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#findService(java.lang.Class)",children:"ServiceRequestContext#findService(Class)"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5670",children:"#5670"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"ServerBuilder sb = ...\nsb.decorator(CorsService.builderForAnyOrigin().newDecorator());\n...\nServiceRequestContext ctx = ...\nCorsService corsService = ctx.findService(CorsService.class);\nassert corsService.config().isAnyOriginSupported();\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now use the marshaller specified by gRPC ",(0,n.jsx)(r.code,{children:"MethodDescriptor"})," by setting\n",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/grpc/GrpcClientBuilder.html#useMethodMarshaller(boolean)",children:"GrpcClientBuilder#useMethodMarshaller(boolean)"})," and\n",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#useMethodMarshaller(boolean)",children:"GrpcServiceBuilder#useMethodMarshaller(boolean)"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5103",children:"#5103"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5630",children:"#5630"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"GrpcClientBuilder builder = ...\nbuilder.useMethodMarshaller(true); // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n\nGrpcServiceBuilder builder = ...\nbuilder.useMethodMarshaller(true); // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now programmatically retrieve the server side metrics via ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerMetrics.html",children:"ServerMetrics"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4992",children:"#4992"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5627",children:"#5627"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"ServerMetrics metrics = serverConfig.serverMetrics();\nmetrics.activeConnections();\nmetrics.pendingRequests();\nmetrics.activeRequests();\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now use a ",(0,n.jsx)(r.a,{href:"type://#",children:"CoroutineHttpService"})," that runs your service in a coroutine scope. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5442",children:"#5442"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5603",children:"#5603"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:'ServerBuilder sb = ...\nsb.service(\n  "/hello",\n  CoroutineHttpService { ctx, req ->\n    HttpResponse.of("hello world")\n  })\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now specify options for an ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/HttpService.html",children:"HttpService"})," via ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceOptions.html",children:"ServiceOptions"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5071",children:"#5071"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5574",children:"#5574"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:'static final ServiceOptions SERVICE_OPTIONS =\n  ServiceOptions\n    .builder()\n    .requestTimeoutMillis(5000)\n    .maxRequestLength(1024)\n    .requestAutoAbortDelayMillis(1000)\n    .build();\n\nHttpService httpService = new HttpService() {\n  ...\n  @Override\n  public ServiceOptions options() {\n    return SERVICE_OPTIONS;\n  }\n};\n\n// Or use annotation for an annotated service.\nclass MyService {\n    @ServiceOption(requestTimeoutMillis = 5000, maxRequestLength = 1024)\n    @Get("/hello")\n    public HttpResponse hello() {\n        return HttpResponse.of("Hello!");\n    }\n}\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now inject a custom attribute from a ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html",children:"ServiceRequestContext"})," to an annotated service\nusing ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Attribute.html",children:"@Attribute"})," annotation. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5514",children:"#5514"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5547",children:"#5547"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:'class MyAttributes {\n  public static final AttributeKey<String> USERNAME =\n    AttributeKey.valueOf(MyAttributes.class, "USERNAME");\n}\n\nclass MyAnnotatedService {\n\n  @Get("/hello")\n  public HttpResponse hello(\n    @Attribute(prefix = MyAttributes.class, value = "USERNAME") // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n    String username) { ... }\n}\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now specify a graceful shutdown timeout for an HTTP/2 connection in ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactory.html",children:"ClientFactory"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5470",children:"#5470"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5489",children:"#5489"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"ClientFactory\n  .builder()\n  .http2GracefulShutdownTimeoutMillis(1000)\n  .build();\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now specify an ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/EndpointGroup.html",children:"EndpointGroup"})," when building a ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContext.html",children:"ClientRequestContext"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5292",children:"#5292"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5298",children:"#5298"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"ClientRequestContext ctx =\n  ClientRequestContext\n    .builder(request)\n    .endpointGroup(endpointGroup)\n    .build();\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now set a ",(0,n.jsx)(r.code,{children:"GraphQL"})," instance directly to the ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/graphql/GraphqlServiceBuilder.html",children:"GraphqlServiceBuilder"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5269",children:"#5269"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"GraphQL graphQL = new GraphQL.Builder(graphqlSchema).build();\nGraphqlServiceBuilder builder = ...\nbuilder.graphql(graphQL);\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now specify a delay to close an HTTP/1.1 connection from the server side, allowing the client an\nopportunity for active closing. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4849",children:"#4849"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5616",children:"#5616"})]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["You can now configure the maximum length of a TLS client hello message that a server allows by using the\n",(0,n.jsx)(r.code,{children:"-Dcom.linecorp.armeria.defaultMaxClientHelloLength=<integer>"})," JVM option. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5747",children:"#5747"})]}),"\n"]}),"\n"]}),"\n","\n",(0,n.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/xds/client/endpoint/XdsEndpointGroup.html",children:"XdsEndpointGroup"})," now supports ",(0,n.jsx)(r.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/slow_start",children:"Slow start mode"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5688",children:"#5688"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5693",children:"#5693"})]}),"\n",(0,n.jsxs)(r.li,{children:["Priority and locality based load balancing is now available for an ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/xds/client/endpoint/XdsEndpointGroup.html",children:"XdsEndpointGroup"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5610",children:"#5610"})]}),"\n",(0,n.jsxs)(r.li,{children:["You can now view connection related information in the request logs. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5730",children:"#5730"})]}),"\n",(0,n.jsxs)(r.li,{children:["CORS headers are added to responses even if an exception is raised while handling a request. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5632",children:"#5632"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AnnotatedService.html",children:"AnnotatedService"})," is now available through a public API. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5382",children:"#5382"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5628",children:"#5628"})]}),"\n",(0,n.jsxs)(r.li,{children:["The metrics for failed requests while retrying now include the cause of the failure. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5405",children:"#5405"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5583",children:"#5583"})]}),"\n",(0,n.jsxs)(r.li,{children:["The ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLog.html",children:"RequestLog"})," from a retrying client now includes the current attempt number. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5716",children:"#5716"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5719",children:"#5719"})]}),"\n",(0,n.jsxs)(r.li,{children:["A colon is now allowed in the path for binding a service. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4577",children:"#4577"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5676",children:"#5676"})]}),"\n",(0,n.jsxs)(r.li,{children:["Timer histogram metrics now repects user-provided ",(0,n.jsx)(r.code,{children:"serviceLevelObjectives"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5661",children:"#5661"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceErrorHandler.html#renderStatus(com.linecorp.armeria.server.ServiceRequestContext,com.linecorp.armeria.common.RequestHeaders,com.linecorp.armeria.common.HttpStatus,java.lang.String,java.lang.Throwable)",children:"ServiceErrorHandler#renderStatus(ServiceRequestContext,RequestHeaders,HttpStatus,String,Throwable)"}),"\ncan now access the current ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html",children:"ServiceRequestContext"})," if available. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5634",children:"#5634"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/saml/SamlSingleSignOnHandler.html#loginFailed(com.linecorp.armeria.server.ServiceRequestContext,com.linecorp.armeria.common.AggregatedHttpRequest,org.opensaml.messaging.context.MessageContext,java.lang.Throwable)",children:"SamlSingleSignOnHandler#loginFailed(ServiceRequestContext,AggregatedHttpRequest,MessageContext,Throwable)"}),"\ncan now access the ",(0,n.jsx)(r.a,{href:"type://#",children:"MessageContext"})," for error handling if available. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5401",children:"#5401"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5622",children:"#5622"})]}),"\n",(0,n.jsxs)(r.li,{children:["The copied cURL command from a doc service, is now quoted correctly. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5566",children:"#5566"})]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Fixed a bug where ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryingClient.html",children:"RetryingClient"})," gets to deadlock when ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/auth/oauth2/OAuth2Client.html",children:"OAuth2Client"})," fails to obtain\nan access token. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5715",children:"#5715"})]}),"\n",(0,n.jsxs)(r.li,{children:["Armeria client always uses HTTP/2 connection preface for ",(0,n.jsx)(r.code,{children:"h2c"}),", regardless of\nthe value of ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactoryOptions.html#useHttp2Preface()",children:"ClientFactoryOptions#useHttp2Preface()"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5706",children:"#5706"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/spring/ArmeriaServerConfigurator.html",children:"ArmeriaServerConfigurator"})," now properly overrides the properties set by ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/spring/ArmeriaSettings.html",children:"ArmeriaSettings"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5009",children:"#5009"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5692",children:"#5692"})]}),"\n",(0,n.jsxs)(r.li,{children:["Armeria server now returns a 408 status if a service didn't receive the request fully and\nthe request times out. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5579",children:"#5579"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5680",children:"#5680"})]}),"\n",(0,n.jsxs)(r.li,{children:["A ",(0,n.jsx)(r.code,{children:"NullPointerException"})," isn't raised anymore when running Armeria with a self-signed certificate. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5669",children:"#5669"}),"\nIt happened when the following conditions are all met:","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"DEBUG-level logging of JDK security event is enabled."}),"\n",(0,n.jsx)(r.li,{children:"A user has no Bouncy Castle dependency."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Description.html",children:"@Description"})," annotations at the super class or interface are now used for the parameter description. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5195",children:"#5195"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5562",children:"#5562"})]}),"\n",(0,n.jsxs)(r.li,{children:["The specfied ",(0,n.jsx)(r.code,{children:"ObjectMapper"})," to ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClientRequestPreparation.html#asJson(java.lang.Class,com.fasterxml.jackson.databind.ObjectMapper)",children:"WebClientRequestPreparation#asJson(Class,ObjectMapper)"})," isn't\nignored anymore. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5454",children:"#5454"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5512",children:"#5512"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/grpc/GrpcExceptionHandlerFunction.html",children:"GrpcExceptionHandlerFunction"})," is now applied to convert a gRPC cancellations. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5329",children:"#5329"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5398",children:"#5398"})]}),"\n",(0,n.jsxs)(r.li,{children:["In Spring integration, the default ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactory.html",children:"ClientFactory"})," is now gracefully closed after the server shuts down. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5742",children:"#5742"})]}),"\n",(0,n.jsxs)(r.li,{children:["A connection is not reused anymore after a ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WriteTimeoutException.html",children:"WriteTimeoutException"})," is raised. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5738",children:"#5738"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html",children:"ServiceRequestContext"})," is now correctly propagated when\n",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerErrorHandler.html#onServiceException(com.linecorp.armeria.server.ServiceRequestContext,java.lang.Throwable)",children:"ServerErrorHandler#onServiceException(ServiceRequestContext,Throwable)"})," is invoked. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5746",children:"#5746"})]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"\ufe0f-deprecations",children:"\ud83c\udfda\ufe0f Deprecations"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/PrometheusMeterRegistries.html",children:"PrometheusMeterRegistries"})," and ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/metric/PrometheusExpositionService.html",children:"PrometheusExpositionService"})," are deprecated. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5698",children:"#5698"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Use the same classes in the ",(0,n.jsx)(r.code,{children:"armeria-prometheus1"})," module."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/HttpResult.html",children:"HttpResult"})," is deprecated. Use ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ResponseEntity.html",children:"ResponseEntity"})," instead. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4910",children:"#4910"})," ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5586",children:"#5586"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/graphql/GraphqlConfigurator.html",children:"GraphqlConfigurator"})," and various setter methods for building a ",(0,n.jsx)(r.code,{children:"GraphQL"})," instance are deprecated.","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Use ",(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/graphql/GraphqlServiceBuilder.html#graphql(graphql.GraphQL)",children:"GraphqlServiceBuilder#graphql(GraphQL)"})," instead. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5269",children:"#5269"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"\ufe0f-breaking-changes",children:"\u2622\ufe0f Breaking changes"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["We updated Micrometer to 1.13.0 that has breaking changes in its Prometheus support. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5698",children:"#5698"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["If you want to keep the old behavior that uses Prometheus Java client 0.x,\nuse the ",(0,n.jsx)(r.code,{children:"io.micrometer:micrometer-registry-prometheus-simpleclient:1.13.0"})," module."]}),"\n",(0,n.jsxs)(r.li,{children:["If you want to use Prometheus Java client 1.x, add ",(0,n.jsx)(r.code,{children:"com.linecorp.armeria:armeria-prometheus1"})," module."]}),"\n",(0,n.jsxs)(r.li,{children:["More details can be found in the ",(0,n.jsx)(r.a,{href:"https://github.com/micrometer-metrics/micrometer/wiki/1.13-Migration-Guide",children:"Micrometer migration guide"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/AbstractEndpointSelector.html#updateNewEndpoints(java.util.List)",children:"AbstractEndpointSelector#updateNewEndpoints(List)"})," now returns a ",(0,n.jsx)(r.code,{children:"CompletableFuture"}),". ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5752",children:"#5752"})]}),"\n",(0,n.jsxs)(r.li,{children:["The following builder classes now have the ",(0,n.jsx)(r.code,{children:"SELF"})," type parameter. ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria/issues/5733",children:"#5733"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/AbstractDnsResolverBuilder.html",children:"AbstractDnsResolverBuilder"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/AbstractRuleBuilder.html",children:"AbstractRuleBuilder"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/AbstractRuleWithContentBuilder.html",children:"AbstractRuleWithContentBuilder"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/AbstractCircuitBreakerMappingBuilder.html",children:"AbstractCircuitBreakerMappingBuilder"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/AbstractDynamicEndpointGroupBuilder.html",children:"AbstractDynamicEndpointGroupBuilder"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/DynamicEndpointGroupSetters.html",children:"DynamicEndpointGroupSetters"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/zookeeper/AbstractCuratorFrameworkBuilder.html",children:"AbstractCuratorFrameworkBuilder"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Blockhound 1.0.8.RELEASE \u2192 1.0.9.RELEASE"}),"\n",(0,n.jsx)(r.li,{children:"Control Plane 1.0.44 \u2192 1.0.45"}),"\n",(0,n.jsx)(r.li,{children:"GraphQL Kotlin 7.0.2 \u2192 7.1.1"}),"\n",(0,n.jsx)(r.li,{children:"gRPC Java 1.63.0 \u2192 1.64.0"}),"\n",(0,n.jsx)(r.li,{children:"Jackson 2.17.0 \u2192 2.17.1"}),"\n",(0,n.jsx)(r.li,{children:"Kotlin Coroutine 1.8.0 \u2192 1.8.1"}),"\n",(0,n.jsx)(r.li,{children:"Kubernetes client 6.11.0 \u2192 6.12.1"}),"\n",(0,n.jsx)(r.li,{children:"Mircometer 1.12.4 \u2192 1.13.0"}),"\n",(0,n.jsx)(r.li,{children:"Netty 4.1.108.Final \u2192 4.1.110.Final"}),"\n",(0,n.jsx)(r.li,{children:"Reactor 3.6.4 \u2192 3.6.6"}),"\n",(0,n.jsx)(r.li,{children:"Scala2.13 2.13.13 \u2192 2.13.14"}),"\n",(0,n.jsx)(r.li,{children:"Scala Collection compat 2.11.0 \u2192 2.12.0"}),"\n",(0,n.jsx)(r.li,{children:"Spring 6.1.5 \u2192 6.1.8"}),"\n",(0,n.jsx)(r.li,{children:"Spring Boot 3.2.4 \u2192 3.3.0"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,n.jsx)(i,{usernames:["ahnyujin","Be-poz","Dogacel","ChangguHan","chickenchickenlove","cj848","dachshu","efaurie","HappyHacker123","ikhoon","imasahiro","injae-kim","jaeseung-bae","jrhee17","KarboniteKream","ks-yim","Leewongi0731","minwoox","moromin","my4-dev","pinest94","ribafish","runningcode","sato9818","seonWKim","seongbeenkim","SeungWook-Han","sh-cho","sjy982","taisey","trustin","YangSiJun528","yeojin-dev"]})]})}function d(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);