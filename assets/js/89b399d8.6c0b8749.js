"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[3861],{28453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>o});var i=n(96540);const a={},s=i.createContext(a);function t(e){const r=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(s.Provider,{value:r},e.children)}},72119:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"0.99.7","title":"v0.99.7","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/0.99.7.mdx","sourceDirName":".","slug":"/0.99.7","permalink":"/release-notes/0.99.7","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site-new/src/content/release-notes/0.99.7.mdx","tags":[],"version":"current","frontMatter":{"date":"2020-06-22T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v0.99.8","permalink":"/release-notes/0.99.8"},"next":{"title":"v0.99.6","permalink":"/release-notes/0.99.6"}}');var a=n(74848),s=n(28453);const t={date:new Date("2020-06-22T00:00:00.000Z")},o="v0.99.7",c={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\ud83c\udfda\ufe0f Deprecations",id:"\ufe0f-deprecations",level:2},{value:"\u2622\ufe0f Breaking changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{ThankYou:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.header,{children:[(0,a.jsx)(r.h1,{id:"v0997",children:"v0.99.7"}),(0,a.jsx)(r.p,{children:(0,a.jsx)(r.em,{children:"June 22, 2020"})})]}),"\n",(0,a.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now specify the maximum lifespan of server-side connections using\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html#maxConnectionAge(java.time.Duration)",children:"ServerBuilder#maxConnectionAge(Duration)"}),". This is useful when you have to deal with a load balancer\nwithout HTTP/2 support. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2747",children:"#2747"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2796",children:"#2796"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"Server server =\n    Server.builder()\n          .maxConnectionAge(Duration.ofMinutes(1))\n          ...\n          .build();\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now record the name of the service that handled a request into ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestOnlyLog.html#serviceName()",children:"RequestOnlyLog#serviceName()"}),".\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2768",children:"#2768"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2780",children:"#2780"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2809",children:"#2809"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2820",children:"#2820"})]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["By using ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceBindingBuilder.html#defaultServiceName(java.lang.String)",children:"ServiceBindingBuilder#defaultServiceName(String)"}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'Server server =\n    Server.builder()\n          .route().path("/service")\n                  .defaultServiceName("my-service")\n                  .build(new MyService())\n          .build();\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["By using ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ServiceName.html",children:"@ServiceName"}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@ServiceName("my-service")\npublic class MyAnnotatedService {\n    @Get("/get")\n    public String get() { ... }\n\n    @Post("/set")\n    @ServiceName("my-post-service")\n    public String post(@Param String value) { ... }\n}\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsx)(r.p,{children:"Programmatically:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'Server server =\n    Server.builder()\n          .service("/service", (ctx, req) -> {\n              ctx.logBuilder().serviceName("my-service");\n          })\n          .build();\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsx)(r.p,{children:"Armeria will use the FQCN of the service class if you did not specify a service name."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now use ",(0,a.jsx)(r.code,{children:"@Nullable"})," annotation to specify an optional parameter or request object in annotated\nservices. Previously, only the parameters with ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Default.html",children:"@Default"})," annotation or ",(0,a.jsx)(r.code,{children:"Optional"})," type were accepted.\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2773",children:"#2773"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"public class MyAnnotatedService {\n    // null will be injected into 'value' instead of returning\n    // '400 Bad Request' when 'value' is missing.\n    @Get(\"/get\")\n    public String get(@Param @Nullable String value) { ... }\n}\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now use the classes in the ",(0,a.jsx)(r.code,{children:"java.time"})," package in annotated services. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2760",children:"#2760"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2783",children:"#2783"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2792",children:"#2792"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2799",children:"#2799"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'public class MyAnnotatedService {\n    @Get("/sleep/{duration}")\n    public void sleep(@Param Duration duration) { ... }\n}\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now determine whether a request was successful or not from HTTP trailers in\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerClient.html",children:"CircuitBreakerClient"})," and ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryingClient.html",children:"RetryingClient"})," using ",(0,a.jsx)(r.code,{children:"onResponseTrailers()"})," method.\nThis can be useful when you work with gRPC, whose status code is encoded in the ",(0,a.jsx)(r.code,{children:"grpc-status"})," trailer. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2816",children:"#2816"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'CircuitBreaker cb = CircuitBreaker.of("my-service");\nCircuitBreakerRule cbr =\n    CircuitBreakerRule.builder()\n                      .onResponseTrailers(trailers -> {\n                          return trailers.getInt("grpc-status", -1) != 0;\n                      })\n                      .thenFailure()\n                      .build();\n\nMyServiceStub myService =\n    Clients.builder("gproto+h2c://example.com/")\n           .decorator(CircuitBreakerClient.newDecorator(cb, cbr))\n           .build(MyServiceStub.class);\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLog.html",children:"RequestLog"})," sanitizers now accept ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html",children:"RequestContext"})," as an additional input, so that\nthe sanitizers can behave differently depending on the current path, etc. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2803",children:"#2803"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'Server server =\n    Server.builder()\n          .decorator(LoggingService.builder()\n                                   .headersSanitizer((ctx, headers) -> {\n                                       if (ctx.path().startsWith("/secret/")) {\n                                           return "<secret>";\n                                       } else {\n                                           return headers;\n                                       }\n                                   })\n                                   .newDecorator())\n          ...\n          .build();\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["Armeria now supports service discovery and registration for\n",(0,a.jsx)(r.a,{href:"https://curator.apache.org/docs/service-discovery/",children:"Curator Service Discovery"})," and\n",(0,a.jsx)(r.a,{href:"http://stevenskelton.ca/finagle-serverset-clusters-using-zookeeper/",children:"Finagle ServerSets"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2673",children:"#2673"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2749",children:"#2749"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2791",children:"#2791"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'CuratorFramework curator = ...;\n// Client side:\n//// Curator Service Discovery:\nEndpointGroup curatorEndpointGroup =\n    ZooKeeperEndpointGroup.of(curator, "/discovery/curator",\n                              ZooKeeperDiscoverySpec.curator("my-service"));\n//// Finagle ServerSets:\nEndpointGroup serverSetsEndpointGroup =\n    ZooKeeperEndpointGroup.of(curator, "/discovery/serversets"\n                              ZooKeeperDiscoverySpec.serverSets());\n\n// Server-side:\nServer server = ...;\n//// Curator Service Discovery:\nserver.addListener(ZooKeeperUpdatingListener.of(\n    curator, "/discovery/curator",\n    ZooKeeperRegistrationSpec.curator("my-service")));\n//// Finagle ServerSets:\nserver.addListener(ZooKeeperUpdatingListener.of(\n    curator, "/discovery/serversets",\n    ZooKeeperRegistrationSpec.serverSets()));\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now build ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/auth/OAuth1aToken.html",children:"OAuth1aToken"})," more conveniently using the builder API. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2770",children:"#2770"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'OAuth1aToken token =\n    OAuth1aToken.builder()\n                .realm("...")\n                .consumerKey("...")\n                .token("...")\n                ...\n                .build();\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["The Spring Boot integration now hides all services under ",(0,a.jsx)(r.code,{children:"/internal/"})," for non-management ports when\n",(0,a.jsx)(r.code,{children:"management.server.port"})," property is set. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2408",children:"#2408"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2502",children:"#2502"})]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["The Spring Boot integration now supports\n",(0,a.jsx)(r.a,{href:"https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/html/spring-boot-features.html#boot-features-graceful-shutdown",children:"the new graceful shutdown properties"}),"\nintroduced in Spring Boot 2.3. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2784",children:"#2784"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2802",children:"#2802"})]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["Added a new API for handling reference counted or pooled objects such as ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpData"})," in\na relatively safer way. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2448",children:"#2448"})]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["See ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpData"}),", ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledWebClient"}),", ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpRequest"})," and\n",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpResponse"})," for more information."]}),"\n"]}),"\n"]}),"\n"]}),"\n","\n",(0,a.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Cleaned up minor issues reported by ",(0,a.jsx)(r.a,{href:"https://errorprone.info/",children:"errorprone"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2772",children:"#2772"})]}),"\n",(0,a.jsxs)(r.li,{children:["Made some exception messages more user-friendly. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2751",children:"#2751"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["It's now allowed to specify an absolute URL ",(0,a.jsx)(r.em,{children:"only when"})," a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClient.html",children:"WebClient"})," was created ",(0,a.jsx)(r.em,{children:"without"})," a base\nURL. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2757",children:"#2757"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'WebClient clientWithoutBaseUrl = WebClient.of();\nWebClient clientWithBaseUrl = WebClient.of("https://example.com/");\n// Good\nclientWithBaseUrl.get("/bar");\nclientWithoutBaseUrl.get("https://foo.com/");\n// Bad\nclientWithBaseUrl.get("https://foo.com/");\nclientWithoutBaseUrl.get("/bar");\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["Boolean parameter conversion became more strict in annotated services. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2767",children:"#2767"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2774",children:"#2774"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Only ",(0,a.jsx)(r.code,{children:"true"}),", ",(0,a.jsx)(r.code,{children:"false"}),", ",(0,a.jsx)(r.code,{children:"1"})," and ",(0,a.jsx)(r.code,{children:"0"})," are accepted. Other values will cause a ",(0,a.jsx)(r.code,{children:"400 Bad Request"})," response."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"})," web UI now shows the 'request body' field for ",(0,a.jsx)(r.code,{children:"DELETE"})," and ",(0,a.jsx)(r.code,{children:"PATCH"})," methods in the debug\nform. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2756",children:"#2756"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2819",children:"#2819"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/JacksonRequestConverterFunction.html",children:"JacksonRequestConverterFunction"})," now handles the case where the target type has a type parameter,\ne.g. ",(0,a.jsx)(r.code,{children:"List<Long>"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2769",children:"#2769"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2779",children:"#2779"})]}),"\n",(0,a.jsxs)(r.li,{children:["Fixed a bug where the current ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html",children:"ServiceRequestContext"})," is not pushed when invoking\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/ResponseConverterFunction.html#convertResponse(com.linecorp.armeria.server.ServiceRequestContext,com.linecorp.armeria.common.ResponseHeaders,java.lang.Object,com.linecorp.armeria.common.HttpHeaders)",children:"ResponseConverterFunction#convertResponse(ServiceRequestContext,ResponseHeaders,Object,HttpHeaders)"}),".\n",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2789",children:"#2789"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logback/RequestContextExportingAppender.html",children:"RequestContextExportingAppender"})," now handles the ",(0,a.jsx)(r.code,{children:"<exports />"})," tag correctly. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2781",children:"#2781"})]}),"\n",(0,a.jsxs)(r.li,{children:["Fixed a bug where some Reactive Streams ",(0,a.jsx)(r.code,{children:"Subscriber"})," implementations violate the specification. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2815",children:"#2815"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer get sporadic ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WriteTimeoutException.html",children:"WriteTimeoutException"})," from proxied connections. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2801",children:"#2801"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2805",children:"#2805"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer get a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/CancelledSubscriptionException.html",children:"CancelledSubscriptionException"})," unnecessarily when using\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/PublisherBasedStreamMessage.html",children:"PublisherBasedStreamMessage"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2797",children:"#2797"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer get sporadic ",(0,a.jsx)(r.code,{children:"EncoderException"}),"s from HTTP/1 connections. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2765",children:"#2765"})]}),"\n",(0,a.jsxs)(r.li,{children:["It's now disallowed to specify the following headers in gRPC ",(0,a.jsx)(r.code,{children:"Metadata"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2718",children:"#2718"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:":status"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:"grpc-message"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:"grpc-status"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:"armeria.grpc.ThrowableProto-bin"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-deprecations",children:"\ud83c\udfda\ufe0f Deprecations"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://#",children:"AbstractUnwrappable#delegate()"})," has been deprecated in favor of ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/Unwrappable.html#unwrap()",children:"Unwrappable#unwrap()"}),"."]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-breaking-changes",children:"\u2622\ufe0f Breaking changes"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You can specify an absolute URL ",(0,a.jsx)(r.em,{children:"only when"})," a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClient.html",children:"WebClient"})," was created ",(0,a.jsx)(r.em,{children:"without"})," a base URL.\nIt was previously allowed to specify an absolute URL even when created with a base URL. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2757",children:"#2757"})]}),"\n",(0,a.jsxs)(r.li,{children:["The method signature of\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverterFunction.html#convertRequest(com.linecorp.armeria.server.ServiceRequestContext,com.linecorp.armeria.common.AggregatedHttpRequest,java.lang.Class,java.lang.reflect.ParameterizedType)",children:"RequestConverterFunction#convertRequest(ServiceRequestContext,AggregatedHttpRequest,Class,ParameterizedType)"}),"\nhas been changed to support parameterized types. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2779",children:"#2779"})]}),"\n",(0,a.jsxs)(r.li,{children:["The default ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/MeterIdPrefixFunction.html",children:"MeterIdPrefixFunction"})," returned by ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/MeterIdPrefixFunction.html#ofDefault(java.lang.String)",children:"MeterIdPrefixFunction#ofDefault(String)"}),"\nnow generates the meter IDs with different tags. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2780",children:"#2780"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["The ",(0,a.jsx)(r.code,{children:"route"})," tag has been replaced with the ",(0,a.jsx)(r.code,{children:"service"})," tag."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"RetrofitMeterIdPrefixFunctionBuilder"})," has been removed and superseded by\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestOnlyLog.html#serviceName()",children:"RequestOnlyLog#serviceName()"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2780",children:"#2780"})]}),"\n",(0,a.jsxs)(r.li,{children:["ZooKeeper-based service discovery: ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2749",children:"#2749"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2791",children:"#2791"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You now must specify ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/zookeeper/ZooKeeperRegistrationSpec.html",children:"ZooKeeperRegistrationSpec"})," or ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/zookeeper/ZooKeeperDiscoverySpec.html",children:"ZooKeeperDiscoverySpec"})," when creating\n",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/zookeeper/ZooKeeperUpdatingListener.html",children:"ZooKeeperUpdatingListener"})," or ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/zookeeper/ZooKeeperEndpointGroup.html",children:"ZooKeeperEndpointGroup"}),"."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"NodeValueCodec"})," has been removed."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"ZooKeeperEndpointGroupBuilder.codec()"})," and ",(0,a.jsx)(r.code,{children:"ZooKeeperUpdatingListenerBuilder.codec()"})," have been removed."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"ByteBufHttpData"})," has been replaced with ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpData"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2448",children:"#2448"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"HttpRequest.aggregateWithPooledObjects()"})," and ",(0,a.jsx)(r.code,{children:"HttpResponse.aggregateWithPooledObject"})," have been replaced\nwith ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpRequest"})," and ",(0,a.jsx)(r.a,{href:"type://#",children:"PooledHttpResponse"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2448",children:"#2448"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"SubscriptionOption.WITH_POOLED_OBJECTS"})," has been removed. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2448",children:"#2448"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Bouncy Castle 1.65 \u2192 1.65.01"}),"\n",(0,a.jsx)(r.li,{children:"Dropwizard 2.0.9 \u2192 2.0.10"}),"\n",(0,a.jsx)(r.li,{children:"gRPC 1.29.0 \u2192 1.30.1"}),"\n",(0,a.jsx)(r.li,{children:"Jetty 9.4.29 \u2192 9.4.30"}),"\n",(0,a.jsx)(r.li,{children:"Reactor 3.3.5 \u2192 3.3.6"}),"\n",(0,a.jsx)(r.li,{children:"Spring Boot 2.3.0 \u2192 2.3.1, 2.1.14 \u2192 2.1.15"}),"\n",(0,a.jsx)(r.li,{children:"Tomcat 9.0.35 \u2192 9.0.36, 8.5.55 \u2192 8.5.56"}),"\n",(0,a.jsxs)(r.li,{children:["Example dependencies","\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Dagger 2.27 \u2192 2.28"}),"\n",(0,a.jsx)(r.li,{children:"grpc-kotlin-stub 0.1.2 \u2192 0.1.3"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,a.jsx)(n,{usernames:["anuraaga","cbornet","eonezhang","ghkim3221","heowc","huydx","ikhoon","jongmin92","joonhaeng","jrhee17","KarboniteKream","kojilin","max904-github","minwoox","okue","sokangmin","tobias-","trustin"]})]})}function d(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);