"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[217],{15284:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-1-b8df78267813bd6db4a7146dc18e2f91.png"},20399:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-2-651dfe37d84cf70fa56b6314072fc869.png"},28453:(e,r,i)=>{i.d(r,{R:()=>a,x:()=>c});var s=i(96540);const n={},t=s.createContext(n);function a(e){const r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(t.Provider,{value:r},e.children)}},43537:e=>{e.exports=JSON.parse('{"permalink":"/blog/ko/2020/02/19/reactive-streams-armeria-2","editUrl":"https://github.com/line/armeria/edit/main/site-new/src/content/blog/ko/2020-02-19-reactive-streams-armeria-2.mdx","source":"@site/src/content/blog/ko/2020-02-19-reactive-streams-armeria-2.mdx","title":"Armeria\ub85c Reactive Streams\uc640 \ub180\uc790! - 2","description":"\uc548\ub155\ud558\uc138\uc694.","date":"2020-05-06T11:00:00.000Z","tags":[],"readingTime":11.78,"hasTruncateMarker":true,"authors":[{"name":"\uc5c4\uc775\ud6c8","title":"LINE Plus\uc5d0\uc11c \uc624\ud508\uc18c\uc2a4 Armeria\uc640 Central Dogma\ub97c \uac1c\ubc1c\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.","imageURL":"https://github.com/ikhoon.png","key":"ikhunum","page":null}],"frontMatter":{"date":"2020-05-06T11:00","authors":["ikhunum"],"other_languages":{"ja":"/blog/ja/2020/03/26/reactive-streams-armeria-2","en":"/blog/2020/07/03/reactive-streams-armeria-2"}},"unlisted":false,"prevItem":{"title":"Armeria\uc5d0\uc11c Prometheus \uc9c0\ud45c \ubaa8\ub2c8\ud130\ub9c1\ud558\uae30","permalink":"/blog/ko/2021/06/28/monitoring-prometheus-metrics-from-armeria"},"nextItem":{"title":"Armeria\ub85c Reactive Streams\uc640 \ub180\uc790! - 1","permalink":"/blog/ko/2020/02/18/reactive-streams-armeria-1"}}')},51376:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-5-b047c88a956d6aea2e8163ea08fd3590.png"},53147:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>o});var s=i(43537),n=i(74848),t=i(28453);const a={date:"2020-05-06T11:00",authors:["ikhunum"],other_languages:{ja:"/blog/ja/2020/03/26/reactive-streams-armeria-2",en:"/blog/2020/07/03/reactive-streams-armeria-2"}},c="Armeria\ub85c Reactive Streams\uc640 \ub180\uc790! - 2",l={authorsImageUrls:[void 0]},o=[{value:"What\u2019s Armeria?",id:"whats-armeria",level:2},{value:"\uc9c0\uc6d0\ud558\ub294 \ud504\ub85c\ud1a0\ucf5c",id:"\uc9c0\uc6d0\ud558\ub294-\ud504\ub85c\ud1a0\ucf5c",level:3},{value:"\uc608\uc81c \ucf54\ub4dc\ub85c \uc54c\uc544\ubcf4\ub294 Armeria",id:"\uc608\uc81c-\ucf54\ub4dc\ub85c-\uc54c\uc544\ubcf4\ub294-armeria",level:3},{value:"Armeria \ub0b4 HTTP/2 \uc2a4\ud2b8\ub9bc",id:"armeria-\ub0b4-http2-\uc2a4\ud2b8\ub9bc",level:3},{value:"Reactive Streams\uc640 Armeria\uc758 \ud1b5\ud569",id:"reactive-streams\uc640-armeria\uc758-\ud1b5\ud569",level:2},{value:"Armeria HTTP \uc751\ub2f5 Publisher",id:"armeria-http-\uc751\ub2f5-publisher",level:3},{value:"Armeria \ube4c\ud2b8\uc778 Publisher",id:"armeria-\ube4c\ud2b8\uc778-publisher",level:3},{value:"Spring WebFlux \ud1b5\ud569",id:"spring-webflux-\ud1b5\ud569",level:2},{value:"gRPC \uc2a4\ud2b8\ub9bc \uc9c0\uc6d0",id:"grpc-\uc2a4\ud2b8\ub9bc-\uc9c0\uc6d0",level:2},{value:"\ub9c8\uc774\ud06c\ub85c \uc11c\ube44\uc2a4\ub97c \uc704\ud55c Armeria\uc758 \uae30\ub2a5",id:"\ub9c8\uc774\ud06c\ub85c-\uc11c\ube44\uc2a4\ub97c-\uc704\ud55c-armeria\uc758-\uae30\ub2a5",level:2},{value:"\ub9c8\uce58\uba70",id:"\ub9c8\uce58\uba70",level:2},{value:"Footnotes",id:"footnotes",level:4}];function h(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["\uc548\ub155\ud558\uc138\uc694.\nLINE+\uc5d0\uc11c \uc624\ud508\uc18c\uc2a4 Armeria\uc640 Central Dogma\ub97c \uac1c\ubc1c\ud558\uace0 \uc788\ub294 \uc5c4\uc775\ud6c8\uc785\ub2c8\ub2e4. ",(0,n.jsx)(r.a,{href:"/blog/ko/2020/02/18/reactive-streams-armeria-1",children:"\uc9c0\ub09c \ud3ec\uc2a4\ud305"}),"\uc5d0\uc120 Reactive Streams\uc758 \uac1c\ub150\uc744 \uc0b4\ud3b4\ubcf4\uc558\ub294\ub370\uc694. \uc774\ubc88 \ud3ec\uc2a4\ud305\uc5d0\uc120 Reactive Streams\ub97c \uc624\ud508 \uc18c\uc2a4 \ube44\ub3d9\uae30 HTTP/2, RPC, REST \ud074\ub77c\uc774\uc5b8\ud2b8/\uc11c\ubc84 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc778 Armeria\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \uacf5\uc720\ud558\ub824\uace0 \ud569\ub2c8\ub2e4."]}),"\n","\n",(0,n.jsx)(r.h2,{id:"whats-armeria",children:"What\u2019s Armeria?"}),"\n",(0,n.jsx)(r.p,{children:"Armeria\ub294 Java 8 \ubc0f Netty, Thrift, gRPC\uc5d0 \uae30\ubc18\ud55c \uc624\ud508 \uc18c\uc2a4 \ube44\ub3d9\uae30 HTTP/2, RPC, REST \ud074\ub77c\uc774\uc5b8\ud2b8/\uc11c\ubc84 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4.\nArmeria\ub294 \uacbd\ub7c9(Lightweight) \ub9c8\uc774\ud06c\ub85c \uc11c\ube44\uc2a4 \ud504\ub808\uc784\uc6cc\ud06c\uc9c0\ub9cc \uc9c0\uc6d0\ud558\ub294 \uae30\ub2a5\uc740 \ub2e4\ub978 \ud480 \uc2a4\ud0dd(full stack) \uc6f9 \ud504\ub808\uc784\uc6cc\ud06c\uc640 \ube44\uad50\ud574\ub3c4 \uc190\uc0c9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.p,{children:"\uba3c\uc800 Armeria\uc5d0\uc11c Reactive Streams\ub97c \ud65c\uc6a9\ud55c \uc11c\ubc84\ub97c \uad6c\ud604\ud558\uae30 \uc704\ud574\uc120 \uae30\ubcf8\uc801\uc73c\ub85c \uc54c\uc544\uc57c \ud560 \uac83\ub4e4\uc744 \uc54c\ub824\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.h3,{id:"\uc9c0\uc6d0\ud558\ub294-\ud504\ub85c\ud1a0\ucf5c",children:"\uc9c0\uc6d0\ud558\ub294 \ud504\ub85c\ud1a0\ucf5c"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(15284).A+"",width:"3030",height:"1468"})}),"\n",(0,n.jsxs)(r.p,{children:["Armeria\uc5d0\uc11c\ub294 HTTP/1\uacfc HTTP/2\ub97c \ubaa8\ub450 \uc9c0\uc6d0\ud558\uace0, \uc774 \ub450 \uac1c\uc758 \ud504\ub85c\ud1a0\ucf5c\uc740 ",(0,n.jsx)(r.a,{href:"https://simple.wikipedia.org/wiki/Cleartext",children:"cleartext"}),"\uc640 TLS(Transport Layer Security) \uc554\ud638\ud654 \ud1b5\uc2e0\uc744 \ubaa8\ub450 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.\nHTTP/1\uc5d0\uc11c HTTP/2\ub85c\uc758 \ud638\ud658\uc131\uc744 \uc9c0\uc6d0\ud558\uae30 \uc704\ud55c \ud504\ub85c\ud1a0\ucf5c \uc5c5\uadf8\ub808\uc774\ub4dc \uba74\uc5d0\uc120, HTTP/2\uc758 'connection preface'\uc640 HTTP/1\uc758 'upgrade request'\ub97c \ubaa8\ub450 \uc9c0\uc6d0\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.p,{children:"\ub610\ud55c Armeria\uc5d0\uc120 gRPC\uc640 Thrift\uac00 HTTP/1\uacfc HTTP/2, \uc591\ucabd\uc5d0\uc11c \ubaa8\ub450 \ub3d9\uc791\ud569\ub2c8\ub2e4. \uc774\ub294 Armeria\ub9cc\uc758 \ud2b9\ubcc4\ud55c \uae30\ub2a5\uc778\ub370\uc694. gRPC\ub294 HTTP/1\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uace0, \uae30\uc874\uc758 Thrift\uc5d0\uc120 HTTP/2\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc Armeria\uc5d0\uc11c\ub294 \ubaa8\ub450 \uc9c0\uc6d0\ud558\uace0 \uc788\uc5b4\uc11c \ub2e4\uc591\ud55c \ube44\uc988\ub2c8\uc2a4 \ud658\uacbd\uc5d0\uc11c \uc720\uc5f0\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \ub9ac\ub205\uc2a4 \ud658\uacbd\uc5d0\uc120 JNI(Java Native Interface) \uae30\ubc18\uc758 \uc18c\ucf13 IO\uc640 BoringSSL \uae30\ubc18\uc758 TLS\ub97c \ud1b5\ud574\uc11c \ub354\uc6b1\ub354 \ube60\ub978 \uc131\ub2a5\uc73c\ub85c \ud504\ub85c\ub355\uc158\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.p,{children:"\uadf8\ub7fc \uc608\uc81c \ucf54\ub4dc\uc640 \ud568\uaed8 Armeria\uc5d0 \ub300\ud574\uc11c \ud558\ub098\uc529 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.h3,{id:"\uc608\uc81c-\ucf54\ub4dc\ub85c-\uc54c\uc544\ubcf4\ub294-armeria",children:"\uc608\uc81c \ucf54\ub4dc\ub85c \uc54c\uc544\ubcf4\ub294 Armeria"}),"\n",(0,n.jsx)(r.p,{children:"Armeria\ub294 \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc778 API\uc785\ub2c8\ub2e4. \ucf54\ub4dc\uac00 \uac04\uacb0\ud558\uace0 \uc0ac\uc6a9\ud558\uae30 \uc27d\uc2b5\ub2c8\ub2e4. 'Hello world' \uc11c\ubc84\ub97c \uc2e4\ud589\ud558\uace0 \uc2f6\ub2e4\uba74 \uc544\ub798\uc640 \uac19\uc774 5\uc904\ub9cc \uc791\uc131\ud558\uba74 \ub429\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// Build your own server under 5 lines.\nvar server = Server.builder()\n       .http(8080)\n       .service(\u201c/\u201c, (ctx, req) -> HttpResponse.of(\u201cHello, World!\u201d))\n       .build();\n\nserver.start();\n"})}),"\n",(0,n.jsx)(r.p,{children:"\uc11c\ubc84\ub97c \uc27d\uac8c \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc740 \ub9c8\uc774\ud06c\ub85c \uc11c\ube44\uc2a4 \ud658\uacbd\uc5d0\uc11c \uac01\uac01\uc758 \ube44\uc988\ub2c8\uc2a4 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ubd84\ub9ac\ud558\uc5ec \ub3c5\ub9bd\ub41c \uc11c\ubc84\ub85c \uad00\ub9ac\ud558\ub824\uace0 \ud560 \ub54c \ud575\uc2ec\uc774 \ub418\ub294 \uc0ac\ud56d\uc785\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(r.p,{children:["\ub610\ud55c \uc11c\ubc84 \uc544\ud0a4\ud14d\ucc98\ub97c \ub2e8\uc21c\ud558\uac8c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\nHTTPS\ub098 HTTP/2\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 \ubcc4\ub3c4\ub85c ",(0,n.jsx)(r.a,{href:"https://docs.microsoft.com/en-us/azure/architecture/patterns/sidecar",children:"\uc0ac\uc774\ub4dc\uce74"}),"(sidecar)\uc778 Nginx\ub098 Apache Httpd\uc640 \uac19\uc740 \uc815\uc801 \uc6f9 \uc11c\ubc84\ub97c \uc2e4\ud589\ud560 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uc55e\uc11c \uc5b8\uae09\ud588\ub4ef, \ub9ac\ub205\uc2a4 \ud658\uacbd\uc5d0\uc11c\ub294 JNI \uae30\ubc18\uc758 \uc18c\ucf13 IO\uc640 BoringSSL\uc744 \uc9c0\uc6d0\ud558\uae30 \ub54c\ubb38\uc5d0 \ubcc4\ub3c4\ub85c \uc131\ub2a5 \uc800\ud558\ub97c \uace0\ub824\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub429\ub2c8\ub2e4. \ub610\ud55c JS\ub098 CSS, \uc774\ubbf8\uc9c0\uc640 \uac19\uc740 \uc815\uc801 \ud30c\uc77c\uc744 \uc11c\ube59\ud558\ub294 \uae30\ub2a5\ub3c4 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4(",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/server-http-file.html",children:"\ucc38\uace0"}),")."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"var server = Server.builder()\n       .http(8080)\n       .https(8443) // HTTPS support\n       .tlsSelfSigned()\n       .service(\u201c/\u201c, (ctx, req) -> HttpResponse.of(\u201cHello, World!\u201d))\n       .build();\nserver.start();\n"})}),"\n",(0,n.jsx)(r.p,{children:"\ub124\ud2b8\uc6cc\ud06c \ud649(hop)\uc744 \ucd94\uac00\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub418\uae30 \ub54c\ubb38\uc5d0 \uc7a5\uc560\uc810\uc744 \uc904\uc77c \uc218 \uc788\uace0, \ub9ac\uc18c\uc2a4\ub97c \uc808\uc57d\ud560 \uc218 \uc788\uc5b4 \ud6a8\uc728\uc801\uc73c\ub85c \ud1b5\uc2e0\ud560 \uc218 \uc788\uc73c\uba70, \uc544\ud0a4\ud14d\ucc98\uac00 \ub2e8\uc21c\ud574\uc9c0\uace0, \ubaa8\ub2c8\ud130\ub9c1\uc774 \uc26c\uc6cc\uc9c0\uba70, \uc11c\ubc84\ub97c \uc720\uc5f0\ud558\uac8c \ud655\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(r.p,{children:["\uadf8 \uc678\uc5d0\ub3c4 \uc720\uc6a9\ud55c \uae30\ub2a5\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uadf8\uc911 \ud558\ub098\uac00 Armeria\uc5d0\uc11c \ube4c\ud2b8\uc778\uc73c\ub85c \uc81c\uacf5\ud558\ub294 \uc5b4\ub178\ud14c\uc774\uc158(annotation)\uc785\ub2c8\ub2e4. \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uc774\uc6a9\ud558\uba74 Armeria\uc758 \uae30\ub2a5\uc744 \ub354\uc6b1 \uc27d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc544\ub798\uc640 \uac19\uc774 ",(0,n.jsx)(r.code,{children:"hello"}),"\ub97c \ud504\ub9ac\ud53d\uc2a4(prefix)\ub85c, ",(0,n.jsx)(r.code,{children:"name"}),"\uc744 \uacbd\ub85c \ubcc0\uc218\ub85c \uc124\uc815\ud558\uc5ec \ub77c\uc6b0\ud305\ud558\ub294 \ucf54\ub4dc\ub97c \uc190\uc27d\uac8c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4(",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/server-annotated-service.html",children:"Armeria \uacf5\uc2dd \ubb38\uc11c"}),"\ub97c \ucc38\uace0\ud558\uba74 \uadf8 \uc678 \ub2e4\uc591\ud55c \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ub354\uc6b1 \uc790\uc138\ud558\uac8c \uc0b4\ud3b4\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4)."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"import com.linecorp.armeria.server.annotation.Get;\nimport com.linecorp.armeria.server.annotation.Param;\nimport com.linecorp.armeria.server.annotation.PathPrefix;\n\n// Use built-in annotations for mapping path and parameter injection\n@PathPrefix(\u201c/hello\u201d)\nclass HelloService {\n   @Get(\u201c/:name\u201d)\n   public String hello(@Param String name) {\n       return String.format(\u201cHello, %s!\u201d, name);\n   }\n}\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Armeria\uc5d0\ub294 \ub2e4\ub978 \uc885\ub958\uc758 RPC \ud504\ub85c\ud1a0\ucf5c\uc744 \ub3d9\uc2dc\uc5d0 \uc11c\ube59\ud560 \uc218 \uc788\ub294 \ud2b9\ubcc4\ud55c \uae30\ub2a5\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \ud558\ub098\uc758 \uc11c\ubc84\uc5d0\uc11c REST API\uc640 gRPC, Thrift\ub97c \ubaa8\ub450 \uc81c\uacf5\ud560 \uc218 \uc788\uc5b4\uc11c \ube44\uc988\ub2c8\uc2a4 \uc694\uad6c \uc0ac\ud56d\uc774\ub098 \uc544\ud0a4\ud14d\ucc98\uc758 \ubcc0\ud654\uc5d0 \uc720\uc5f0\ud558\uac8c \ub300\uc751\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \ub2e8\uc77c \ud3ec\ud2b8\ub85c \uc81c\uacf5\ud558\uae30 \ub54c\ubb38\uc5d0 \ub9ac\uc18c\uc2a4\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uc0ac\uc6a9\ud558\uba74\uc11c \ubcf4\uc548 \uce21\uba74\uc5d0\uc11c \ubd88\ud544\uc694\ud55c \ub178\ucd9c\uc744 \ucd5c\uc18c\ud654\ud558\uace0, \uad00\ub9ac \ud3ec\uc778\ud2b8\ub97c \uc904\uc77c \uc218 \uc788\ub294 \uc7a5\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4.",(0,n.jsx)(r.a,{href:"#footnotes",children:"[1]"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"var server = Server.builder()\n   .http(8080)\n   .service(\u201c/hello/rest\u201d, (ctx, req) -> HttpResponse.of(\u201cHello, world!\u201d))\n   .service(\u201c/hello/thrift\u201d, THttpService.of(new ThriftHelloService()))\n   .service(\u201c/hello/grpc\u201d, GrpcService.builder()\n                                      .addService(new GrpcHelloService())\n                                      .build())\n   .build();\n"})}),"\n",(0,n.jsxs)(r.p,{children:["\uc5d4\ud130\ud504\ub77c\uc774\uc988 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uac1c\ubc1c\uc790\ub4e4\uc740 \uacf5\ud1b5\uc801\uc73c\ub85c \uc778\uc99d, \ub85c\uae45\uacfc \uac19\uc740 \ubd80\ubd84\uc744 \uc5b4\ub5bb\uac8c \ud558\uba74 \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc744\uc9c0\uc5d0 \uad00\uc2ec\uc744 \uac16\uace0 \uace0\ubbfc\ud558\uac8c \ub429\ub2c8\ub2e4.\nArmeria\uc5d0\uc11c\ub294 ",(0,n.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Separation_of_concerns",children:"separation of concerns"}),"\ub77c\uace0 \ubd80\ub974\ub294 \uc774\ub7f0 \ubd80\ubd84\uc744 \ubcc4\ub3c4\uc758 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/server-decorator.html",children:"decorator"}),"\ub85c \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.",(0,n.jsx)(r.a,{href:"#footnotes",children:"[2]"})]}),"\n",(0,n.jsxs)(r.p,{children:["\ub610\ud55c \uae30\ubcf8 \uc81c\uacf5 \uc678\uc5d0 \ub2e4\ub978 decorator\uac00 \ud544\uc694\ud558\ub2e4\uba74, \uc9c1\uc811 \uc190\uc27d\uac8c \uad6c\ud604\ud574\uc11c \ud2b9\uc815 \uacbd\ub85c\ub098 \uc11c\ube44\uc2a4\uc5d0 \ubc14\uc778\ub529\ud574\uc11c \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc544\ub798 \uadf8\ub9bc\uc5d0\uc11c \uad6c\ud604\ud55c ",(0,n.jsx)(r.code,{children:"AuthService"}),"\uac19\uc740 \uacbd\uc6b0\uc5d0\ub294 ",(0,n.jsx)(r.code,{children:"request"}),"\uc5d0 \uc778\uc99d \uc815\ubcf4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc744 \ub54c\ub9cc \uc11c\ube44\uc2a4\ub97c \ud638\ucd9c\ud558\uace0, \uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 '401 unauthorized' \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\ub3c4\ub85d \ud588\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(20399).A+"",width:"3316",height:"1652"})}),"\n",(0,n.jsx)(r.p,{children:"\ub2e4\uc74c\uc73c\ub85c Armeria\uc5d0\uc11c Reactive Streams\ub97c \uc5b4\ub5bb\uac8c \uc9c0\uc6d0\ud558\uace0 \uc788\ub294\uc9c0 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.h3,{id:"armeria-\ub0b4-http2-\uc2a4\ud2b8\ub9bc",children:"Armeria \ub0b4 HTTP/2 \uc2a4\ud2b8\ub9bc"}),"\n",(0,n.jsxs)(r.p,{children:["\uc2a4\ud2b8\ub9bc(stream)\uc740 \ud750\ub974\ub294 \ubb3c\uacfc \uac19\uc774 \uc720\uae30\uc801\uc73c\ub85c \uacc4\uc18d \uc5f0\uacb0\ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uc5b4\ub290 \ud55c\uacf3\ub9cc \ub6ab\ub824\uc788\uace0 \ub098\uba38\uc9c0\uac00 \ub9c9\ud600 \uc788\ub2e4\uba74 \uace7 \ub118\uccd0 \ubc84\ub9bd\ub2c8\ub2e4.\nArmeria\uc5d0\uc11c\ub294 \ub370\uc774\ud130\uc758 \ud750\ub984\uc744 \uc720\uae30\uc801\uc73c\ub85c \uc81c\uc5b4\ud558\uae30 \uc704\ud574\uc11c \uc11c\ubc84 \ub0b4\uc5d0\uc120 Reactive Streams\uc758 \ubc31 \ud504\ub808\uc154\ub97c \uc774\uc6a9\ud574 \ud2b8\ub798\ud53d\uc744 \uc81c\uc5b4\ud569\ub2c8\ub2e4. \ub610\ud55c ",(0,n.jsx)(r.a,{href:"https://http2.github.io/http2-spec/#WINDOW_UPDATE",children:"WINDOW_UPDATE"}),"\ub97c \uc774\uc6a9\ud55c ",(0,n.jsx)(r.a,{href:"https://tools.ietf.org/html/rfc7540#section-5.2",children:"HTTP/2 stream flow control"}),"\ub85c, \ubc31 \ud504\ub808\uc154\uac00 \ud558\uc704 \ub124\ud2b8\uc6cc\ud06c \ub808\uc774\uc5b4\uc5d0\uc11c Armeria \uc11c\ubc84\uc640 \uc5ec\ub7ec\ubd84\uc774 \uad6c\ud604\ud55c \uc11c\ube44\uc2a4, \uadf8\ub9ac\uace0 \ub370\uc774\ud130 \uc800\uc7a5\uc18c\uae4c\uc9c0 \uc720\uae30\uc801\uc73c\ub85c \uc5f0\uacb0\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(55206).A+"",width:"3336",height:"1792"})}),"\n",(0,n.jsxs)(r.p,{children:["\ub9cc\uc57d \uc11c\ube44\uc2a4\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uc11c\ubc84\ub97c Armeria\uc758 Reactive \uc11c\ubc84\ub85c \ub2f9\uc7a5 \ubc14\uafb8\uae30 \uc5b4\ub835\ub2e4\uba74, \uc544\ub798\uc640 \uac19\uc774 Armeria\ub97c Reactive \ud504\ub77d\uc2dc \uc11c\ubc84\ub85c \ud65c\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4(",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria-examples/tree/master/proxy-server",children:"\ucc38\uace0"}),")."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// Use Armeria\u2019s async & reactive HTTP/2 client.\nvar client = HttpClient.of(\u201ch2c://backend\u201d);\nvar server = Server.builder()\n    .http(8080)          // Forward all requests reactively\n    .service(\u201cprefix:/\u201c, (ctx, req) -> client.execute(req))\n    .build();\n"})}),"\n",(0,n.jsx)(r.p,{children:"Armeria \ud504\ub77d\uc2dc \uc11c\ubc84\ub97c \uc55e\uc5d0 \ub450\uba74 \uc5ec\ub7ec\ubd84\uc758 \uc11c\ubc84\ub97c \ud5d8\ub09c\ud55c \uc678\ubd80 \uc778\ud130\ub137\uc73c\ub85c\ubd80\ud130 \uc548\uc804\ud558\uac8c \ubcf4\ud638\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(57625).A+"",width:"2310",height:"716"})}),"\n",(0,n.jsx)(r.h2,{id:"reactive-streams\uc640-armeria\uc758-\ud1b5\ud569",children:"Reactive Streams\uc640 Armeria\uc758 \ud1b5\ud569"}),"\n",(0,n.jsx)(r.p,{children:"Armeria\ub85c \uc9c1\uc811 Reactive Streams\ub97c \uc9c0\uc6d0\ud558\ub294 \uc11c\ubc84\ub97c \ub9cc\ub4e0\ub2e4\uba74 \ub354\uc6b1\ub354 \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \uc4f8 \uc218 \uc788\ub294\ub370\uc694.\nArmeria\uc5d0\uc11c Reactive Streams\ub97c \ud65c\uc6a9\ud558\ub294 \ubc29\ubc95\uacfc \ube4c\ud2b8\uc778 publisher\uc5d0 \ub300\ud574\uc11c \uc880 \ub354 \uc790\uc138\ud788 \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.h3,{id:"armeria-http-\uc751\ub2f5-publisher",children:"Armeria HTTP \uc751\ub2f5 Publisher"}),"\n",(0,n.jsxs)(r.p,{children:["Armeria\uc758 \uc751\ub2f5\uc740 \ud5e4\ub354\ub97c \ud45c\ud604\ud558\ub294 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/com/linecorp/armeria/common/HttpHeaders.html",children:"HttpHeaders"}),"\uc640 \ub370\uc774\ud130\ub97c \ud45c\ud604\ud558\ub294 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/com/linecorp/armeria/common/HttpData.html",children:"HttpData"}),"\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.\nRxJava\uc758 ",(0,n.jsx)(r.a,{href:"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html",children:"Observable"}),"\uc744 Armeria\uc758 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/com/linecorp/armeria/common/HttpResponse.html",children:"HttpResponse"}),"\ub85c \ubc14\uafb8\ub294 \uacfc\uc815\uc744 \ub2e8\uacc4\ubcc4\ub85c \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsxs)(r.p,{children:["\ub370\uc774\ud130\uac00 \uc900\ube44\ub418\uba74 \uba3c\uc800 ",(0,n.jsx)(r.code,{children:"Observable"}),"\uc758 ",(0,n.jsx)(r.code,{children:"map"})," \uc5f0\uc0b0\uc790\ub97c \uc774\uc6a9\ud574\uc11c ",(0,n.jsx)(r.code,{children:"dataStream"}),"\uc744 ",(0,n.jsx)(r.code,{children:"HttpData"}),"\ub85c \uac10\uc2f8\uc90d\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// 1. Fetch data from Reactive Streams Publisher\nObservable<String> dataStream = Observable.just(\u201ca\u201d, \u201cb\u201d, \u201cc\u201d, \u201cd\u201d, \u201ce\u201d);\n\n// 2. Convert string to Armeria HttpData\nObservable<HttpData> httpDataStream = dataStream.map(HttpData::ofUtf8);\n"})}),"\n",(0,n.jsxs)(r.p,{children:["\uc5b4\ub5a4 \uc2dd\uc73c\ub85c \uc751\ub2f5\ud560\uc9c0 \uacb0\uc815\ud558\uc5ec \uc751\ub2f5 \ud5e4\ub354\ub97c \uc900\ube44\ud55c \ud6c4, ",(0,n.jsx)(r.code,{children:"concat"})," \uc5f0\uc0b0\uc790\ub85c \uc704\uc5d0\uc11c \uc900\ube44\ud55c ",(0,n.jsx)(r.code,{children:"httpDataStream"}),"\uacfc \ud569\uce58\uba74, ",(0,n.jsx)(r.code,{children:"HttpHeaders"}),"\uc5d0\uc11c ",(0,n.jsx)(r.code,{children:"HttpData"}),"\ub85c \uc5f0\uacb0\ub418\ub294 \ud558\ub098\uc758 \uc2a4\ud2b8\ub9bc\uc774 \uc644\uc131\ub429\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// 3. Prepare response headers\nResponseHeaders httpHeaders = ResponseHeaders.of(HttpStatus.OK);\n\n// 4. Concat http header and body stream\nObservable<HttpObject> responseStream = Observable.concat(Observable.just(httpHeaders), httpDataStream);\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"\uc644\uc131\ub41c \uc2a4\ud2b8\ub9bc\uc744 Observable"}),"\uc758 ",(0,n.jsx)(r.code,{children:"toFlowable"})," \ud568\uc218\ub97c \uc774\uc6a9\ud558\uc5ec Reactive Streams\uc758 ",(0,n.jsx)(r.a,{href:"https://www.baeldung.com/rxjava-2-flowable",children:"Flowable"}),"\ub85c \ubcc0\ud658\ud55c \ub4a4, \ucd5c\uc885\uc801\uc73c\ub85c Armeria\uc758 ",(0,n.jsx)(r.code,{children:"HttpResponse\ub85c"})," \uac10\uc2f8\uba74 \uacfc\uc815\uc774 \ub05d\ub0a9\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// 5. Convert Observable to Armeria Response Stream\nHttpResponse response = HttpResponse.of(responseStream.toFlowable(BackpressureStrategy.BUFFER));\n"})}),"\n",(0,n.jsx)(r.h3,{id:"armeria-\ube4c\ud2b8\uc778-publisher",children:"Armeria \ube4c\ud2b8\uc778 Publisher"}),"\n",(0,n.jsxs)(r.p,{children:["\uc704 \uacfc\uc815\uc774 \uc870\uae08 \ubcf5\uc7a1\ud558\uac70\ub098, \ud639\uc740 \uc9c0\ub8e8\ud558\uac8c \ub290\uaef4\uc84c\uc744 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c Armeria\uc5d0\uc11c\ub294 \uc6f9\uc5d0\uc11c \uc2a4\ud2b8\ub9bc \ub370\uc774\ud130\ub97c \uc804\ub2ec\ud558\ub294 \ubc29\ubc95\uc758 \ud45c\uc900\uc778 ",(0,n.jsx)(r.a,{href:"https://tools.ietf.org/html/rfc7464",children:"JSON Text Sequences(RFC 7464)"}),"\uc640 HTML5 \uaddc\uaca9\uc778 ",(0,n.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Server-sent_events",children:"Server-sent events"}),"\uc5d0 \ub300\ud55c \ube4c\ud2b8\uc778 Publisher\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc774 publisher\ub97c \uc774\uc6a9\ud558\uba74 Reactive Streams\ub97c \uc880 \ub354 \ud3b8\ub9ac\ud558\uac8c \uc6f9\uc73c\ub85c \uc804\ub2ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// Fetch data from Reactive Streams Publisher\nPublisher<String> dataStream = Flux.just(\u201ca\u201d, \u201cb\u201d, \u201cc\u201d, \u201cd\u201d, \u201ce\u201d);\n\n// Convert Publisher to JSON Text Sequences with Armeria HttpResponse\n// with \u201capplication/json-seq\u201d MIME type\nHttpResponse httpResponse = JsonTextSequences.fromPublisher(dataStream);\n\n// Convert Publisher to Server-sent Events with Armeria HttpResponse\n// with \u201ctext/event-stream\u201d MIME type\nHttpResponse httpResponse = ServerSentEvents\n        .fromPublisher(dataStream, SeverSentEvent::ofData);\n"})}),"\n",(0,n.jsxs)(r.p,{children:["\ub610\ud55c \ube4c\ud2b8\uc778 publisher\ub97c \ub354\uc6b1 \uc27d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d RxJava \ud1b5\ud569\uc744 \uc9c0\uc6d0\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc5b4\ub178\ud14c\uc774\uc158\ud55c \uc11c\ube44\uc2a4\uc5d0 ",(0,n.jsx)(r.code,{children:"@ProduceJsonSequence"})," \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ucd94\uac00\ud558\uace0, ",(0,n.jsx)(r.code,{children:"Observable"}),"\uc744 \uadf8\ub300\ub85c \ubc18\ud658\ud558\uba74 Armeria\uc5d0\uc11c \ud574\ub2f9 \ud504\ub85c\ud1a0\ucf5c\ub85c \uc790\ub3d9\uc73c\ub85c \ubcc0\ud658\ud569\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"import io.reactivex.Observable;\nimport com.linecorp.armeria.server.annotation.ProducesJsonSequences;\n\nclass RxJavaService {\n    @Get(\u201c/json-streaming\u201d)\n      // Generate JSON Text Sequences\n    @ProducesJsonSequences\n    public Observable<String> json() {\n          // Just return RxJava Observable!\n        return Observable.just(\u201ca\u201d, \u201cb\u201d, \u201cc\u201d);\n    }\n};\n"})}),"\n",(0,n.jsxs)(r.p,{children:["\uc544\ub798\uc640 \uac19\uc774'JsonTextSequences'\ub85c \uc778\ucf54\ub529\ud558\uba74 JSON \ubb38\uc790\uc5f4\uc758 \uc2dc\uc791\uacfc \ub05d\uc5d0 \ub808\ucf54\ub4dc \uad6c\ubd84\uc790(separator)\uc640 \ub77c\uc778 \ud53c\ub4dc(line feed)\uac00 \ucd94\uac00\ub429\ub2c8\ub2e4. \ub610\ud55c \ud604\uc7ac \ud504\ub85c\ud1a0\ucf5c\uc5d0 \ub530\ub77c HTTP/1\uacfc HTTP/2\ub85c \uc804\uc1a1\ub420 \ub54c \ub2e4\ub974\uac8c \ub3d9\uc791\ud574\uc57c \ud558\ub294\ub370\uc694.\nArmeria\uc5d0\uc120 \ud604\uc7ac \uc5f0\uacb0\ub41c \ud504\ub85c\ud1a0\ucf5c\uc5d0 \ub530\ub77c \uc54c\uc544\uc11c \uc801\ud569\ud55c \ud615\ud0dc\uc758 \ub370\uc774\ud130\ub85c \uc804\uc1a1\ud569\ub2c8\ub2e4.\nHTTP/2\uc758 \uacbd\uc6b0\uc5d0\ub294 ",(0,n.jsx)(r.a,{href:"https://http2.github.io/http2-spec/#DATA",children:"Data frame"}),"\uc548\uc5d0 JSON \ub370\uc774\ud130\ub97c \ub098\ub204\uc5b4\uc11c \ubcf4\ub0b4\uace0, HTTP/1\uc758 \uacbd\uc6b0\uc5d0\ub294 ",(0,n.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Chunked_transfer_encoding",children:"chunked transfer encoding"}),"\uc744 \uc774\uc6a9\ud558\uc5ec \ub098\ub204\uc5b4\uc11c \ubcf4\ub0c5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(51376).A+"",width:"3278",height:"1818"})}),"\n",(0,n.jsx)(r.h2,{id:"spring-webflux-\ud1b5\ud569",children:"Spring WebFlux \ud1b5\ud569"}),"\n",(0,n.jsxs)(r.p,{children:["Armeria\ub294 \ub2e4\uc591\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac \ubc0f \ud504\ub808\uc784\uc6cc\ud06c\uc640\uc758 \uc5f0\ub3d9\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.\nReactive Streams\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c \uc774\ubbf8 ",(0,n.jsx)(r.a,{href:"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html",children:"Spring WebFlux"}),"\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4\uba74, \ubcc4\ub3c4\uc758 \ucf54\ub4dc \uc218\uc815 \uc5c6\uc774 'armeria-spring-boot-webflux-starter'\ub97c \uc758\uc874\uc131\uc5d0 \ucd94\uac00(",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/advanced-spring-webflux-integration.html",children:"\ucc38\uace0"}),")\ud558\ub294 \uac83\ub9cc\uc73c\ub85c Armeria\ub85c\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \ub05d\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7f0 \ubc29\uc2dd\uc73c\ub85c WebFlux\uc758 \ub124\ud2b8\uc6cc\ud06c \ub808\uc774\uc5b4\uc778 ",(0,n.jsx)(r.a,{href:"https://github.com/reactor/reactor-netty",children:"Reactor-Netty"}),"\ub97c Armeria\uc758 Reactive \uc5d4\uc9c4\uc73c\ub85c \uad50\uccb4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(87576).A+"",width:"3120",height:"1346"})}),"\n",(0,n.jsx)(r.p,{children:"\ub2e8\uc21c\ud788 \uc5d4\uc9c4\ub9cc \uad50\uccb4\ud558\ub294 \uac70\ub77c\uba74 '\uadf8\ub0e5 WebFlux\ub9cc \uc0ac\uc6a9\ud558\uba74 \ub418\uc9c0 \uc54a\uc744\uae4c?'\ub77c\ub294 \uc758\ubb38\uc774 \uc0dd\uae38 \uc218\ub3c4 \uc788\ub294\ub370\uc694. \uacfc\uc5f0 \uc5b4\ub5a4 \uc774\uc810\uc774 \uc788\ub294 \uac78\uae4c\uc694?"}),"\n",(0,n.jsxs)(r.p,{children:["\uc5d4\uc9c4\uc744 \uad50\uccb4\ud558\uba74 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/com/linecorp/armeria/spring/ArmeriaServerConfigurator.html",children:"ArmeriaServerConfigurator"}),"\ub97c \ud1b5\ud574\uc11c Spring\uc5d0 Armeria\uc758 \uae30\ub2a5\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc5b4\uc11c, \uae30\uc874 Spring\uc5d0\uc11c\ub294 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Armeria\ub9cc\uc758 \uae30\ub2a5\uc744 \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc544\ub798\uc640 \uac19\uc774 REST API\ub85c \uad6c\uc131\ub41c \uae30\uc874 Spring Webflux \uc11c\ubc84\uc5d0 gRPC\ub098 Thrift \uae30\ub2a5\uc744 \ucd94\uac00\ud558\uc5ec \uae30\uc874\uacfc \ub3d9\uc77c\ud55c, \ub2e8\uc77c \ud3ec\ud2b8\uc5d0\uc11c \uc11c\ube44\uc2a4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"@Configuration\npublic class ArmeriaConfiguration {\n   // Configure the server by providing an ArmeriaServerConfigurator bean.\n   @Bean\n   public ArmeriaServerConfigurator armeriaServerConfigurator() {\n       // Customize the server using the given ServerBuilder. For example:\n       return builder -> {\n           // Add DocService that enables you to send gRPC and Thrift requests from web browser.\n           builder.serviceUnder(\u201c/docs\u201d, new DocService());\n           // Log every message which the server receives and responds.\n           builder.decorator(LoggingService.newDecorator());\n           // Write access log after completing a request.\n           builder.accessLogWriter(AccessLogWriter.combined(), false);\n           // You can also bind asynchronous RPC services such as Thrift and gRPC:\n           builder.service(THttpService.of(\u2026));\n           builder.service(GrpcService.builder()\u2026build());\n       };\n   }\n}\n"})}),"\n",(0,n.jsx)(r.p,{children:"\ub610\ud55c \uc774\uc678\uc5d0\ub3c4 \uc55e\uc11c \uc124\uba85\ub4dc\ub9b0 decorator \uae30\ub2a5\uc744 \ud65c\uc6a9\ud574\uc11c \ub354\uc6b1\ub354 \ud48d\uc131\ud55c \uc11c\ube44\uc2a4\ub85c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.h2,{id:"grpc-\uc2a4\ud2b8\ub9bc-\uc9c0\uc6d0",children:"gRPC \uc2a4\ud2b8\ub9bc \uc9c0\uc6d0"}),"\n",(0,n.jsxs)(r.p,{children:["gRPC\ub294 ",(0,n.jsx)(r.a,{href:"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/StreamObserver.html",children:"StreamObserver"}),"\ub97c \uc774\uc6a9\ud558\uc5ec \uc2a4\ud2b8\ub9bc\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4(",(0,n.jsx)(r.a,{href:"https://grpc.io/docs/tutorials/basic/java/#server-side-streaming-rpc",children:"\ucc38\uace0"}),"). \uadf8\ub9ac\uace0 Reactive Streams\uc5d0\uc120 gRPC\uc758 ",(0,n.jsx)(r.a,{href:"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/StreamObserver.html",children:"StreamObserver"}),"\ub85c \uc190\uc27d\uac8c \ubcc0\ud658\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\uc81c\ub97c \ud1b5\ud574\uc11c \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.p,{children:"\uc6b0\uc120 \uc544\ub798\uc640 \uac19\uc774 protobuf\ub97c \uc774\uc6a9\ud574 \ub370\uc774\ud130\ub97c \uc5b4\ub5a4 \uc2dd\uc73c\ub85c \uc8fc\uace0\ubc1b\uc744\uc9c0, \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc815\uc758\ud569\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"syntax = \u201cproto3\u201d;\npackage users;\noption java_package = \u201cusers\u201d;\n\nservice UserService {\n  // Returns all user information\n  rpc getAllUsers(UserRequest) returns (stream User) {}\n\n  // Push to stream of users\n  rpc pushToUsers(stream User) returns (Result) {}\n}\n"})}),"\n",(0,n.jsx)(r.p,{children:"\uc804\uccb4 \ud68c\uc6d0\uc5d0\uac8c \uba54\uc77c \ud639\uc740 \ud478\uc2dc \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\uace0 \uc2f6\ub2e4\uba74 \uba3c\uc800 \ubaa8\ub4e0 \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uc870\ud68c\ud574\uc57c \ud558\ub294\ub370\uc694. \ub9cc\uc57d \ud68c\uc6d0 \uc218\uac00 \ub108\ubb34 \ub9ce\ub2e4\uba74 \ub370\uc774\ud130\ub97c \ud55c \ubc88\uc5d0 \uc804\uc1a1\ud558\ub294 \uac8c \uc5b4\ub824\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7f4 \ub54c \uc544\ub798\uc640 \uac19\uc740 \ubc29\ubc95\uc73c\ub85c \ub300\ub7c9\uc758 \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \ubc18\ud658\ud558\ub294 \uc2a4\ud2b8\ub9bc \uc11c\ubc84\ub97c gRPC\ub85c \uad6c\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["ProjectReactor\uc758 ",(0,n.jsx)(r.code,{children:"Flux"}),"\ub97c Publisher\ub85c \uc0ac\uc6a9\ud558\uc5ec \uc800\uc7a5\uc18c\uc5d0\uc11c \uc2a4\ud2b8\ub9bc \ud615\ud0dc\ub85c \ub370\uc774\ud130\ub97c \uc870\ud68c\ud569\ub2c8\ub2e4."]}),"\n",(0,n.jsxs)(r.li,{children:["gRPC\uc758 ",(0,n.jsx)(r.code,{children:"StreamObservser"}),"\ub85c \ubcc0\ud658\ud558\uc5ec \uc678\ubd80\ub85c \uc804\uc1a1\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"// Implement interfaces generated by gRPC\npublic final class UserServiceImpl extends UserServiceImplBase {\n    @Override\n    public void getAllUsers(UserRequest request, StreamObserver<User> responseObserver) {\n        final Flux<User> userPublisher = userRepo.findAll();\n        publisher.subscribe(responseObserver::onNext,\n                            responseObserver::onError,\n                            responseObserver::onCompleted);\n    }\n}\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.code,{children:"StreamObserver"}),"\uc5d0\ub3c4 Reactive Streams\uc640 \uc720\uc0ac\ud558\uac8c ",(0,n.jsx)(r.code,{children:"onNext"}),", ",(0,n.jsx)(r.code,{children:"onError"}),", ",(0,n.jsx)(r.code,{children:"onCompleted"})," \ud568\uc218\uac00 \uc874\uc7ac\ud558\uae30 \ub54c\ubb38\uc5d0 \uac01\uac01\uc758 API\ub97c \ub9e4\uce6d\ud574\uc11c \uc5f0\uacb0\ud558\uae30\ub9cc \ud558\uba74 \ub429\ub2c8\ub2e4."]}),"\n",(0,n.jsxs)(r.p,{children:["\uc774\ubc88\uc5d0\ub294 \uc218\uc2e0 \uce21\uc5d0\uc11c \uc804\uccb4 \uc0ac\uc6a9\uc790\uc758 \uc815\ubcf4\ub97c \uc2a4\ud2b8\ub9bc\uc73c\ub85c \ubc1b\ub294 \uac83\uc744 \uc0dd\uac01\ud574 \ubcfc \uac74\ub370\uc694. ",(0,n.jsx)(r.a,{href:"https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Processor.html",children:"Processor"}),"\ub97c \ud65c\uc6a9\ud558\uaca0\uc2b5\ub2c8\ub2e4. ",(0,n.jsx)(r.code,{children:"Processor"}),"\ub294 \ubcc4\ub3c4\uc758 API\ub97c \uac00\uc9c0\uace0 \uc788\uc9c0 \uc54a\uace0, ",(0,n.jsx)(r.code,{children:"Subscriber"}),"\uc640 ",(0,n.jsx)(r.code,{children:"Publisher,"})," \uc774 \ub450 \uac1c\uc758 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0c1\uc18d\ubc1b\uace0 \uc788\ub294 \uac8c \uc804\ubd80\uc778\ub370\uc694. \ub370\uc774\ud130\ub97c \uad6c\ub3c5 \ubc1b\uace0, \uad6c\ub3c5\ud55c \ub370\uc774\ud130\ub97c \ub2e4\uc2dc \ubc1c\ud589\ud560 \ub54c \uc720\uc6a9\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,n.jsx)(r.code,{children:"StreamObserver"}),"\uc758 ",(0,n.jsx)(r.code,{children:"onNext"}),"\ub85c \ub4e4\uc5b4\uc628 \uc0c8\ub85c\uc6b4 \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c ",(0,n.jsx)(r.code,{children:"Processor"}),"\uc758 ",(0,n.jsx)(r.code,{children:"onNext"})," \ud568\uc218\ub85c \uc804\ub2ec\ud560 \uc218 \uc788\uace0, \uc774\ub97c \ub2e4\uc2dc \uad6c\ub3c5\ud574\uc11c \uc6d0\ud558\ub294 \uc791\uc5c5\uc744 \ucd94\uac00\ub85c \uc218\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"@Override\npublic StreamObserver<User> pushToUsers(StreamObserver<Result> responseObserver) {\n    Processor<User, User> processor = EmitterProcessor.create();\n    Publisher<User> publisher = processor;\n    Subscriber<User> subscriber = processor;\n    // Push one-by-one by subscribing publisher\n    ...\n\n      return new StreamObserver<User>() {\n        // subscribe user data\n        @Override public void onNext(User user) { processor.onNext(user); }\n        @Override public void onError(Throwable throwable) { processor.onError(throwable); }\n        @Override public void onCompleted() {\n            responseObserver.onNext(Result.newBuilder().setStatus(200).build());\n            responseObserver.onCompleted();\n        }\n    };\n}\n"})}),"\n",(0,n.jsx)(r.p,{children:"\uc791\uc131\ud55c gRPC \ucf54\ub4dc\ub97c Armeria\uc5d0\uc11c \uc2e4\ud589\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"import com.linecorp.armeria.server.Server;\nimport com.linecorp.armeria.server.grpc.GrpcService;\n\n// Add your grpc service to Armeria GrpcService\nvar grpcService = GrpcService.builder()\n                             .addService(new UserServiceImpl())\n                             .build();\n\nvar server = Server.builder()\n                   .http(8080)\n                   .serviceUnder(\u201c/grpc\u201d, grpcService)\n                   .serviceUnder(\u201c/docs\u201d, new DocService())\n                   .build();\n"})}),"\n",(0,n.jsx)(r.p,{children:"\uc774\ub807\uac8c \ub9cc\ub4e0 \uc2a4\ud2b8\ub9bc \uc11c\ubc84\ub97c \uc774\uc6a9\ud574 \uc791\uc740 \uba54\ubaa8\ub9ac\ub85c\ub3c4 \ub9ce\uc740 \uc591\uc758 \ub370\uc774\ud130\ub97c \uc2a4\ud2b8\ub9bc \ud615\ud0dc\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.h2,{id:"\ub9c8\uc774\ud06c\ub85c-\uc11c\ube44\uc2a4\ub97c-\uc704\ud55c-armeria\uc758-\uae30\ub2a5",children:"\ub9c8\uc774\ud06c\ub85c \uc11c\ube44\uc2a4\ub97c \uc704\ud55c Armeria\uc758 \uae30\ub2a5"}),"\n",(0,n.jsx)(r.p,{children:"Armeria\ub97c \ud1b5\ud574 Reactive Streams\ub97c \ud65c\uc6a9\ud558\uba74 \ub9ce\uc740 \uc591\uc758 \ub370\uc774\ud130\uc640 \ud2b8\ub799\ud53d\uc744 \uc720\uc5f0\ud558\uac8c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c RPC\ub97c \ud1b5\ud574\uc11c \ub9c8\uc774\ud06c\ub85c \uc11c\ube44\uc2a4\uac04 \ud1b5\uc2e0\ub3c4 \uc27d\uac8c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.p,{children:"\uc774\uc678\uc5d0\ub3c4 \uc544\ub798\uc640 \uac19\uc774 \ub9c8\uc774\ud06c\ub85c \uc11c\ube44\uc2a4\uc5d0 \ud544\uc694\ud55c \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \uc11c\ubc84\uc758 \uc704\uce58\ub97c \ud30c\uc545\ud558\uae30 \uc704\ud574 Kubernetes \uc720\ud615\uc758 DNS(Domain Name System)\uc640 ZooKeeper\ub97c \ud65c\uc6a9\ud55c \uc11c\ube44\uc2a4 \uac80\uc0c9(discovery)\uc744 \uc81c\uacf5(",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/advanced-zookeeper.html",children:"\ucc38\uace0"}),")\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.li,{children:"\uac80\uc0c9\ub41c \uc11c\ube44\uc2a4\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8 \uce21 \ub85c\ub4dc \ubc38\ub7f0\uc2f1\uc73c\ub85c \uc9c1\uc811 \ubd80\ud558\ub97c \ubd84\uc0b0\ud558\uba70 \uc11c\ubc84\uc640 \ud1b5\uc2e0\ud569\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574 \uc7a5\uc560\uc810\uc744 \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://www.nginx.com/resources/glossary/layer-7-load-balancing/",children:"L7"}),"\uc774 \uc544\ub2cc \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc9c1\uc811 \uc11c\ubc84 \uc0c1\ud0dc\ub97c \uccb4\ud06c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,n.jsx)(r.li,{children:"\ub85c\uadf8\ub97c \ud655\uc778\ud560 \ub54c \ubd84\uc0b0\ub41c \uc11c\ubc84\uc5d0 \uc811\uadfc\ud558\uc9c0 \uc54a\uace0\ub3c4 \ud655\uc778\ud560 \uc218 \uc788\ub3c4\ub85d Kafka\ub85c \uc811\uc18d \ub85c\uadf8\ub97c \uc804\uc1a1\ud569\ub2c8\ub2e4."}),"\n",(0,n.jsx)(r.li,{children:"Micrometer\ub97c \ud65c\uc6a9\ud574\uc11c \ud544\uc694\ud55c \uc218\uce58\ub97c \uc124\uc815, \uc218\uc9d1\ud558\uc5ec Prometheus\ub098 Netflix\uc758 Atlas\uc640 \uac19\uc740 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubaa8\ub2c8\ud130\ub9c1 \ud234\ub85c \uc804\uc1a1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{src:i(74690).A+"",width:"3076",height:"1428"})}),"\n",(0,n.jsx)(r.h2,{id:"\ub9c8\uce58\uba70",children:"\ub9c8\uce58\uba70"}),"\n",(0,n.jsx)(r.p,{children:"\ub450 \ubc88\uc5d0 \uac78\uccd0 Reactive Streams\uc640 Armeria\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc744 \uacf5\uc720\ub4dc\ub838\uc2b5\ub2c8\ub2e4. \ud568\uaed8 \uc0b4\ud3b4\ubcf4\uc558\ub4ef Armeria\ub97c \uc774\uc6a9\ud558\uba74, Reactive Streams\uc640 \uace0\uc131\ub2a5, \ube44\ub3d9\uae30, RPC, HTTP/2\ub97c \uc9c0\uc6d0\ud558\uba74\uc11c \uc7a5\uc560\uc5d0 \ud0c4\ub825\uc801\uc778, \ubcf4\ub2e4 \uc548\uc804\ud55c \uc11c\ubc84\ub97c \uad6c\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(r.p,{children:["Armeria\uc5d0\uc120 \ud3ec\uc2a4\ud305\uc5d0\uc11c \uc5b8\uae09\ud55c \uae30\ub2a5 \uc678\uc5d0 \ub354 \ub9ce\uc740 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc640 \uad00\ub828\ud558\uc5ec Armeria\uc758 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/index.html",children:"\uacf5\uc2dd \ud648\ud398\uc774\uc9c0"}),"\uc640 \uc544\ub798 \ub9c1\ud06c\ub97c \ucc38\uace0\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["GitHub: ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria",children:"line/armeria"})]}),"\n",(0,n.jsxs)(r.li,{children:["Twitter: ",(0,n.jsx)(r.a,{href:"https://twitter.com/armeria_project",children:"@armeria_project"})]}),"\n",(0,n.jsxs)(r.li,{children:["Chat: ",(0,n.jsx)(r.a,{href:"https://armeria.dev/s/discord",children:"Discord"})]}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/index.html",children:"API documentation"})}),"\n",(0,n.jsxs)(r.li,{children:["Armeria examples: ",(0,n.jsx)(r.a,{href:"https://github.com/line/armeria-examples",children:"line/armeria-examples"})]}),"\n"]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h4,{id:"footnotes",children:"Footnotes"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/server-grpc.html",children:"gRPC \uc11c\ubc84\ub97c Armeria\uc5d0\uc11c \uad6c\ub3d9\ud558\ub294 \ubc95"}),"\uacfc ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/server-thrift.html",children:"Thrift \uc11c\ubc84\ub97c Armeria\uc5d0\uc11c \uad6c\ub3d9\ud558\ub294 \ubc95"}),"\uc744 \ucc38\uace0\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."]}),"\n",(0,n.jsxs)(r.li,{children:["Armeria\uc5d0\uc11c \uae30\ubcf8\uc801\uc73c\ub85c \uc81c\uacf5\ud558\ub294 \ub2e4\uc591\ud55c decorator\ub294 \uacf5\uc2dd \ubb38\uc11c\uc640 \uc544\ub798 Javadoc\uc5d0\uc11c \ud655\uc778\ud574 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/com/linecorp/armeria/server/SimpleDecoratingHttpService.html",children:"SimpleDecoratingHttpService"}),"\uc640 ",(0,n.jsx)(r.a,{href:"https://line.github.io/armeria/apidocs/com/linecorp/armeria/client/SimpleDecoratingClient.html",children:"SimpleDecoratingClient"}),"\uc758 Direct Known Subsclasses \ud56d\ubaa9"]}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},55206:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-3-19c9d7f507f0cc7efb072673431792ff.png"},57625:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-4-d1176606f39d7cc2951b0a21a74b80c6.png"},74690:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-7-da8c2428f8f86f6212efef177ca57d88.png"},87576:(e,r,i)=>{i.d(r,{A:()=>s});const s=i.p+"assets/images/reactive-streams-armeria-2-6-0408b3405e56818eebd1d7b8471bbc75.png"}}]);