"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[2726],{28453:(e,a,r)=>{r.d(a,{R:()=>s,x:()=>o});var n=r(96540);const i={},t=n.createContext(i);function s(e){const a=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(t.Provider,{value:a},e.children)}},49925:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"1.7.0","title":"v1.7.0","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/1.7.0.mdx","sourceDirName":".","slug":"/1.7.0","permalink":"/release-notes/1.7.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/1.7.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2021-04-28T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.7.1","permalink":"/release-notes/1.7.1"},"next":{"title":"v1.6.0","permalink":"/release-notes/1.6.0"}}');var i=r(74848),t=r(28453);const s={date:new Date("2021-04-28T00:00:00.000Z")},o="v1.7.0",c={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{ThankYou:r}=a;return r||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.header,{children:[(0,i.jsx)(a.h1,{id:"v170",children:"v1.7.0"}),(0,i.jsx)(a.p,{children:(0,i.jsx)(a.em,{children:"April 28, 2021"})})]}),"\n",(0,i.jsx)(a.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["You can now monitor the state of all live threads and heap using ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/management/ManagementService.html",children:"ManagementService"}),". ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3463",children:"#3463"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'// Server\nServer.builder()\n      .serviceUnder("/internal/management/", ManagementService.of())\n      ...\n// Client\nWebClient client = ...\nclient.get("/internal/management/jvm/threaddump").aggregate().join();\nclient.get("/internal/management/jvm/heapdump").aggregate().join();\n'})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["You can now set the abbreviated service name that is similar to the abbreviated logger name of\n",(0,i.jsx)(a.a,{href:"http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout",children:"Logback"})," via\n",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceNaming.html#shorten(int)",children:"ServiceNaming#shorten(int)"}),". ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3453",children:"#3453"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:"Server.builder()\n      .defaultServiceNaming(ServiceNaming.shorten(30))\n      ...\n"})}),"\n"]}),"\n"]}),"\n","\n",(0,i.jsx)(a.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["You no longer see a wrong ",(0,i.jsx)(a.code,{children:"serviceName"})," for annotated services when ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceNaming.html",children:"ServiceNaming"})," is used. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3468",children:"#3468"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"ServiceRequestContext.config().defaultServiceName()"})," no longer returns ",(0,i.jsx)(a.code,{children:"null"})," if a default service name\nis specified."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see a ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/ClosedStreamException.html",children:"ClosedStreamException"})," when a gRPC call is cancelled by a client. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3452",children:"#3452"})," ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3455",children:"#3455"})]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see the ",(0,i.jsx)(a.code,{children:"Failed to force-initialize 'io.netty.channel.unix.Socket'"})," error message when\nArmeria attempts to load native libraries. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3457",children:"#3457"})," ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3485",children:"#3485"})]}),"\n",(0,i.jsxs)(a.li,{children:["You can now specify an absolute URI using ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClient.html#prepare()",children:"WebClient#prepare()"}),". ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3479",children:"#3479"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["You can specify a query string both in a path string and via\n",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClientRequestPreparation.html#queryParam(java.lang.String,java.lang.Object)",children:"WebClientRequestPreparation#queryParam(String,Object)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see redundant parameters in ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"})," when Kotlin data class is used. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3454",children:"#3454"})," ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3461",children:"#3461"})]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see an ",(0,i.jsx)(a.code,{children:"IllegalStateException"})," when a ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html#of(java.nio.file.Path)?full",children:"StreamMessage#of(Path)"})," or\n",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html#of(java.io.File)?full",children:"StreamMessage#of(File)"})," is used in a client-side. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3450",children:"#3450"})]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer have to specify a custom ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/JacksonRequestConverterFunction.html",children:"JacksonRequestConverterFunction"})," or\n",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/JacksonResponseConverterFunction.html",children:"JacksonResponseConverterFunction"})," for Kotlin data class and Scala case class if you add\n",(0,i.jsx)(a.code,{children:"com.fasterxml.jackson.module:jackson-module-kotlin"})," or ",(0,i.jsx)(a.code,{children:"com.fasterxml.jackson.module:jackson-module-scala"}),"\nas a dependency. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3458",children:"#3458"})]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see an ",(0,i.jsx)(a.code,{children:"EofException"})," when writing to a timed-out response stream in ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/jetty/JettyService.html",children:"JettyService"}),".\nIt's discarded silently. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3460",children:"#3460"})]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see a ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/CancellationException.html",children:"CancellationException"})," when an exception is raised by\na ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/FilteredStreamMessage.html",children:"FilteredStreamMessage"}),". ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3449",children:"#3449"})]}),"\n",(0,i.jsxs)(a.li,{children:["You no longer see the ",(0,i.jsx)(a.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/RequestTimeoutException.html",children:"RequestTimeoutException"})," log message when a response stream fails due to\ncancellation or timeout. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3459",children:"#3459"})]}),"\n",(0,i.jsxs)(a.li,{children:["A timeout exception is created only when a request or response is timed out. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3462",children:"#3462"})]}),"\n",(0,i.jsxs)(a.li,{children:["Armeria now rejects all CONNECT requests explicitly, except HTTP/2 CONNECT requests with a ",(0,i.jsx)(a.code,{children:":protocol"}),"\npseudo header. ",(0,i.jsx)(a.a,{href:"https://github.com/line/armeria/issues/3482",children:"#3482"})]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Caffeine 2.8.8 \u2192 2.9.0"}),"\n",(0,i.jsx)(a.li,{children:"Dropwizard 2.0.20 \u2192 2.0.21"}),"\n",(0,i.jsx)(a.li,{children:"Dropwizard metrics 4.1.18 \u2192 4.1.20"}),"\n",(0,i.jsx)(a.li,{children:"gRPC 1.36.1 \u2192 1.37.0"}),"\n",(0,i.jsx)(a.li,{children:"Micrometer 1.6.5 \u2192 1.6.6"}),"\n",(0,i.jsx)(a.li,{children:"Jackson 2.12.2 \u2192 2.12.3"}),"\n",(0,i.jsx)(a.li,{children:"java-jwt 3.14.0 \u2192 3.15.0"}),"\n",(0,i.jsx)(a.li,{children:"Reactor 3.4.4 \u2192 3.4.5"}),"\n",(0,i.jsx)(a.li,{children:"RxJava 3.0.11 \u2192 3.0.12"}),"\n",(0,i.jsx)(a.li,{children:"scalapb-runtime_2.12 0.11.1 \u2192 0.11.2"}),"\n",(0,i.jsx)(a.li,{children:"Spring Boot 2.4.4 \u2192 2.4.5"}),"\n",(0,i.jsx)(a.li,{children:"Spring web 5.3.5 \u2192 5.3.6"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,i.jsx)(r,{usernames:["anuraaga","fclemonschool","heowc","hexoul","ikhoon","minwoox","trustin","Waynefn"]})]})}function d(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);