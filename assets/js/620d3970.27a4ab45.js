"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[7986],{7694:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>f,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"client/retrofit","title":"Retrofit integration","description":"Retrofit is a library that simplifies the access to RESTful services","source":"@site/src/content/docs/client/retrofit.mdx","sourceDirName":"client","slug":"/client/retrofit","permalink":"/docs/client/retrofit","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/docs/client/retrofit.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Decorating a client","permalink":"/docs/client/decorator"},"next":{"title":"Sending custom HTTP headers","permalink":"/docs/client/custom-http-headers"}}');var n=r(74848),o=r(28453);const a={},c="Retrofit integration",s={},l=[];function d(e){const t={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{RequiredDependencies:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("RequiredDependencies",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"retrofit-integration",children:"Retrofit integration"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://square.github.io/retrofit/",children:"Retrofit"})," is a library that simplifies the access to RESTful services\nby turning an HTTP API into a Java interface."]}),"\n",(0,n.jsxs)(t.p,{children:["Armeria provides a builder class called ",(0,n.jsx)(t.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retrofit2/ArmeriaRetrofit.html",children:"ArmeriaRetrofit"})," that builds an alternative\n",(0,n.jsx)(t.code,{children:"Retrofit"})," implementation that replaces the networking engine of Retrofit from ",(0,n.jsx)(t.a,{href:"https://square.github.io/okhttp/",children:"OkHttp"}),"\nto Armeria. By doing so, you get the following benefits:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Better performance, thanks to ",(0,n.jsx)(t.a,{href:"https://netty.io/",children:"Netty"})," and its JNI-based I/O and TLS implementation"]}),"\n",(0,n.jsx)(t.li,{children:"Leverage other advanced features of Armeria, such as client-side load-balancing and service discovery"}),"\n",(0,n.jsxs)(t.li,{children:["Cleartext HTTP/2 support, as known as ",(0,n.jsx)(t.code,{children:"h2c"})]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["First, you need ",(0,n.jsx)(t.code,{children:"armeria-retrofit2"})," dependency:"]}),"\n",(0,n.jsx)(r,{boms:[{groupId:"com.linecorp.armeria",artifactId:"armeria-bom"}],dependencies:[{groupId:"com.linecorp.armeria",artifactId:"armeria-retrofit2"}]}),"\n",(0,n.jsxs)(t.p,{children:["Now, you can build ",(0,n.jsx)(t.code,{children:"Retrofit"})," using ",(0,n.jsx)(t.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retrofit2/ArmeriaRetrofit.html#builder(java.lang.String)",children:"ArmeriaRetrofit#builder(String)"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",children:'import com.linecorp.armeria.client.retrofit2.ArmeriaRetrofit;\n\nimport retrofit2.Retrofit;\nimport retrofit2.converter.jackson.JacksonConverterFactory;\nimport retrofit2.http.GET;\nimport retrofit2.http.Path;\n\nclass UserInfo { ... }\n\ninterface MyService {\n    @GET("/userInfo/{id}")\n    CompletableFuture<UserInfo> getUserInfo(@Path("id") String id);\n}\n\nRetrofit retrofit = ArmeriaRetrofit.builder("http://localhost:8080/")\n                                   .addConverterFactory(JacksonConverterFactory.create())\n                                   .build();\n\nMyService service = retrofit.create(MyService.class);\nUserInfo userInfo = service.getUserInfo("foo").get();\n'})}),"\n",(0,n.jsxs)(t.p,{children:["For more information, please refer to the API documentation of the\n",(0,n.jsx)(t.a,{href:"https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retrofit2/package-summary.html",children:"com.linecorp.armeria.client.retrofit2"})," package."]})]})}function f(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>c});var i=r(96540);const n={},o=i.createContext(n);function a(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);