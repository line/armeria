"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[6910],{26843:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"1.24.0","title":"v1.24.0","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/1.24.0.mdx","sourceDirName":".","slug":"/1.24.0","permalink":"/release-notes/1.24.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site-new/src/content/release-notes/1.24.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2023-06-15T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.24.1","permalink":"/release-notes/1.24.1"},"next":{"title":"v1.23.1","permalink":"/release-notes/1.23.1"}}');var t=i(74848),a=i(28453);const o={date:new Date("2023-06-15T00:00:00.000Z")},s="v1.24.0",c={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\ud83d\udcc3 Documentation",id:"-documentation",level:2},{value:"\ud83c\udfda\ufe0f Deprecations",id:"\ufe0f-deprecations",level:2},{value:"\u2622\ufe0f Breaking changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{ThankYou:i}=r;return i||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.header,{children:[(0,t.jsx)(r.h1,{id:"v1240",children:"v1.24.0"}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.em,{children:"June 15, 2023"})})]}),"\n",(0,t.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Unix Domain Socket Support"}),": You can now use ",(0,t.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Unix_domain_socket",children:"Unix domain socket"}),"\nto serve and send requests which is useful for configuring a service mesh to communicate with a sidecar. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/1837",children:"#1837"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4846",children:"#4846"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'import com.linecorp.armeria.common.util.DomainSocketAddress;\n\nDomainSocketAddress domainSocketAddress =\n  DomainSocketAddress.of(Paths.get("/tmp/armeria.sock"));\n\nServer\n  .builder()\n  .http(domainSocketAddress)\n  ...\n  .build();\n\nWebClient\n  .builder("http://" + domainSocketAddress.authority())\n  ...\n  .build();\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"WebSocket Support"}),": You can now send and receive data over ",(0,t.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/WebSocket",children:"WebSocket"}),"\nusing ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/websocket/WebSocketService.html",children:"WebSocketService"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/1076",children:"#1076"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3904",children:"#3904"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'Server\n  .builder()\n  .service("/chat", WebSocketService.of((ctx, messages) -> {\n      WebSocketWriter webSocketWriter = WebSocket.streaming();\n      // Write frames using back pressure.\n      return webSocketWriter;\n   }));\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Customizable Logging"}),": You can now use ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LogFormatter.html",children:"LogFormatter"})," and ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LogWriter.html",children:"LogWriter"})," to customize the log\nformat and consumer. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3918",children:"#3918"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4267",children:"#4267"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4943",children:"#4943"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:"// Convert RequestLog to JSON.\nLogFormatter logFormatter = LogFormatter.ofJson();\nLogWriter logWriter =\n  LogWriter\n    .builder() // Use SLF4J logger for logging.\n    .logFormatter(logFormatter)\n    .logger(logger)\n    .build();\n\nLoggingClient\n  .builder()\n  .logWriter(logWriter)\n  .newDecorator();\n"})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"BlockHound Integrations"}),": Armeria now provides BlockHound integrations, offering enhanced support for\ndetecting with blocking calls in event loops. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4493",children:"#4493"})]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Delayed Request Abortion"}),": You can now delay aborting the ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html",children:"HttpRequest"})," when the ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html",children:"HttpResponse"}),"\ncompletes. This may be useful when you want to send additional data even after the response is complete. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4913",children:"#4913"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:"Server\n  .builder()\n  .requestAutoAbortDelayMillis(2000) // Delay aborting the request for 2 second.\n  ...\n  .build();\n\nWebClient\n  .builder()\n  .requestAutoAbortDelayMillis(1000) // Delay aborting the request for 1 second.\n  ...\n  .build();\n"})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Circuit Breaker and Retry Rule for timeout"}),": You can now use ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryRule.html#onTimeoutException()",children:"RetryRule#onTimeoutException()"})," and\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerRule.html#onTimeoutException()",children:"CircuitBreakerRule#onTimeoutException()"})," to open the circuit or retry the request when the response is\ntimed out. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4876",children:"#4876"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4882",children:"#4882"})]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Customizable ExecutionId for GraphQL-Java"}),": You can now customize ",(0,t.jsx)(r.code,{children:"ExecutionId"})," of GraphQL-Java using\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/graphql/GraphqlServiceBuilder.html#executionIdGenerator(com.linecorp.armeria.server.graphql.ExecutionIdGenerator)",children:"GraphqlServiceBuilder#executionIdGenerator(ExecutionIdGenerator)"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4867",children:"#4867"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4877",children:"#4877"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'GraphqlService\n  .builder()\n  .executionIdGenerator((requestCtx, query, operation, graphqlCtx) -> {\n     return ExecutionId.from(requestContext.headers.get("traceparent"));\n  })\n  ...\n  .build();\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Custom CoroutineContext for gRPC-Kotlin"}),": You can now inject a custom ",(0,t.jsx)(r.code,{children:"CoroutineContext"})," for gRPC-Kotlin\nwith ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/kotlin/CoroutineContextProvider.html",children:"CoroutineContextProvider"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4842",children:"#4842"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4866",children:"#4866"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-kotlin",children:"class CustomCoroutineContextProvider : CoroutineContextProvider {\n  override fun provide(ctx: ServiceRequestContext): CoroutineContext {\n    return ... // A custom CoroutineContext\n  }\n}\n"})}),"\n",(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsxs)(r.p,{children:["Note that a custom ",(0,t.jsx)(r.code,{children:"CoroutineContextProvider"})," should be registered via Java SPI to\n",(0,t.jsx)(r.code,{children:"META-INF/services/com.linecorp.armeria.common.kotlin.CoroutineContextProvider"}),"."]})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Retrieving CallOptions with GrpcCallOptions"}),": With ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/grpc/GrpcCallOptions.html",children:"GrpcCallOptions"})," in Armeria, you can now easily\nretrieve ",(0,t.jsx)(r.code,{children:"CallOptions"})," from a given ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html",children:"RequestContext"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4776",children:"#4776"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4822",children:"#4822"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:"GrpcClients\n  .builder(grpcServerUri)\n  .decorator((delegate, ctx, req) -> {\n    CallOptions options = GrpcCallOptions.get(ctx);\n    MyOption myOption = options.getOption(myOptionKey);\n    // act on myOption if needed\n    ...\n\n    return delegate.execute(ctx, req);\n  })\n  .build(MyGrpcStub.class);\n"})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Fallback Strategy for CircuitBreakerClient"}),": You can now easily set a fallback strategy to\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerClient.html",children:"CircuitBreakerClient"})," when a ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreaker.html",children:"CircuitBreaker"})," is open. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4800",children:"#4800"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4818",children:"#4818"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:"CircuitBreakerClient\n  .builder(...)\n  .recover((ctx, req) -> {\n    // A fallback response when the circuit is open.\n    return HttpResponse.of(...);\n  });\n"})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Netty ChannelPipeline Customizer"}),": You can now customize the Netty ",(0,t.jsx)(r.code,{children:"ChannelPipeline"})," for the server side ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4710",children:"#4710"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4813",children:"#4813"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:"Server\n  .builder()\n  .childChannelPipelineCustomizer(pipeline -> {\n    // Add a custom handler to the pipeline.\n  })\n  .build();\n"})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"HTTP/2 over TLS without ALPN"}),": Armeria now supports using HTTP/2 over TLS without the need for\n",(0,t.jsx)(r.a,{href:"https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-http2-17#section-3.3",children:"ALPN"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4702",children:"#4702"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4704",children:"#4704"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:"ClientFactory\n  .builder()\n  .useHttp2WithoutAlpn(true)\n  ...\n  .build();\n"})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Armeria with Jetty"}),": Armeria is now compatible with Jetty 10 and Jetty 11. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4845",children:"#4845"})]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Armeria with Thrift"}),": Armeria is now compatible with Thrift 0.18.1. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4812",children:"#4812"})]}),"\n"]}),"\n"]}),"\n","\n",(0,t.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"RequestContext.makeContextAware()"})," now returns instances of ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContextAwareRunnable.html",children:"ContextAwareRunnable"}),",\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContextAwareCallable.html",children:"ContextAwareCallable"}),", ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContextAwareFunction.html",children:"ContextAwareFunction"}),", ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContextAwareBiFunction.html",children:"ContextAwareBiFunction"}),",\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContextAwareConsumer.html",children:"ContextAwareConsumer"})," and ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContextAwareBiConsumer.html",children:"ContextAwareBiConsumer"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4878",children:"#4878"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4890",children:"#4890"})]}),"\n",(0,t.jsxs)(r.li,{children:["Annotated services now perform as fast as functional-style services under the following conditions: ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4888",children:"#4888"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["The annotated method returns an ",(0,t.jsx)(r.code,{children:"HttpResponse"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["The annotated method is run on the event loop (i.e. not annotated with ",(0,t.jsx)(r.code,{children:"@Blocking"}),")."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["You can now use the following features with Spring Boot Actuator integration. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4874",children:"#4874"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4880",children:"#4880"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"management.endpoints.web.exposure.*"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"management.endpoints.web.path-mapping.*"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"management.endpoints.web.discovery.*"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"management.endpoint.health.status.http-mapping.*"})}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"application/vnd.spring-boot.actuator.v3+json"}),", ",(0,t.jsx)(r.code,{children:"application/vnd.spring-boot.actuator.v2+json"})," and\n",(0,t.jsx)(r.code,{children:"application/json"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["Armeria client now exports metrics for ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryingClient.html",children:"RetryingClient"})," with the following metric name: ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/3350",children:"#3350"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4707",children:"#4707"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"armeria.client.actual.requests.attempts"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["You can now set the default log name for ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/VirtualHost.html",children:"VirtualHost"})," via\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/VirtualHostBuilder.html#defaultLogName(java.lang.String)",children:"VirtualHostBuilder#defaultLogName(String)"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4817",children:"#4817"})]}),"\n",(0,t.jsxs)(r.li,{children:["Synchronized blocks in ",(0,t.jsx)(r.code,{children:"core/common"})," have been migrated to ",(0,t.jsx)(r.code,{children:"ReentrantLock"})," for improved compatibility with\nvirtual threads. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4578",children:"#4578"})]}),"\n",(0,t.jsxs)(r.li,{children:["We did groundwork for supporting ",(0,t.jsx)(r.a,{href:"https://github.com/PKCS/armeria/issues/12",children:"PKCS#12"})," and JKS keystore formats when configuring TLS in a future release. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4801",children:"#4801"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClient.html",children:"WebClient"})," no longer decodes a percent-encoded ",(0,t.jsx)(r.code,{children:"?"})," (",(0,t.jsx)(r.code,{children:"%3F"}),") in a request path. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4907",children:"#4907"})]}),"\n",(0,t.jsxs)(r.li,{children:["Search domains are no longer used in DNS resolution when an authority ends with a trailing dot. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4538",children:"#4538"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4875",children:"#4875"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/FailFastException.html",children:"FailFastException"})," is now correctly converted to ",(0,t.jsx)(r.code,{children:"Status.UNAVAILABLE"})," in gRPC clients. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4805",children:"#4805"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4924",children:"#4924"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"DocService"})," now correctly makes the link to ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/StructInfo.html",children:"StructInfo"})," even when a protobuf ",(0,t.jsx)(r.code,{children:"Message"})," is used in both gRPC\nservices and annotated services. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4885",children:"#4885"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/limit/ConcurrencyLimitingClient.html",children:"ConcurrencyLimitingClient"})," used with ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryingClient.html",children:"RetryingClient"})," or ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerClient.html",children:"CircuitBreakerClient"})," now\ndoesn't produce a deadlock. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4826",children:"#4826"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4834",children:"#4834"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"connection: close"})," is set correctly in the response when an HTTP/1.1 request contains ",(0,t.jsx)(r.code,{children:"connection: close"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4864",children:"#4864"})]}),"\n",(0,t.jsxs)(r.li,{children:["You no longer see ",(0,t.jsx)(r.code,{children:"NullPointerException"})," when using ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html#mapError(java.util.function.Function)",children:"StreamMessage#mapError(Function)"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4852",children:"#4852"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4859",children:"#4859"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"})," now correctly generates specifications for Thrift services compiled with ",(0,t.jsx)(r.code,{children:"java:fullcamel"}),"\noption. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4858",children:"#4858"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"})," with relative paths now correctly provides autocompletion. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4840",children:"#4840"})]}),"\n",(0,t.jsxs)(r.li,{children:["The unhandled exception reporter no longer reports ignorable exceptions. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4861",children:"#4861"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4922",children:"#4922"})]}),"\n",(0,t.jsxs)(r.li,{children:["Fixed an issue where ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html",children:"@Param"})," annotation swallows exceptions raised from\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/RequestConverterFunction.html",children:"RequestConverterFunction"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4826",children:"#4826"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4834",children:"#4834"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"armeria-logback"})," is now compatible with Logback 1.3.x. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4855",children:"#4855"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4856",children:"#4856"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"CoroutineServerInterceptor"})," now correctly propagates the coroutine context. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4889",children:"#4889"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4894",children:"#4894"})]}),"\n",(0,t.jsxs)(r.li,{children:["Armeria gRPC client now respects ",(0,t.jsx)(r.code,{children:"CallOptions.getExecutor()"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4850",children:"#4850"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4851",children:"#4851"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"GraphQlService"})," now creates ",(0,t.jsx)(r.code,{children:"DataLoaderRegistry"})," for each request. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4237",children:"#4237"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4455",children:"#4455"})]}),"\n",(0,t.jsxs)(r.li,{children:['Fixed a regression where "Copy as a cURL command" and "Copy response" in debug page did not work. ',(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4929",children:"#4929"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/thrift/THttpService.html",children:"THttpService"})," no longer exposes field information in the response when failing to deserialize a request. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4953",children:"#4953"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"-documentation",children:"\ud83d\udcc3 Documentation"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Added documentation for setting ",(0,t.jsx)(r.a,{href:"/docs/server/timeouts",children:"request timeouts"})," at the server side. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4595",children:"#4595"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4860",children:"#4860"})]}),"\n",(0,t.jsxs)(r.li,{children:["Added documentation for ",(0,t.jsx)(r.a,{href:"/docs/advanced/kotlin",children:"Kotlin integration"})," with Armeria. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4866",children:"#4866"})]}),"\n",(0,t.jsxs)(r.li,{children:["Mentioned ",(0,t.jsx)(r.a,{href:"https://github.com/http4s/http4s-armeria",children:"http4s-armeria"})," as a part of the Scala integration. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4919",children:"#4919"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4920",children:"#4920"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-deprecations",children:"\ud83c\udfda\ufe0f Deprecations"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["The following APIs have been deprecated in favor of ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LogWriterBuilder.html",children:"LogWriterBuilder"}),":","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LoggingDecoratorBuilder.html#logger(org.slf4j.Logger)",children:"LoggingDecoratorBuilder#logger(Logger)"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LoggingDecoratorBuilder.html#requestLogLevelMapper(com.linecorp.armeria.common.logging.RequestLogLevelMapper)",children:"LoggingDecoratorBuilder#requestLogLevelMapper(RequestLogLevelMapper)"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LoggingDecoratorBuilder.html#responseLogLevelMapper(com.linecorp.armeria.common.logging.ResponseLogLevelMapper)",children:"LoggingDecoratorBuilder#responseLogLevelMapper(ResponseLogLevelMapper)"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/LoggingDecoratorBuilder.html#responseCauseFilter(java.util.function.Predicate)",children:"LoggingDecoratorBuilder#responseCauseFilter(Predicate)"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-breaking-changes",children:"\u2622\ufe0f Breaking changes"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Changed the return type of ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#localAddress()",children:"RequestContext#localAddress()"}),"\nand ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html#remoteAddress()",children:"RequestContext#remoteAddress()"})," from ",(0,t.jsx)(r.code,{children:"SocketAddress"})," to ",(0,t.jsx)(r.code,{children:"InetSocketAddress"}),"\nbecause ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/DomainSocketAddress.html",children:"DomainSocketAddress"})," is now an ",(0,t.jsx)(r.code,{children:"InetSocketAddress"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4846",children:"#4846"})]}),"\n",(0,t.jsxs)(r.li,{children:["The parameter type of the following methods has been changed from ",(0,t.jsx)(r.code,{children:"SocketAddress"})," to ",(0,t.jsx)(r.code,{children:"InetSocketAddress"}),": ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4846",children:"#4846"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContextBuilder.html#localAddress(java.net.InetSocketAddress)",children:"ClientRequestContextBuilder#localAddress(InetSocketAddress)"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContextBuilder.html#remoteAddress(java.net.InetSocketAddress)",children:"ClientRequestContextBuilder#remoteAddress(InetSocketAddress)"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContextBuilder.html#localAddress(java.net.InetSocketAddress)",children:"ServiceRequestContextBuilder#localAddress(InetSocketAddress)"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContextBuilder.html#remoteAddress(java.net.InetSocketAddress)",children:"ClientRequestContextBuilder#remoteAddress(InetSocketAddress)"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["An innermost ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/metric/MetricCollectingService.html",children:"MetricCollectingService"})," is now chosen to measure metrics for a service. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4908",children:"#4908"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Previously, the outermost one was used to collect metrics."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Brave 5.15.0 \u2192 5.16.0"}),"\n",(0,t.jsx)(r.li,{children:"Brotli4J 1.11.0 \u2192 1.12.0"}),"\n",(0,t.jsx)(r.li,{children:"Curator 5.4.0 \u2192 5.5.0"}),"\n",(0,t.jsx)(r.li,{children:"Dropwizard 2.1.5 \u2192 2.1.6"}),"\n",(0,t.jsx)(r.li,{children:"Dropwizard Metrics 4.2.18 \u2192 4.2.19"}),"\n",(0,t.jsx)(r.li,{children:"GraphQL Java 20.0 \u2192 20.4"}),"\n",(0,t.jsx)(r.li,{children:"GraphQL Kotlin 6.4.0 \u2192 6.5.2"}),"\n",(0,t.jsx)(r.li,{children:"gRPC-Java 1.49.1 \u2192 1.56.0"}),"\n",(0,t.jsx)(r.li,{children:"Jackson 2.14.2 \u2192 2.15.2"}),"\n",(0,t.jsx)(r.li,{children:"java-jwt 4.3.0 \u2192 4.4.0"}),"\n",(0,t.jsx)(r.li,{children:"Jetty 9.4.50.v20221201 -> 9.4.51.v20230217, 10.0.15, 11.0.0"}),"\n",(0,t.jsx)(r.li,{children:"Kafka client 3.4.0 \u2192 3.4.1"}),"\n",(0,t.jsx)(r.li,{children:"Kotlin 1.8.10 \u2192 1.8.22"}),"\n",(0,t.jsx)(r.li,{children:"Kotlin Coroutine 1.6.4 \u2192 1.7.1"}),"\n",(0,t.jsx)(r.li,{children:"Micrometer 1.10.5 \u2192 1.11.1"}),"\n",(0,t.jsxs)(r.li,{children:["Netty 4.1.91 \u2192 4.1.93","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"io_uring 0.0.19 \u2192 0.0.21"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.li,{children:"Protobuf 3.21.1 -> 3.22.3"}),"\n",(0,t.jsx)(r.li,{children:"protobuf-jackson 2.0.0 \u2192 2.2.0"}),"\n",(0,t.jsx)(r.li,{children:"Reactive gRPC 1.2.3 \u2192 1.2.4"}),"\n",(0,t.jsx)(r.li,{children:"Reactor 3.5.1 \u2192 3.5.7"}),"\n",(0,t.jsx)(r.li,{children:"Sangria 3.5.3 \u2192 4.0.0"}),"\n",(0,t.jsx)(r.li,{children:"Sangria slowlog 2.0.5 \u2192 3.0.0"}),"\n",(0,t.jsx)(r.li,{children:"Scala 2.12.17 \u2192 2.12.18, 2.13.10 \u2192 2.13.11, 3.2.2 \u2192 3.3.0"}),"\n",(0,t.jsx)(r.li,{children:"scala-collection-compat 2.9.0 \u2192 2.10.0"}),"\n",(0,t.jsx)(r.li,{children:"Spring 6.0.6 \u2192 6.0.9"}),"\n",(0,t.jsx)(r.li,{children:"Spring Boot 2.7.10 \u2192 2.7.12, 3.0.5 \u2192 3.1.0"}),"\n",(0,t.jsx)(r.li,{children:"Tomcat 10.1.4 \u2192 10.1.10"}),"\n",(0,t.jsx)(r.li,{children:"Thrift 0.18.1"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,t.jsx)(i,{usernames:["0lejk4","AngerM-DD","Bue-von-hon","KarboniteKream","Lincong","amirhadadi","anuraaga","arinchampatidd","be-hase","danicheg","echo304","heowc","himangi-db","ikhoon","injae-kim","jrhee17","kojilin","mauhiz","minwoox","my4-dev","nhacvuong","rhodo","richieyan","seonwoo960000","staktrace","ta7uw","tomatophobia","trustin","vkostyukov","wreulicke"]})]})}function d(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,r,i)=>{i.d(r,{R:()=>o,x:()=>s});var n=i(96540);const t={},a=n.createContext(t);function o(e){const r=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);