"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[8126],{17282:(e,r,i)=>{i.d(r,{A:()=>n});const n=i.p+"assets/images/applying-circuitbreaker-to-channel-gateway-1-537a3aa178c1835906c7a42d541dac55.png"},28453:(e,r,i)=>{i.d(r,{R:()=>l,x:()=>a});var n=i(96540);const t={},c=n.createContext(t);function l(e){const r=n.useContext(c);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(c.Provider,{value:r},e.children)}},38743:e=>{e.exports=JSON.parse('{"permalink":"/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway","editUrl":"https://github.com/line/armeria/edit/main/site/src/content/blog/ko/2016-08-04-applying-circuitbreaker-to-channel-gateway.mdx","source":"@site/src/content/blog/ko/2016-08-04-applying-circuitbreaker-to-channel-gateway.mdx","title":"Channel Gateway\uc5d0 CircuitBreaker \uc801\uc6a9","description":"\ub4e4\uc5b4\uac00\uae30\uc5d0 \uc55e\uc11c","date":"2016-08-04T00:00:00.000Z","tags":[],"readingTime":5.64,"hasTruncateMarker":true,"authors":[{"name":"\uc2e0\uc885\ud6c8","title":"\uc800\ub294 \uadc0\ucc2e\uc740 \uc77c\uc744 \uc2eb\uc5b4\ud569\ub2c8\ub2e4. \uadc0\ucc2e\uc740 \uc77c\uc744 \uc904\uc774\uae30 \uc704\ud574\uc11c \uacc4\uc18d \uace0\ubbfc\ud558\uc9c0\uc694. \uadf8\ub798\uc11c, \ud504\ub85c\uadf8\ub798\ubc0d\uc744 \uc88b\uc544\ud558\ub294\ub370 \uc660\uc9c0 \uc77c\uc774 \ub354 \ub298\uc5b4\ub09c \uac83 \uac19\uc740 \ub290\ub08c\uc740 \uc800\ub9cc\uc758 \ub290\ub08c\uc774\uaca0\uc9c0\uc694?","imageURL":"/img/author-shinjonghun.png","key":"shinjonghun","page":null}],"frontMatter":{"authors":["shinjonghun"],"other_languages":{"en":"/blog/2016/08/04/applying-circuitbreaker-to-channel-gateway","ja":"/blog/ja/2016/08/04/applying-circuitbreaker-to-channel-gateway"}},"unlisted":false,"prevItem":{"title":"\uc624\ud508\uc18c\uc2a4 Armeria\uc758 \uae30\uc5ec\uc790\ub97c \uc704\ud55c \uc774\ubca4\ud2b8\ub97c \uc9c4\ud589\ud558\uc600\uc2b5\ub2c8\ub2e4","permalink":"/blog/ko/2019/04/16/thank-you-for-contributing-to-armeria"},"nextItem":{"title":"\ubd84\uc0b0 \uc11c\ube44\uc2a4 \ud658\uacbd\uc5d0 \ub300\ud55c Circuit Breaker \uc801\uc6a9","permalink":"/blog/ko/2016/07/24/circuit-breakers-for-distributed-services"}}')},95783:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>n,toc:()=>d});var n=i(38743),t=i(74848),c=i(28453);const l={authors:["shinjonghun"],other_languages:{en:"/blog/2016/08/04/applying-circuitbreaker-to-channel-gateway",ja:"/blog/ja/2016/08/04/applying-circuitbreaker-to-channel-gateway"}},a="Channel Gateway\uc5d0 CircuitBreaker \uc801\uc6a9",s={authorsImageUrls:[void 0]},d=[{value:"\ub4e4\uc5b4\uac00\uae30\uc5d0 \uc55e\uc11c",id:"\ub4e4\uc5b4\uac00\uae30\uc5d0-\uc55e\uc11c",level:2},{value:"Channel Gateway\uc5d0 CircuitBreaker \uc801\uc6a9\ud558\uae30",id:"channel-gateway\uc5d0-circuitbreaker-\uc801\uc6a9\ud558\uae30",level:2},{value:"CircuitBreaker\uc758 \uc560\ub108\ud14c\uc774\uc158 \uc0ac\uc6a9",id:"circuitbreaker\uc758-\uc560\ub108\ud14c\uc774\uc158-\uc0ac\uc6a9",level:2},{value:"CircuitBreaker\uc5d0\uc11c proceed() \uad6c\ud604",id:"circuitbreaker\uc5d0\uc11c-proceed-\uad6c\ud604",level:2},{value:"CircuitBreaker\uc758 \uc124\uc815 \ubcc0\uacbd \uba54\uc11c\ub4dc",id:"circuitbreaker\uc758-\uc124\uc815-\ubcc0\uacbd-\uba54\uc11c\ub4dc",level:2},{value:"\ub9c8\ubb34\ub9ac\ud558\uba70",id:"\ub9c8\ubb34\ub9ac\ud558\uba70",level:2},{value:"\uc800\uc790 \uc18c\uac1c",id:"\uc800\uc790-\uc18c\uac1c",level:2}];function h(e){const r={a:"a",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h2,{id:"\ub4e4\uc5b4\uac00\uae30\uc5d0-\uc55e\uc11c",children:"\ub4e4\uc5b4\uac00\uae30\uc5d0 \uc55e\uc11c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"/blog/ko/2016/07/24/circuit-breakers-for-distributed-services",children:"Circuit Breaker\uc5d0 \ub300\ud55c \uc18c\uac1c \ube14\ub85c\uadf8"}),"\ub97c \uc77d\uc9c0 \uc54a\uc558\ub2e4\uba74 \uba3c\uc800 \uc77d\uc5b4\ubcf4\uc2dc\uae38 \uad8c\uc7a5\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.h2,{id:"channel-gateway\uc5d0-circuitbreaker-\uc801\uc6a9\ud558\uae30",children:"Channel Gateway\uc5d0 CircuitBreaker \uc801\uc6a9\ud558\uae30"}),"\n",(0,t.jsx)(r.p,{children:"Channel Gateway \uc11c\ubc84\uc5d0\uc11c\ub294 LINE\uc758 \ub2e4\uc591\ud55c \uc11c\ubc84\ub4e4\uc758 \uae30\ub2a5\uc744 CP(Contents Provider)\ub4e4\uc5d0\uac8c \uc81c\uacf5\ud558\ub294 \uc5ed\ud560\uc744 \ub9e1\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7ec\ub2e4\ubcf4\ub2c8 Channel Gateway \uc11c\ubc84\ub4e4\uc740 \uc5f0\uacb0\ub41c \uc11c\ubc84\ub4e4\uc5d0 \uc601\ud5a5\uc744 \ub9ce\uc774 \ubc1b\uac8c \ub429\ub2c8\ub2e4. \uadf8\ub9ac\uace0, \uadf8\ub7ec\ud55c \uc601\ud5a5\ub4e4\uc740 \uc27d\uac8c \uc804\uccb4 Channel Gateway \uc11c\ubc84\ub4e4\uc5d0\uac8c \uc804\ud30c\ub429\ub2c8\ub2e4."}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:i(17282).A+"",width:"870",height:"328"})}),"\n","\n",(0,t.jsx)(r.p,{children:"\uc774 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud558\uc5ec \uace0\ubbfc\ud558\ub358 \uc911\uc5d0 CircuitBreaker\uc5d0 \uad00\ud55c \ub0b4\uc6a9\uc744 \ub4e4\uc5c8\uc2b5\ub2c8\ub2e4. \ud2b9\uc815 \uc11c\ubc84\uc5d0\uc11c \uc7a5\uc560\uac00 \ubc1c\uc0dd\ud560 \uacbd\uc6b0 CircuitBreaker\uac00 \uc774\ub97c \uac10\uc9c0\ud558\uace0 \uadf8 \uc11c\ubc84\ub85c \uc694\uccad\ud558\ub294 \ud638\ucd9c\uc744 \ucc28\ub2e8\ud558\uba74 \ubb38\uc81c\ub97c \ucda9\ubd84\ud788 \ud574\uacb0\ud560 \uc218 \uc788\ub2e4\uace0 \uc0dd\uac01\ud588\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c Channel Gateway\uc5d0 CircuitBreaker\ub97c \uc801\uc6a9\ud558\uae30\ub85c \ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(r.p,{children:["Channel Gateway\ub97c \uc704\ud55c CircuitBreaker\ub97c \uc9c1\uc811 \uad6c\ud604\ud560 \uc218\ub3c4 \uc788\uc5c8\uc9c0\ub9cc, ",(0,t.jsx)(r.a,{href:"http://line.github.io/armeria/",children:"Armeria"}),"\uc5d0\ub294 CircuitBreaker\uac00 \ud6cc\ub96d\ud558\uac8c \ub9cc\ub4e4\uc5b4\uc838 \uc788\uc5c8\uc2b5\ub2c8\ub2e4.\nArmeria\uc758 CircuitBreaker\ub294 \uc5ec\ub7ec \uac00\uc9c0 \uc635\uc158\ub4e4\uc744 \uc6d0\ud558\ub294 \ub300\ub85c \uc124\uc815\ud558\uc5ec ",(0,t.jsx)(r.code,{children:"CircuitBreakerBuilder"}),"\ub97c \ud1b5\ud574 \uad6c\ud604\ub41c ",(0,t.jsx)(r.code,{children:"CircuitBreaker"})," \uac1d\uccb4\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uac1d\uccb4\ub97c \ud1b5\ud558\uc5ec Channel Gateway\uc5d0 \ub9de\uac8c \ucee4\uc2a4\ud130\ub9c8\uc774\uc988\ud560 \uc218 \uc788\uac8c \uad6c\ud604\ub418\uc5b4 \uc788\uc5b4\uc11c \uc5b4\ub835\uc9c0 \uc54a\uac8c \uc801\uc6a9\ud560 \uc218 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.h2,{id:"circuitbreaker\uc758-\uc560\ub108\ud14c\uc774\uc158-\uc0ac\uc6a9",children:"CircuitBreaker\uc758 \uc560\ub108\ud14c\uc774\uc158 \uc0ac\uc6a9"}),"\n",(0,t.jsxs)(r.p,{children:["talk-channel-gateway \uc18c\uc2a4\ucf54\ub4dc\uc5d0\uc11c CircuitBreaker\ub294 ",(0,t.jsx)(r.code,{children:"@CircuitBreakable"})," \uc560\ub108\ud14c\uc774\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"@CircuitBreakable(CircuitBreakerGroup.HBASE_CLIENT_USER_SETTINGS)\npublic ChannelSettings findBy(String mid) {\n    ...\n}\n"})}),"\n",(0,t.jsxs)(r.p,{children:["\uc704\uc640 \uac19\uc774 \uc801\uc6a9\ud55c \uacbd\uc6b0, ",(0,t.jsx)(r.code,{children:"findBy()"})," \uba54\uc11c\ub4dc\uac00 \ud638\ucd9c\ub420 \ub54c\ub9c8\ub2e4 \uc131\uacf5/\uc2e4\ud328\ub97c \uac10\uc2dc\ud558\uace0, \uadf8 \uacb0\uacfc\uc5d0 \ub530\ub77c CircuitBreaker\uac00 \uc5f4\ub9ac\uac70\ub098 \ub2eb\ud788\uac8c \ub429\ub2c8\ub2e4.\nHBASE_CLIENT_USER_SETTINGS\ub294 CircuitBreaker\ub85c \ubb36\uc77c \uadf8\ub8f9\uc744 \uc9c0\uc815\ud558\ub294 \uac83\uc73c\ub85c\uc11c, \uba54\uc11c\ub4dc\ub4e4\uc758 \uc2e4\ud328\uc728\uc744 \uacc4\uc0b0\ud560 \ub54c\ub3c4 \uadf8\ub8f9 \uc804\uccb4\uc758 \ud638\ucd9c \ud68c\uc218 \ub300\ube44 \uc2e4\ud328 \ud68c\uc218\ub85c \uacc4\uc0b0\ud558\uace0, CircuitBreaker\uac00 \uc5f4\ub9ac\uac70\ub098 \ub2eb\ud790 \ub54c\ub3c4 \ud568\uaed8 \uc5f4\ub9ac\uac70\ub098 \ub2eb\ud788\uac8c \ub429\ub2c8\ub2e4.\nCircuitBreaker\uc758 \uc124\uc815\uc740 ",(0,t.jsx)(r.code,{children:"CircuitBreakerGroup"}),"\uc774\ub77c\ub294 enum \uac1d\uccb4\uc5d0\uc11c \ub2e4\uc74c\uacfc \uac19\uc774 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"public enum CircuitBreakerGroup implements ExceptionFilter {\n\n    SAMPLE_DEFAULT {\n    },\n    SAMPLE_API {\n        @Override\n        protected ExceptionFilter exceptionFilter() {\n            return cause -> !(cause instanceof AuthenticationException\n                              || cause instanceof ApiPermissionException\n                              || cause instanceof ImproperRequestException);\n        }\n    },\n    HBASE_CLIENT_CHANNEL_MATRIX {\n    },\n    HBASE_CLIENT_USER_SETTINGS {\n    };\n\n    protected ExceptionFilter exceptionFilter() {\n        return cause -> true;\n    }\n\n    public CircuitBreaker circuitBreaker(CircuitBreakerListener listener) {\n        return new CircuitBreakerBuilder(name()).exceptionFilter(exceptionFilter())\n                                                .listener(listener)\n                                                .build();\n    }\n\n    @Override\n    public boolean shouldDealWith(Throwable throwable) throws Exception {\n        return exceptionFilter().shouldDealWith(throwable);\n    }\n}\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Channel Gateway\uc5d0\uc11c\ub294 ",(0,t.jsx)(r.code,{children:"ExceptionFilter"}),"\ub97c \ucee4\uc2a4\ud130\ub9c8\uc774\uc988\ud558\uc5ec \uc0ac\uc6a9\ud558\uc600\uc2b5\ub2c8\ub2e4. \uadf8 \uc678\uc758 \uc635\uc158\ub4e4\uc740 Armeria\uc758 \uae30\ubcf8 \uc635\uc158\uc744 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub9cc\uc57d, \ub2e4\ub978 \uc635\uc158\ub4e4\uc744 \ubcc0\uacbd\ud558\uc5ec \uc0ac\uc6a9\ud558\uace0 \uc2f6\ub2e4\uba74 ",(0,t.jsx)(r.code,{children:"circuitBreaker()"})," \uba54\uc11c\ub4dc\ub97c \uc218\uc815\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.p,{children:["Armeria\uc5d0\uc11c\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \uc5b4\ub5a0\ud55c \uc608\uc678\ub77c\ub3c4 \ubc1c\uc0dd\ud560 \uacbd\uc6b0 \uc2e4\ud328\ub85c \uac04\uc8fc\ud558\ub3c4\ub85d \ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc, Channel Gateway\uc5d0\uc11c\ub294 \uad8c\ud55c\uc774 \uc5c6\ub294 \uacbd\uc6b0 \ub4f1\uc744 \uc608\uc678\ub85c \ucc98\ub9ac\ud558\uc5ec \ubc18\ud658\ud574\uc8fc\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \uad6c\ubd84\ud560 \ud544\uc694\uac00 \uc788\uc5c8\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c, ",(0,t.jsx)(r.code,{children:"ExceptionFilter"}),"\ub97c \ucee4\uc2a4\ud130\ub9c8\uc774\uc988\ud558\uc5ec \uc0ac\uc6a9\ud558\uc600\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0, CircuitBreaker\uc758 \uc0c1\ud0dc\uac00 \ubcc0\ud560 \ub54c\ub9c8\ub2e4 \ub85c\uadf8\ub97c \uc313\uc744 \uc218 \uc788\ub3c4\ub85d Channel Gateway\ub97c \uc704\ud55c \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108\ub3c4 \ucd94\uac00\ud558\uc600\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.p,{children:"\uc560\ub108\ud14c\uc774\uc158\uc5d0 \uc801\uc6a9\ud558\ub294 \uadf8\ub8f9\uc740 enum \uac1d\uccb4\ub85c \uc9c0\uc815\ud560 \uc218 \uc788\uc73c\uba70, enum \uac1d\uccb4 \uad6c\ud604 \ubd80\ubd84\uc5d0\uc11c \uadf8\ub8f9\ubcc4\ub85c \ub2e4\ub978 \uc124\uc815\uc744 \ud560 \uc218 \uc788\ub3c4\ub85d \ud558\uc600\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(r.h2,{id:"circuitbreaker\uc5d0\uc11c-proceed-\uad6c\ud604",children:"CircuitBreaker\uc5d0\uc11c proceed() \uad6c\ud604"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/AspectJ",children:"Aspect"})," \uac1d\uccb4\uc758 ",(0,t.jsx)(r.code,{children:"proceed()"})," \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"public class CircuitBreakerAspect implements Ordered {\n\n        private final Map&lt;CircuitBreakerGroup, CircuitBreaker> circuitBreakers =\n                new EnumMap&lt;>(CircuitBreakerGroup.class);\n\n        @PostConstruct\n        public void initialize() {\n\n            final CircuitBreakerListener listener =\n            new CircuitBreakerListenerImpl(circuitBreakerLogger);\n            for (CircuitBreakerGroup group : CircuitBreakerGroup.values()) {\n                circuitBreakers.put(group, group.circuitBreaker(listener));\n            }\n        }\n\n        public Object proceed(final ProceedingJoinPoint pjp,\n               final CircuitBreakable circuitBreakable) throws Throwable {\n\n            final CircuitBreakerGroup group = circuitBreakable.value();\n            final CircuitBreaker circuitBreaker = circuitBreakers.get(group);\n\n            if (circuitBreaker.canRequest()) {\n                final Object result;\n\n                try {\n                    result = pjp.proceed();\n                } catch (Throwable e) {\n                    if (group.shouldDealWith(e)) {\n                        circuitBreaker.onFailure(e);\n                    } else {\n                        circuitBreaker.onSuccess();\n                    }\n                    throw e;\n                }\n\n                circuitBreaker.onSuccess();\n                return result;\n            } else {\n                throw CircuitBreakerException.circuitBroken();\n            }\n        }\n    }\n"})}),"\n",(0,t.jsxs)(r.p,{children:["\ucf54\ub4dc\ub294 \ube44\uad50\uc801 \uac04\ub2e8\ud569\ub2c8\ub2e4. ",(0,t.jsx)(r.code,{children:"CircuitBreaker.canRequest()"}),"\ub97c \ud1b5\ud574 CircuitBreaker\uac00 \uc5f4\ub824 \uc788\ub2e4\uba74 \uc608\uc678\ub97c \ubc1c\uc0dd\uc2dc\ud0b5\ub2c8\ub2e4. \uadf8\ub807\uc9c0 \uc54a\ub2e4\uba74 \uba54\uc11c\ub4dc\ub97c \uc815\uc0c1\uc801\uc73c\ub85c \ud638\ucd9c\ud569\ub2c8\ub2e4. \ud638\ucd9c\ud55c \uacb0\uacfc \uc608\uc678\uac00 \ubc1c\uc0dd\ud588\uace0, \uadf8 \uc608\uc678\uac00 \uc2e4\ud328\ub85c \ucc98\ub9ac\ud574\uc57c \ud558\ub294 \uacbd\uc6b0\ub77c\uba74 CircuitBreaker\uc5d0\uac8c \uc2e4\ud328\ud588\ub2e4\uace0 \uc54c\ub824\uc90d\ub2c8\ub2e4. \uadf8\ub807\uc9c0 \uc54a\ub2e4\uba74 CircuitBreaker\uc5d0\uac8c \uc131\uacf5\ud588\ub2e4\uace0 \uc54c\ub824\uc8fc\uae30\ub9cc \ud558\uba74 \ub429\ub2c8\ub2e4. \ucc38\uace0\ub85c \uc2e4\uc81c \uc801\uc6a9\ub41c \ucf54\ub4dc\uc5d0\ub294 CircuitBreaker\uac00 \uc798 \uc801\uc6a9\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud558\uae30 \uc704\ud55c IMON Logger1\uc640 \uad00\ub828\ub41c \ucf54\ub4dc\uac00 \ub4e4\uc5b4\uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc, \uc5ec\uae30\uc5d0\uc11c\ub294 CircuitBreaker \ubd80\ubd84\uc5d0 \uc9d1\uc911\ud560 \uc218 \uc788\ub3c4\ub85d \uc0dd\ub7b5\ud558\uc600\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.em,{children:"1: IMON Logger: IMON\uc740 LINE \uc0ac\ub0b4\uc758 \ub2e4\uc591\ud55c \uc11c\ube44\uc2a4\ub4e4\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uae30 \uc704\ud55c \uc2dc\uc2a4\ud15c\uc73c\ub85c, IMON Logger\ub294 IMON\uc73c\ub85c \ub300\uc0c1 \uc11c\ube44\uc2a4\uc758 \ud1b5\uacc4\uc9c0\ud45c \ubc0f \ub85c\uadf8\ub4e4\uc744 \ucde8\ud569\ud558\uc5ec \uc804\uc1a1\ud558\ub294 \uae30\ub2a5\uc744 \ud558\uace0 \uc788\ub2e4."})}),"\n",(0,t.jsx)(r.h2,{id:"circuitbreaker\uc758-\uc124\uc815-\ubcc0\uacbd-\uba54\uc11c\ub4dc",children:"CircuitBreaker\uc758 \uc124\uc815 \ubcc0\uacbd \uba54\uc11c\ub4dc"}),"\n",(0,t.jsxs)(r.p,{children:["CircuitBreaker \uac1d\uccb4\ub97c \ub9cc\ub4e4\uc5b4\uc8fc\ub294 ",(0,t.jsx)(r.code,{children:"CircuitBreakerBuilder"}),"\uc5d0\ub294 CircuitBreaker\uc758 \uc124\uc815\uc744 \ubcc0\uacbd\ud560 \uc218 \uc788\ub294 \uc5ec\ub7ec \uac00\uc9c0 \uba54\uc11c\ub4dc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uac00\ub2a5\ud558\uba74 \uae30\ubcf8 \uc124\uc815 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\ub294 \uac83\uc744 \ucd94\ucc9c\ud558\uc9c0\ub9cc CircuitBreaker\uc5d0 \ub300\ud574\uc11c \uc880 \ub354 \uc774\ud574\ud558\uae30 \uc27d\ub3c4\ub85d \uc124\uc815\ub4e4\uc5d0 \ub300\ud574\uc11c \uc124\uba85\ub4dc\ub9b4\uae4c \ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"\uba54\uc11c\ub4dc"}),(0,t.jsx)(r.th,{children:"\ud30c\ub77c\ubbf8\ud130"}),(0,t.jsx)(r.th,{children:"\uae30\ubcf8\uac12"}),(0,t.jsx)(r.th,{children:"\uc124\uba85"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"failureRateThreshold"}),(0,t.jsx)(r.td,{children:"double"}),(0,t.jsx)(r.td,{children:"0.8"}),(0,t.jsxs)(r.td,{children:["CircuitBreaker\ub97c \uc5f4\uc9c0 \ub9d0\uc9c0 \ud310\ub2e8\ud560 \ub54c \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c \uc2e4\ud328\uc728\uc785\ub2c8\ub2e4. ",(0,t.jsx)(r.code,{children:"counterSlidingWindow"})," \uc2dc\uac04 \ub3d9\uc548\uc758 \uc2e4\ud328\uc728\uc774 \uc774 \uac12\ubcf4\ub2e4 \ub192\uc744 \uacbd\uc6b0 CircuitBreaker\uac00 \uc5f4\ub9ac\uac8c \ub429\ub2c8\ub2e4. \uae30\ubcf8\uac12 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud560 \uacbd\uc6b0 80% \uc774\uc0c1 \uc2e4\ud328\ud558\uac8c \ub418\uba74 CircuitBreaker\uac00 \uc5f4\ub9ac\uac8c \ub429\ub2c8\ub2e4. \ub2e4\uc2dc \ub9d0\ud574 \uc131\uacf5\ud558\ub294 \ube44\uc728\uc774 20% \ubbf8\ub9cc\uc774\uba74 CircuitBreaker\uac00 \uc5f4\ub9ac\uac8c \ub429\ub2c8\ub2e4."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"minimumRequestThreshold"}),(0,t.jsx)(r.td,{children:"long"}),(0,t.jsx)(r.td,{children:"10"}),(0,t.jsxs)(r.td,{children:["CircuitBreaker\ub97c \uc5f4\uc9c0 \ub9d0\uc9c0 \ud310\ub2e8\ud560 \ucd5c\uc18c\uc758 \ud638\ucd9c \ud68c\uc218\uc785\ub2c8\ub2e4. ",(0,t.jsx)(r.code,{children:"counterSlidingWindow"})," \uc2dc\uac04 \ub3d9\uc548\uc758 \ud638\ucd9c \ud68c\uc218\uac00 \uc774 \uac12 \ubbf8\ub9cc\uc77c \ub54c\ub294 CircuitBreaker\ub97c \uc5f4\uc9c0 \ub9d0\uc9c0 \ud310\ub2e8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"circuitOpenWindow"}),(0,t.jsx)(r.td,{children:"Duration"}),(0,t.jsx)(r.td,{children:"10\ucd08"}),(0,t.jsxs)(r.td,{children:["CircuitBreaker\uac00 Open \uc0c1\ud0dc\ub85c \ubc14\ub010 \ud6c4 Half-Open \uc0c1\ud0dc\ub85c \ubc14\ub00c\uae30\uae4c\uc9c0\uc758 \uc2dc\uac04\uc785\ub2c8\ub2e4. CircuitBreaker\uac00 \uc5f4\ub9b0 \ud6c4\uc5d0\ub294 ",(0,t.jsx)(r.code,{children:"circuitOpenWindow"})," \uc2dc\uac04\ub9cc\ud07c \ud750\ub978 \ud6c4\uc5d0 Half-Open \uc0c1\ud0dc\ub85c \ubc14\ub00c\uc5b4\uc11c \ud638\ucd9c\uc744 \ud14c\uc2a4\ud2b8\ud558\uac8c \ub429\ub2c8\ub2e4."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"circuitOpenWindowMillis"}),(0,t.jsx)(r.td,{children:"long"}),(0,t.jsx)(r.td,{children:"10000"}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"trialRequestInterval"}),(0,t.jsx)(r.td,{children:"Duration"}),(0,t.jsx)(r.td,{children:"3\ucd08"}),(0,t.jsxs)(r.td,{children:["Half-Open \uc0c1\ud0dc\uc5d0\uc11c \uc694\uccad\ud55c \ud638\ucd9c\uc5d0 Closed\uc751\ub2f5\uc774 \uc5c6\uc744 \uacbd\uc6b0, \ud638\ucd9c\uc744 \uc7ac\uc2dc\ub3c4\ud558\uae30 \uc704\ud574 \uae30\ub2e4\ub9ac\ub294 \uc2dc\uac04\uc785\ub2c8\ub2e4. ",(0,t.jsx)(r.code,{children:"trialRequestInterval"})," \uc2dc\uac04 \uc548\uc5d0 \uc751\ub2f5\uc774 \uc62c \uacbd\uc6b0\uc5d0\ub294 \uadf8 \uacb0\uacfc\uc5d0 \ub530\ub77c\uc11c Closed\ub098 Open \uc0c1\ud0dc\ub85c \ubc14\ub00c\uac8c \ub429\ub2c8\ub2e4. \ub9cc\uc57d, Open \uc0c1\ud0dc\ub85c \ubc14\ub00c\uc5c8\ub2e4\uba74 \ub2e4\uc2dc ",(0,t.jsx)(r.code,{children:"circuitOpenWindow"})," \uc2dc\uac04\ub9cc\ud07c \uae30\ub2e4\ub838\ub2e4\uac00 \ud638\ucd9c\uc744 \ud14c\uc2a4\ud2b8\ud558\uac8c \ub429\ub2c8\ub2e4. \ud558\uc9c0\ub9cc, \uc694\uccad\ud55c \ud638\ucd9c\uc774 ",(0,t.jsx)(r.code,{children:"trialRequestInterval"})," \uc2dc\uac04 \ub3d9\uc548 \uc5b4\ub290 \uc751\ub2f5\ub3c4 \uc624\uc9c0 \uc54a\ub294\ub2e4\uba74 \ub2e4\uc2dc \ud638\ucd9c\uc744 \uc2dc\ub3c4\ud558\uac8c \ub429\ub2c8\ub2e4."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"trialRequestIntervalMillis"}),(0,t.jsx)(r.td,{children:"long"}),(0,t.jsx)(r.td,{children:"3000"}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"counterSlidingWindow"}),(0,t.jsx)(r.td,{children:"Duration"}),(0,t.jsx)(r.td,{children:"20\ucd08"}),(0,t.jsxs)(r.td,{children:["CircuitBreaker\ub97c \uc5f4\uc9c0 \ub9d0\uc9c0 \ud310\ub2e8\ud560 \ub54c \ucd5c\uadfc ",(0,t.jsx)(r.code,{children:"counterSlidngWindow"})," \uc2dc\uac04\ub9cc\ud07c\uc758 \uae30\ub85d\uc744 \uac00\uc9c0\uace0 \ud310\ub2e8\ud569\ub2c8\ub2e4. \uae30\ubcf8\uac12 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uac8c \ub418\uba74 \ucd5c\uadfc 20\ucd08 \ub3d9\uc548\uc758 \ud638\ucd9c \uacb0\uacfc\ub4e4\ub9cc\uc73c\ub85c \ud310\ub2e8\ud558\uac8c \ub429\ub2c8\ub2e4."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"counterSlidingWindowMillis"}),(0,t.jsx)(r.td,{children:"long"}),(0,t.jsx)(r.td,{children:"20000"}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"counterUpdateInterval"}),(0,t.jsx)(r.td,{children:"Duration"}),(0,t.jsx)(r.td,{children:"1\ucd08"}),(0,t.jsxs)(r.td,{children:["CircuitBreaker\uc5d0\uc11c\ub294 \ud638\ucd9c\uc758 \uacb0\uacfc\ub97c ",(0,t.jsx)(r.code,{children:"SlidingWindowCounter"}),"\ub97c \ud1b5\ud574\uc11c \ubcf4\uad00\ud558\uace0 \uc788\ub294\ub370 \uc774\ub54c, \ubcf4\uad00\ud558\ub294 \ub2e8\uc704\uc758 \uc2dc\uac04\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \uae30\ubcf8\uac12 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uac8c \ub418\uba74 1\ucd08 \ub2e8\uc704\ub85c \uae30\ub85d\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uba74, \ucd5c\uadfc 20\ucd08 \uc804 = \uc131\uacf5 20\ud68c, \uc2e4\ud328 0\ud68c / \ucd5c\uadfc 19\ucd08 \uc804 = \uc131\uacf5 25\ud68c, \uc2e4\ud328 1\ud68c / ... / \ucd5c\uadfc 1\ucd08 \uc804 = \uc131\uacf5 21\ud68c, \uc2e4\ud328 0\ud68c \ub4f1\uc758 \uae30\ub85d\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774 1\ucd08 \ub2e8\uc704\uc758 \uae30\ub85d\uc744 \uac00\uc9c0\uace0 ",(0,t.jsx)(r.code,{children:"counterSlidingWindow"})," \uc2dc\uac04\ub9cc\ud07c\uc744 \uacc4\uc0b0\ud558\uc5ec \uc2e4\ud328\uc728\uc744 \uacc4\uc0b0\ud558\uac8c \ub429\ub2c8\ub2e4."]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"counterUpdateIntervalMillis"}),(0,t.jsx)(r.td,{children:"long"}),(0,t.jsx)(r.td,{children:"1000"}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"exceptionFilter"}),(0,t.jsx)(r.td,{children:"ExceptionFilter"}),(0,t.jsx)(r.td,{children:"\ubaa8\ub4e0 \uc608\uc678\ub97c \uc2e4\ud328\ub85c \uac04\uc8fc"}),(0,t.jsx)(r.td,{children:"\uc608\uc678\uac00 \ubc1c\uc0dd\ud588\uc744 \ub54c, \uadf8 \uc608\uc678\ub97c \uc2e4\ud328\ub85c \uac04\uc8fc\ud560\uc9c0 \uc5ec\ubd80\ub97c \ubc18\ud658\ud558\ub294 \uac1d\uccb4\uc785\ub2c8\ub2e4. \uae30\ubcf8\uac12\uc744 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uac8c \ub418\uba74 \ubaa8\ub4e0 \uc608\uc678\ub97c \uc2e4\ud328\ub85c \uac04\uc8fc\ud569\ub2c8\ub2e4."})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"listener"}),(0,t.jsx)(r.td,{children:"CircuitBreakerListener"}),(0,t.jsx)(r.td,{}),(0,t.jsxs)(r.td,{children:["CircuitBreaker\uc758 \uc0c1\ud0dc\uac00 \ubc14\ub00c\uac70\ub098, ",(0,t.jsx)(r.code,{children:"counterUpdateInterval"})," \uc2dc\uac04\uc774 \uc9c0\ub098\uac70\ub098, CircuitBreaker\uac00 \uc5f4\ub824\uc11c \ud638\ucd9c\uc774 \uac70\ubd80\ub420 \ub54c\uc5d0 \ub300\ud55c \uc774\ubca4\ud2b8\ub97c \uc218\uc2e0\ud560 \uc218 \uc788\ub294 \ub9ac\uc2a4\ub108\uc785\ub2c8\ub2e4."]})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"\ub9c8\ubb34\ub9ac\ud558\uba70",children:"\ub9c8\ubb34\ub9ac\ud558\uba70"}),"\n",(0,t.jsx)(r.p,{children:"\uc608\uc804\uc5d0\ub294 Channel Gateway\uc758 \uc5b4\ub5a4 \ubd80\ubd84\uc5d0 \uc7a5\uc560\uac00 \ubc1c\uc0dd\ud55c\ub2e4\uba74 \uc190\uc4f0\uae30 \uc804\uc5d0 \ub108\ubb34 \ud070 \ud53c\ud574\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc77c\ubd80\uc5d0\uc11c \uc2dc\uc791\ub41c \uc7a5\uc560\uac00 Thread Full \ud604\uc0c1\uc744 \ubc1c\uc0dd\uc2dc\ud0a4\uace0, \uacb0\uad6d \uc804\uccb4 \uc11c\ube44\uc2a4\uc5d0 \uc601\ud5a5\uc744 \ubbf8\ucce4\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc, \uc774\uc81c\ub294 CircuitBreaker\uac00 \uadf8 \ubd80\ubd84\uc744 \ucc28\ub2e8\ud568\uc73c\ub85c\uc11c \uc880 \ub354 \uc5ec\uc720\ub86d\uac8c \ub300\ucc98\ud560 \uc218 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(r.p,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc704 \uc124\uc815\ub4e4\uc744 \uc774\uc6a9\ud558\uc5ec CircuitBreaker\uc758 \ub3d9\uc791 \ubc29\uc2dd\uc744 \uc124\uba85\ud558\ub294 \uac83\uc73c\ub85c \ub9c8\ubb34\ub9ac \uc9c0\uc744\uae4c \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\ucc98\uc74c CircuitBreaker\uc758 \uc0c1\ud0dc\ub294 ",(0,t.jsx)(r.em,{children:"Closed"}),"\uc785\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.em,{children:"Closed"})," : \ud638\ucd9c\uc744 \uc218\ud589\ud55c \ud6c4 ",(0,t.jsx)(r.code,{children:"exceptionFilter"}),"\uc5d0 \ub530\ub77c \ub2e4\uc74c\uacfc \uac19\uc774 \ub3d9\uc791\ud569\ub2c8\ub2e4.","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\uacb0\uacfc\uac00 \uc131\uacf5\ud588\ub2e4\uba74 \uc131\uacf5\ud588\ub2e4\ub294 \uae30\ub85d\uc744 \ub0a8\uae30\uace0 ",(0,t.jsx)(r.em,{children:"Closed"})," \uc0c1\ud0dc\ub85c \uac11\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.li,{children:["\uacb0\uacfc\uac00 \uc2e4\ud328\ud588\ub2e4\uba74 ",(0,t.jsx)(r.code,{children:"counterSlidingWindow"})," \uc2dc\uac04 \ub3d9\uc548\uc758 \ud638\ucd9c \uacb0\uacfc\ub97c \ud655\uc778\ud574\uc11c","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"minimumRequestThreshold"})," \uac1c\uc218\ubcf4\ub2e4 \ub9ce\uace0, \uc2e4\ud328\uc728\uc774 ",(0,t.jsx)(r.code,{children:"failureRateThreshold"})," \uc774\uc0c1\uc774\ub77c\uba74 ",(0,t.jsx)(r.em,{children:"Open"})," \uc0c1\ud0dc\ub85c \uac11\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.li,{children:["\uadf8\ub807\uc9c0 \uc54a\ub2e4\uba74 ",(0,t.jsx)(r.em,{children:"Closed"})," \uc0c1\ud0dc\ub85c \uc720\uc9c0\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.em,{children:"Open"})," : ",(0,t.jsx)(r.code,{children:"circuitOpenWindow"})," \uc2dc\uac04\uc774 \uc9c0\ub098\uba74 ",(0,t.jsx)(r.em,{children:"Half-Open"})," \uc0c1\ud0dc\ub85c \ubc14\ub00c\uac8c \ub429\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.em,{children:"Half-Open"})," : \ucc98\uc74c \ub4e4\uc5b4\uc624\ub294 \ud638\ucd9c\uc744 \uc218\ud589\ud55c \ud6c4 ",(0,t.jsx)(r.code,{children:"exceptionFilter"}),"\uc5d0 \ub530\ub77c \ub2e4\uc74c\uacfc \uac19\uc774 \ub3d9\uc791\ud569\ub2c8\ub2e4.","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\uacb0\uacfc\uac00 \uc131\uacf5\ud588\ub2e4\uba74 ",(0,t.jsx)(r.em,{children:"Closed"})," \uc0c1\ud0dc\ub85c \ubc14\ub01d\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.li,{children:["\uacb0\uacfc\uac00 \uc2e4\ud328\ud588\ub2e4\uba74 ",(0,t.jsx)(r.em,{children:"Open"})," \uc0c1\ud0dc\ub85c \ubc14\ub01d\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"trialRequestInterval"})," \uc2dc\uac04 \uc548\uc5d0 \uc751\ub2f5\uc774 \uc5c6\ub2e4\uba74 ",(0,t.jsx)(r.em,{children:"Half-Open"})," \uc0c1\ud0dc\uc5d0\uc11c \uadf8 \ub2e4\uc74c \ucc98\uc74c\uc73c\ub85c \ub4e4\uc5b4\uc624\ub294 \ud638\ucd9c \uacb0\uacfc\uc5d0 \ub530\ub978 \ubd84\uae30 \ucc98\ub9ac\ub97c \ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\uc800\uc790-\uc18c\uac1c",children:"\uc800\uc790 \uc18c\uac1c"}),"\n",(0,t.jsx)(r.p,{children:"\uc2e0\uc885\ud6c8: \uc800\ub294 \uadc0\ucc2e\uc740 \uc77c\uc744 \uc2eb\uc5b4\ud569\ub2c8\ub2e4. \uadc0\ucc2e\uc740 \uc77c\uc744 \uc904\uc774\uae30 \uc704\ud574\uc11c \uacc4\uc18d \uace0\ubbfc\ud558\uc9c0\uc694. \uadf8\ub798\uc11c, \ud504\ub85c\uadf8\ub798\ubc0d\uc744 \uc88b\uc544\ud558\ub294\ub370 \uc660\uc9c0 \uc77c\uc774 \ub354 \ub298\uc5b4\ub09c \uac83 \uac19\uc740 \ub290\ub08c\uc740 \uc800\ub9cc\uc758 \ub290\ub08c\uc774\uaca0\uc9c0\uc694?"})]})}function u(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);