"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[9380],{25041:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"tutorials/rest/prepare-data-object","title":"Preparing a data object","description":"Before we get into writing a blog service, first prepare a data object to contain blog post information. This object is used also in handling requests and sending responses.","source":"@site/src/content/docs/tutorials/rest/02-prepare-data-object.mdx","sourceDirName":"tutorials/rest","slug":"/tutorials/rest/prepare-data-object","permalink":"/docs/tutorials/rest/prepare-data-object","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/docs/tutorials/rest/02-prepare-data-object.mdx","tags":[{"inline":true,"label":"rest","permalink":"/docs/tags/rest"},{"inline":true,"label":"request","permalink":"/docs/tags/request"},{"inline":true,"label":"request-converter","permalink":"/docs/tags/request-converter"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"2. Prepare a data object","type":"step","tags":["rest","request","request-converter"],"level":"basic"},"sidebar":"docsSidebar","previous":{"title":"1. Create a server","permalink":"/docs/tutorials/rest/create-server"},"next":{"title":"3. Add services to a server","permalink":"/docs/tutorials/rest/add-services-to-server"}}');var i=n(74848),s=n(28453);const a={sidebar_label:"2. Prepare a data object",type:"step",tags:["rest","request","request-converter"],level:"basic"},o="Preparing a data object",d={},l=[{value:"What you need",id:"what-you-need",level:2},{value:"1. Define blog post data",id:"1-define-blog-post-data",level:2},{value:"2. Add constructors",id:"2-add-constructors",level:2},{value:"3. Add getters",id:"3-add-getters",level:2},{value:"What&#39;s next?",id:"whats-next",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components},{TutorialSteps:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("TutorialSteps",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"preparing-a-data-object",children:"Preparing a data object"})}),"\n",(0,i.jsx)(t.p,{children:"Before we get into writing a blog service, first prepare a data object to contain blog post information. This object is used also in handling requests and sending responses."}),"\n",(0,i.jsxs)(t.p,{children:["If you want a quick start, skip this step and copy off the ",(0,i.jsx)(t.a,{href:"https://github.com/line/armeria-examples/blob/main/tutorials/rest-api-annotated-service/src/main/java/example/armeria/server/blog/BlogPost.java",children:"BlogPost.java"})," of the sample service code."]}),"\n",(0,i.jsx)(n,{current:2}),"\n",(0,i.jsx)(t.h2,{id:"what-you-need",children:"What you need"}),"\n",(0,i.jsx)(t.p,{children:"No preparation is required for this step."}),"\n",(0,i.jsx)(t.h2,{id:"1-define-blog-post-data",children:"1. Define blog post data"}),"\n",(0,i.jsxs)(t.p,{children:["Our blog service needs a container for blog post information.\nLet's define a ",(0,i.jsx)(t.code,{children:"BlogPost"})," class containing the following information."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:"package example.armeria.server.blog;\n\npublic final class BlogPost {\n  private final int id;           // The post ID\n  private final String title;     // The post title\n  private final String content;   // The post content\n  private final long createdAt;   // The time post is created at\n  private final long modifiedAt;  // The time post is modified at\n}\n"})}),"\n",(0,i.jsx)(t.h2,{id:"2-add-constructors",children:"2. Add constructors"}),"\n",(0,i.jsxs)(t.p,{children:["You need to create a blog post instance when you create or update blog posts. Let's add constructors in the ",(0,i.jsx)(t.code,{children:"BlogPost"})," class."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",metastring:'title="BlogPost.java"',children:"BlogPost(int id, String title, String content) {\n  this(id, title, content, System.currentTimeMillis());\n}\n\nBlogPost(int id, String title, String content, long createdAt) {\n  this(id, title, content, createdAt, createdAt);\n}\n\nBlogPost(int id, String title, String content, long createdAt, long modifiedAt) {\n  this.id = id;\n  this.title = title;\n  this.content = content;\n  this.createdAt = createdAt;\n  this.modifiedAt = modifiedAt;\n}\n"})}),"\n",(0,i.jsx)(t.h2,{id:"3-add-getters",children:"3. Add getters"}),"\n",(0,i.jsx)(t.p,{children:"Add the following block of code in the blog service."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:"public final class BlogPost {\n  ...\n\n  public int getId() { return id; }\n\n  public String getTitle() { return title; }\n\n  public String getContent() { return content; }\n\n  public long getCreatedAt() { return createdAt; }\n\n  public long getModifiedAt() { return modifiedAt; }\n}\n"})}),"\n",(0,i.jsx)(t.h2,{id:"whats-next",children:"What's next?"}),"\n",(0,i.jsx)(t.p,{children:"In this step, we've implemented a data object specifying and containing blog post objects."}),"\n",(0,i.jsxs)(t.p,{children:["Next, at ",(0,i.jsx)(t.a,{href:"/docs/tutorials/rest/add-services-to-server",children:"Step 3. Add services to a server"}),", we'll write and\nadd an\nempty service to the server we created earlier."]}),"\n",(0,i.jsx)(n,{current:2})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var r=n(96540);const i={},s=r.createContext(i);function a(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);