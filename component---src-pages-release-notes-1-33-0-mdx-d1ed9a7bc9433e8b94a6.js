"use strict";(self.webpackChunkarmeria_site=self.webpackChunkarmeria_site||[]).push([[3528],{15547:function(e){e.exports=JSON.parse('{"/release-notes/1.33.3":"v1.33.3","/release-notes/1.33.2":"v1.33.2","/release-notes/1.33.1":"v1.33.1","/release-notes/1.33.0":"v1.33.0","/release-notes/1.32.5":"v1.32.5","/release-notes/1.32.4":"v1.32.4","/release-notes/1.32.3":"v1.32.3","/release-notes/1.32.2":"v1.32.2","/release-notes/1.32.1":"v1.32.1","/release-notes/1.32.0":"v1.32.0","/release-notes/1.31.3":"v1.31.3","/release-notes/1.31.2":"v1.31.2","/release-notes/1.31.1":"v1.31.1","/release-notes/1.31.0":"v1.31.0","/release-notes/1.30.3":"v1.30.3","/release-notes/1.30.2":"v1.30.2"}')},63441:function(e,a,r){r(92827);var t=r(14099),n=r(41015),i=r(96540),o=r(87289),s=r(15547),l=r(97551),c=r(61023),p=r(41525);const{Title:m}=t.A,h=Object.keys(s)[0],g=u(h);function u(e){return e.substring(e.lastIndexOf("/")+1)}a.A=e=>{const a={},r={},t={root:{"Latest news items":"/news","Latest release notes":"/release-notes","Past news items":"/news/list","Past release notes":"/release-notes/list"},"Recent news items":a,"Recent releases":r};Object.entries(o).forEach((e=>{let[r,t]=e;a[t]=r})),Object.entries(s).forEach((e=>{let[a,t]=e;r[t]=a}));const d=(0,p.A)(e.location);let y=e.version||u(d);return y.match(/^[0-9]/)||(y=void 0),i.createElement(c.A,Object.assign({},e,{candidateMdxNodes:[],index:t,prefix:"release-notes",pageTitle:y?`${y} release notes`:e.pageTitle,pageTitleSuffix:"Armeria release notes"}),y&&y!==g?i.createElement(l.Y6,null,"You're seeing the release note of an old version. Check out"," ",i.createElement(n.Link,{to:h},"the latest release note"),"."):"",y?i.createElement(m,{id:"release-notes",level:1},i.createElement("a",{href:"#release-notes","aria-label":"release notes permalink",className:"anchor before"},i.createElement("svg",{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},i.createElement("path",{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),y," release notes"):"",e.children)}},87289:function(e){e.exports=JSON.parse('{"/news/20231208-newsletter-6":"Armeria Newsletter vol. 6","/news/20230426-newsletter-5":"Armeria Newsletter vol. 5","/news/20220714-newsletter-4":"Armeria Newsletter vol. 4","/news/20211029-newsletter-3":"Armeria Newsletter vol. 3","/news/20210202-newsletter-2":"Armeria Newsletter vol. 2","/news/20200703-newsletter-1":"Armeria Newsletter vol. 1","/news/20200514-newsletter-0":"Armeria Newsletter vol. 0"}')},96602:function(e,a,r){r.r(a),r.d(a,{_frontmatter:function(){return s},default:function(){return h}});var t=r(80045),n=(r(96540),r(28619)),i=r(63441);const o=["components"],s={},l=(c="ThankYou",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.yg)("div",e)});var c;const p={_frontmatter:s},m=i.A;function h(e){let{components:a}=e,r=(0,t.A)(e,o);return(0,n.yg)(m,Object.assign({},p,r,{components:a,mdxType:"MDXLayout"}),(0,n.yg)("p",{className:"date"},"6th August 2025"),(0,n.yg)("h2",{id:"-new-features",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#-new-features","aria-label":" new features permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🌟 New features"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Athenz Integration"),": You can now use the new ",(0,n.yg)("inlineCode",{parentName:"p"},"armeria-athenz")," module to easily obtain and validate Athenz\ntokens for secure service-to-service communication. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6050"},"#6050")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6321"},"#6321")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Server-side validation: Use ",(0,n.yg)("a",{parentName:"p",href:"type://@RequiresAthenzRole:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/athenz/RequiresAthenzRole.html"},"type://@RequiresAthenzRole")," to protect your annotated service endpoints."),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Prepare a `ZtsBaseClient` to communicate with\n// the Athenz ZTS server.\nZtsBaseClient ztsBaseClient =\n  ZtsBaseClient\n    .builder("https://athenz.example.com:4443/zts/v1")\n    .keyPair("/var/lib/athenz/service.key.pem",\n             "/var/lib/athenz/service.cert.pem")\n    .build();\n\n// Create and register `AthenzServiceDecoratorFactory`.\nfinal AthenzServiceDecoratorFactory athenzDecoratorFactory =\n  AthenzServiceDecoratorFactory\n    .builder(ztsBaseClient)\n    .policyConfig(new AthenzPolicyConfig("my-domain"))\n    .build();\nfinal DependencyInjector di =\n  DependencyInjector.ofSingletons(athenzDecoratorFactory)\n                    .orElse(DependencyInjector.ofReflective());\nserverBuilder.dependencyInjector(di, true);\n\n// Decorate methods with `RequiresAthenzRole` to check Athenz role.\nclass MyService {\n  @RequiresAthenzRole(resource = "user", action = "get")\n  @ProducesJson\n  @Get("/user")\n  public CompletableFuture<User> getUser() {\n     ...\n  }\n}\nserverBuilder.annotatedService(new MyService());\n'))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Client-side token management: Automatically cache and attach Athenz tokens to outgoing requests."),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Decorate the `WebClient` with `AthenzClient` to automatically\n// obtain and attach Athenz tokens.\nWebClient\n  .builder()\n  .decorator(AthenzClient.newDecorator(ztsBaseClient, "my-domain",\n                                       TokenType.ACCESS_TOKEN))\n  ...\n  .build();\n'))))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Content Sanitization for Logs"),": You can now mask sensitive information for ",(0,n.yg)("a",{parentName:"p",href:"type://AnnotatedService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AnnotatedService.html"},"type://AnnotatedService")," and\n",(0,n.yg)("a",{parentName:"p",href:"type://THttpService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/thrift/THttpService.html"},"type://THttpService")," using the flexible ",(0,n.yg)("a",{parentName:"p",href:"type://ContentSanitizer:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/ContentSanitizer.html"},"type://ContentSanitizer"),". ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6311"},"#6311")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6268"},"#6268")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// For annotated services, use a custom annotation\n// and mark sensitive fields.\n@Retention(RetentionPolicy.RUNTIME)\n@interface Sensitive {}\n\nclass UserRequest {\n    private String name;\n    @Sensitive // This field will be masked in logs.\n    private String phoneNumber;\n    ...\n}\n\n// For Thrift services, set an annotation to the field.\nstruct SecretStruct {\n  1: string hello;\n  2: string secret (sensitive = "");\n}\n\n// Create `FieldMaskerSelector`s for both types.\nBeanFieldMaskerSelector beanMasker =\n   FieldMaskerSelector.ofBean(fieldInfo -> {\n       Sensitive sensitive = fieldInfo.getAnnotation(Sensitive.class);\n       if (sensitive != null) {\n           return FieldMasker.nullify();  // 👈👈👈\n       } else {\n           return FieldMasker.fallthrough();\n       }\n   });\n\nThriftFieldMaskerSelector thriftMasker =\n  ThriftFieldMaskerSelector\n     .builder()\n     .onFieldAnnotation("sensitive", FieldMasker.nullify())  // 👈👈👈\n     .build();\n\n// Build a `ContentSanitizer` and add it to your `LogFormatter`.\nContentSanitizer<String> sanitizer =\n  ContentSanitizer.builder()\n                  .fieldMaskerSelector(beanMasker)\n                  .fieldMaskerSelector(thriftMasker)\n                  .buildForText();\nLogFormatter formatter = LogFormatter.builderForText()\n                                    .contentSanitizer(contentSanitizer)\n                                    .build();\n\n// Use the formatter in `LoggingService`.\n...\n'))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"XDS-based Client Preprocessors"),": You can now use ",(0,n.yg)("a",{parentName:"p",href:"type://XdsHttpPreprocessor:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/xds/client/endpoint/XdsHttpPreprocessor.html"},"type://XdsHttpPreprocessor")," and ",(0,n.yg)("a",{parentName:"p",href:"type://XdsRpcPreprocessor:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/xds/client/endpoint/XdsRpcPreprocessor.html"},"type://XdsRpcPreprocessor"),"\nto create clients that route requests according to your xDS configuration. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6299"},"#6299")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},'XdsBootstrap bootstrap = XdsBootstrap.of(...);\nXdsHttpPreprocessor xdsProcessor =\n   XdsHttpPreprocessor.ofListener("my-listener", bootstrap);\nWebClient client = WebClient.of(xdsProcessor); // 👈👈👈\n// This request is routed based on the \'my-listener\' configuration.\nclient.get("/api/v1/resource");\n'))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Preprocessor-based Clients"),": It is now possible to create a client solely from a ",(0,n.yg)("a",{parentName:"p",href:"type://Preprocessor:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/Preprocessor.html"},"type://Preprocessor"),",\nwhich allows for dynamic, per-request configuration of the protocol and endpoint. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6060"},"#6060")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},'HttpPreprocessor preprocessor = (delegate, ctx, req) -> {\n   // Dynamically set the session protocol and endpoint group.\n   ctx.setSessionProtocol(SessionProtocol.HTTP);\n   ctx.setEndpointGroup(Endpoint.of("endpoint.example.com", 8080));\n   return delegate.execute(ctx, req);\n};\nWebClient client = WebClient.of(preprocessor);\n'))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Enhanced RPC Tracing with Brave"),": You can now use ",(0,n.yg)("a",{parentName:"p",href:"type://BraveRpcService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/brave/BraveRpcService.html"},"type://BraveRpcService")," to apply fine-grained sampling,\ntags and annotations based on ",(0,n.yg)("a",{parentName:"p",href:"type://RpcRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RpcRequest.html"},"type://RpcRequest")," and ",(0,n.yg)("a",{parentName:"p",href:"type://RpcResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RpcResponse.html"},"type://RpcResponse")," content. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6084"},"#6084")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6115"},"#6115")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},'RpcTracing rpcTracing =\n  RpcTracing\n    .newBuilder(tracing)\n    .serverSampler(req -> {\n        ServiceRequestContext ctx = (ServiceRequestContext) req.unwrap();\n        RpcRequest rpcRequest = ctx.rpcRequest();\n        if (rpcRequest != null &&\n            "SlowService".equals(rpcRequest.serviceName())) {\n            // Always sample requests to the SlowService.\n            return true;\n        }\n        return null;\n    })\n    .build();\nBraveRpcService.newDecorator(tracing);\n'))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Default Content Logging for AnnotatedService"),": ",(0,n.yg)("a",{parentName:"p",href:"type://AnnotatedService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AnnotatedService.html"},"type://AnnotatedService")," now sets request content and\nresponse content to ",(0,n.yg)("a",{parentName:"p",href:"type://RequestLog:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLog.html"},"type://RequestLog")," by default. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/5711"},"#5711")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6231"},"#6231")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"You can disable this behavior by specifying ",(0,n.yg)("inlineCode",{parentName:"li"},"-Dcom.linecorp.armeria.annotatedServiceContentLogging=false")," JVM option."))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Periodic TLS Key Pair Refresh"),": You can now periodically refresh a ",(0,n.yg)("a",{parentName:"p",href:"type://TlsKeyPair:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/TlsKeyPair.html"},"type://TlsKeyPair")," using the new\n",(0,n.yg)("a",{parentName:"p",href:"type://TlsProvider#ofScheduled(Supplier,Duration):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/TlsProvider.html#ofScheduled(java.util.function.Supplier,java.time.Duration)"},"type://TlsProvider#ofScheduled(Supplier,Duration)")," method. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6331"},"#6331")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},"File keyFile = ...;\nFie certFile = ...;\nTlsProvider.ofScheduled(() -> {\n  return TlsKeyPair.of(keyFile, certFile);\n}, Duration.ofHours(1));\n"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Access gRPC Call Details in Decorators"),": ",(0,n.yg)("a",{parentName:"p",href:"type://GrpcClientCall:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/grpc/GrpcClientCall.html"},"type://GrpcClientCall")," allows you to access ",(0,n.yg)("inlineCode",{parentName:"p"},"MethodDescriptor"),"\nand ",(0,n.yg)("inlineCode",{parentName:"p"},"CallOptions")," of a gRPC call within the client decorators. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6291"},"#6291")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-java"},"GrpcClients\n  .builder(grpcServerUri)\n  .decorator((delegate, ctx, req) -> {\n    CallOptions options = GrpcClientCall.callOptions(ctx);  // 👈👈👈\n    MethodDescriptor descriptor = GrpcClientCall.methodDescriptor(ctx);\n    boolean retryable = descriptor.isIdempotent() || descriptor.isSafe()\n    ...\n\n    return delegate.execute(ctx, req);\n  })\n  .build(MyGrpcStub.class);\n"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Composable Connection Pool Listeners"),": You can now compose multiple ",(0,n.yg)("a",{parentName:"p",href:"typeplural://ConnectionPoolListener:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ConnectionPoolListener.html"},"typeplural://ConnectionPoolListener")," together\nusing ",(0,n.yg)("a",{parentName:"p",href:"type://ConnectionPoolListener#andThen(ConnectionPoolListener):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ConnectionPoolListener.html#andThen(com.linecorp.armeria.client.ConnectionPoolListener)"},"type://ConnectionPoolListener#andThen(ConnectionPoolListener)")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/5159"},"#5159")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6207"},"#6207"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Response Headers in DocsService"),": The debug console in ",(0,n.yg)("a",{parentName:"p",href:"type://DocsService"},"type://DocsService")," now exposes response headers. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6191"},"#6191"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Multi-value Query Parameters in Annotated Service"),": You can now use ",(0,n.yg)("inlineCode",{parentName:"p"},"@Param Map<String, List<?>>")," in\n",(0,n.yg)("a",{parentName:"p",href:"type://AnnotatedService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/AnnotatedService.html"},"type://AnnotatedService")," to collect multi-value query parameters. ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/6118"},"#6118")))),(0,n.yg)("h2",{id:"-improvements",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#-improvements","aria-label":" improvements permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"📈 Improvements"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The xDS integration has been enhanced to support routing requests based on the :authority header, as well as the path, headers, and query parameters. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6322"},"#6322")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6333"},"#6333")),(0,n.yg)("li",{parentName:"ul"},"Boolean values such as ",(0,n.yg)("inlineCode",{parentName:"li"},'"True"')," and ",(0,n.yg)("inlineCode",{parentName:"li"},'"False"')," in HTTP headers and query parameters are now correctly parsed. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6301"},"#6301")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6302"},"#6302")),(0,n.yg)("li",{parentName:"ul"},"xDS resources are now cached per ",(0,n.yg)("a",{parentName:"li",href:"type://XdsBootstrap:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/xds/XdsBootstrap.html"},"type://XdsBootstrap")," to improve performance and reduce resource usage. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6288"},"#6288")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://BraveClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/brave/BraveClient.html"},"type://BraveClient")," and ",(0,n.yg)("a",{parentName:"li",href:"type://BraveService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/brave/BraveService.html"},"type://BraveService")," now ensure a span is not lost when ",(0,n.yg)("a",{parentName:"li",href:"type://RequestContext:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html"},"type://RequestContext")," is\npushed. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6139"},"#6139")),(0,n.yg)("li",{parentName:"ul"},"You can now forcibly refresh the cached value when using ",(0,n.yg)("a",{parentName:"li",href:"type://AsyncLoader#load(boolean):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/AsyncLoader.html#load(boolean)?full"},"type://AsyncLoader#load(boolean)?full"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6328"},"#6328")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://RequestLog:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLog.html"},"type://RequestLog")," can now be completed with an arbitrary child log via ",(0,n.yg)("a",{parentName:"li",href:"type://RequestLogBuilder#endResponseWithChild(RequestLogAccess):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestLogBuilder.html#endResponseWithChild(com.linecorp.armeria.common.logging.RequestLogAccess)"},"type://RequestLogBuilder#endResponseWithChild(RequestLogAccess)"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6294"},"#6294")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"VirtualHost.normalizeHostnamePattern()")," has been optimized to improve performance by skipping unnecessary processing for wildcard patterns. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6208"},"#6208"))),(0,n.yg)("h2",{id:"️-bug-fixes",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#%EF%B8%8F-bug-fixes","aria-label":"️ bug fixes permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🛠️ Bug fixes"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Fixed a bug where HTTP/2 flow control did not work properly, and stream-level windowing was ignored. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6253"},"#6253")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6266"},"#6266")),(0,n.yg)("li",{parentName:"ul"},"Fixed a regression introduced in version 1.32.4 where ",(0,n.yg)("a",{parentName:"li",href:"type://RetryingClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryingClient.html"},"type://RetryingClient")," would drop trailers from\nstreaming responses. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6213"},"#6213")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6307"},"#6307")),(0,n.yg)("li",{parentName:"ul"},"An unnecessary ",(0,n.yg)("inlineCode",{parentName:"li"},"RST_STREAM")," frame is no longer sent by the server after an ",(0,n.yg)("inlineCode",{parentName:"li"},"endStream")," frame has already been\nsent. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6279"},"#6279")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://CertificateMetrics:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/CertificateMetrics.html"},"type://CertificateMetrics")," now prefers the subject alternative name over the common name for the ",(0,n.yg)("inlineCode",{parentName:"li"},"hostname"),"\ntag. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6332"},"#6332")),(0,n.yg)("li",{parentName:"ul"},"Fixes a bug that a recovered ",(0,n.yg)("a",{parentName:"li",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse")," does not produce response content preview. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3969"},"#3969")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6269"},"#6269")),(0,n.yg)("li",{parentName:"ul"},"Thrift ",(0,n.yg)("a",{parentName:"li",href:"type://DocService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html"},"type://DocService")," now skips a Thrift-JSON generated file that does not have ",(0,n.yg)("inlineCode",{parentName:"li"},"namespaces"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6248"},"#6248")),(0,n.yg)("li",{parentName:"ul"},"Fixed a bug where ",(0,n.yg)("inlineCode",{parentName:"li"},"WatcherException: too old resource version")," was thrown when\nusing ",(0,n.yg)("a",{parentName:"li",href:"type://KubernetesEndpointGroup:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/kubernetes/endpoints/KubernetesEndpointGroup.html"},"type://KubernetesEndpointGroup"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6305"},"#6305")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://DnsCache:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/DnsCache.html"},"type://DnsCache")," no longer retains references to closed DNS resolvers. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6173"},"#6173")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6174"},"#6174")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://HttpJsonTranscodingService"},"type://HttpJsonTranscodingService")," now correctly handles requests with an empty content body. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6319"},"#6319")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6325"},"#6325")),(0,n.yg)("li",{parentName:"ul"},"Fixed ",(0,n.yg)("a",{parentName:"li",href:"type://GsonGrpcJsonMarshallerBulider"},"type://GsonGrpcJsonMarshallerBulider")," to correctly customize ",(0,n.yg)("inlineCode",{parentName:"li"},"JsonFormat.Parser")," and ",(0,n.yg)("inlineCode",{parentName:"li"},"JsonFormat.Printer"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6146"},"#6146")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://CompositeEndpointGroup"},"type://CompositeEndpointGroup")," now handles concurrent updates correctly. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6220"},"#6220")),(0,n.yg)("li",{parentName:"ul"},"WebSocket upgrade requests with multiple ",(0,n.yg)("inlineCode",{parentName:"li"},"Connection")," header values are now handled correctly. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/5957"},"#5957")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/5958"},"#5958")),(0,n.yg)("li",{parentName:"ul"},"Armeria now gracefully rejects invalid ",(0,n.yg)("inlineCode",{parentName:"li"},"Forwarded")," header chunks with 404 Bad request. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6284"},"#6284")," ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6285"},"#6285"))),(0,n.yg)("h2",{id:"️-deprecations",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#%EF%B8%8F-deprecations","aria-label":"️ deprecations permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🏚️ Deprecations"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"type://GrpcCallOptions:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/grpc/GrpcCallOptions.html"},"type://GrpcCallOptions")," has been deprecated in favor of ",(0,n.yg)("a",{parentName:"li",href:"type://GrpcClientCall:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/grpc/GrpcClientCall.html"},"type://GrpcClientCall"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6291"},"#6291"))),(0,n.yg)("h2",{id:"️-breaking-changes",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#%EF%B8%8F-breaking-changes","aria-label":"️ breaking changes permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"☢️ Breaking changes"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Netty 4.1.x is no longer supported. Please upgrade to Netty 4.2.x. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6335"},"#6335")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"armeria-kubernetes")," module now requires Java 11 or later. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6271"},"#6271")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"armeria-graphql")," module now requires Java 11 or later. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6335"},"#6335")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://unixism.net/loti/what_is_io_uring.html"},"io_uring")," transport now requires Java 9 or later. ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6339"},"#6339")),(0,n.yg)("li",{parentName:"ul"},"The ",(0,n.yg)("inlineCode",{parentName:"li"},"common.name")," tag in ",(0,n.yg)("a",{parentName:"li",href:"type://CertificateMetrics:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/CertificateMetrics.html"},"type://CertificateMetrics")," is renamed to ",(0,n.yg)("inlineCode",{parentName:"li"},"hostname"),". ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/6332"},"#6332"))),(0,n.yg)("h2",{id:"-dependencies",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#-dependencies","aria-label":" dependencies permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"⛓ Dependencies"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Blockhound 1.0.10 → 1.0.13"),(0,n.yg)("li",{parentName:"ul"},"Brave 6.1.0 → 6.3.0"),(0,n.yg)("li",{parentName:"ul"},"Micrometer context propagation 1.1.2 → 1.1.3"),(0,n.yg)("li",{parentName:"ul"},"Control plane 1.0.48 → 1.0.49"),(0,n.yg)("li",{parentName:"ul"},"Curator 5.7.1 → 5.9.0"),(0,n.yg)("li",{parentName:"ul"},"Dropwizard Metrics 4.2.28 → 4.2.33"),(0,n.yg)("li",{parentName:"ul"},"Eureka 2.0.4 → 2.0.5"),(0,n.yg)("li",{parentName:"ul"},"Graphql-Java 20.4 → 24.2"),(0,n.yg)("li",{parentName:"ul"},"gRPC-Java 1.70.0 → 1.74.0"),(0,n.yg)("li",{parentName:"ul"},"Jackson 2.18.2 → 2.19.2"),(0,n.yg)("li",{parentName:"ul"},"Jetty 11.0.24 → 11.0.25,, 12.0.14 → 12.0.23"),(0,n.yg)("li",{parentName:"ul"},"JUnit 5.12.0 → 5.13.4"),(0,n.yg)("li",{parentName:"ul"},"Kubernetes client 6.13.5 -> 7.3.1"),(0,n.yg)("li",{parentName:"ul"},"krotodc 1.1.1 → 1.2.0"),(0,n.yg)("li",{parentName:"ul"},"Logback 1.5.16 → 1.5.18"),(0,n.yg)("li",{parentName:"ul"},"Micrometer 1.14.4 → 1.15.2"),(0,n.yg)("li",{parentName:"ul"},"Micrometer Tracing 1.4.3 → 1.5.2"),(0,n.yg)("li",{parentName:"ul"},"Netty 4.1.118 → 4.2.3"),(0,n.yg)("li",{parentName:"ul"},"Prometheus 1.3.6 → 1.3.10"),(0,n.yg)("li",{parentName:"ul"},"Reactor 3.7.3 → 3.7.8"),(0,n.yg)("li",{parentName:"ul"},"Retrofit 2.11.0 → 2.12.0"),(0,n.yg)("li",{parentName:"ul"},"RxJava 3.1.10 → 3.1.11"),(0,n.yg)("li",{parentName:"ul"},"Sangria 4.2.5 → 4.2.10"),(0,n.yg)("li",{parentName:"ul"},"Scala 3.6.1 → 3.7.1"),(0,n.yg)("li",{parentName:"ul"},"Snappy 1.1.10.7 → 1.1.10.8"),(0,n.yg)("li",{parentName:"ul"},"Spring 6.2.3 → 6.2.9"),(0,n.yg)("li",{parentName:"ul"},"Spring Boot 3.4.3 → 3.5.4"),(0,n.yg)("li",{parentName:"ul"},"Thrift 0.21.1, 0.22.0"),(0,n.yg)("li",{parentName:"ul"},"Zookeeper 3.9.2 → 3.9.3")),(0,n.yg)("h2",{id:"-thank-you",style:{position:"relative"}},(0,n.yg)("a",{parentName:"h2",href:"#-thank-you","aria-label":" thank you permalink",className:"anchor before"},(0,n.yg)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,n.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🙇 Thank you"),(0,n.yg)(l,{usernames:["0x1306e6d","AnyRoad","DongHyukki","Ivan-Montes","KarboniteKream","anuraaga","blue-hope","codefromthecrypt","divijvaidya","friscoMad","haneepark","hyunw9","icepeppermint","ikhoon","jrhee17","kojilin","kwondh5217","minwoox","pppurple","rickyma","schiemon","sh-cho","trustin","yzfeng2020"],mdxType:"ThankYou"}))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-release-notes-1-33-0-mdx-d1ed9a7bc9433e8b94a6.js.map