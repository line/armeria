"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[4761],{28453:(e,r,i)=>{i.d(r,{R:()=>s,x:()=>o});var n=i(96540);const t={},a=n.createContext(t);function s(e){const r=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(a.Provider,{value:r},e.children)}},68054:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"0.99.9","title":"v0.99.9","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/0.99.9.mdx","sourceDirName":".","slug":"/0.99.9","permalink":"/release-notes/0.99.9","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site-new/src/content/release-notes/0.99.9.mdx","tags":[],"version":"current","frontMatter":{"date":"2020-08-03T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"Version 0","permalink":"/release-notes/version-0"},"next":{"title":"v0.99.8","permalink":"/release-notes/0.99.8"}}');var t=i(74848),a=i(28453);const s={date:new Date("2020-08-03T00:00:00.000Z")},o="v0.99.9",c={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\ud83c\udfda\ufe0f Deprecations",id:"\ufe0f-deprecations",level:2},{value:"\u2622\ufe0f Breaking changes",id:"\ufe0f-breaking-changes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function h(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components},{ThankYou:i}=r;return i||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.header,{children:[(0,t.jsx)(r.h1,{id:"v0999",children:"v0.99.9"}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.em,{children:"August 3, 2020"})})]}),"\n",(0,t.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now add multiple request timeout callbacks using the following methods: ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2937",children:"#2937"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2939",children:"#2939"})]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContext.html#whenResponseTimingOut()",children:"ClientRequestContext#whenResponseTimingOut()"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContext.html#whenResponseTimedOut()",children:"ClientRequestContext#whenResponseTimedOut()"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#whenRequestTimingOut()",children:"ServiceRequestContext#whenRequestTimingOut()"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#whenRequestTimedOut()",children:"ServiceRequestContext#whenRequestTimedOut()"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now specify multiple decorators with a single call when building a service binding fluently. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2889",children:"#2889"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'Server.builder()\n      .route().get("/hello")\n              .decorators(firstDecorator,\n                          secondDecorator,\n                          thirdDecorator)\n              .build(helloService)\n      .build();\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now specify whether the entire annotated service methods have to run in a ",(0,t.jsx)(r.code,{children:"blockingTaskExecutor"}),".\n",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2923",children:"#2923"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2925",children:"#2925"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'Server.builder()\n      .annotatedService().pathPrefix("/my_service")\n                         .useBlockingTaskExecutor(true)\n                         .build(myService);\n\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can also specify the ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Blocking.html",children:"@Blocking"})," annotation on a class. It was previously allowed only on methods.\n",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2915",children:"#2915"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'@Blocking\npublic class MyBlockingAnnotatedService {\n    @Get\n    public String delayed() throws Exception {\n        Thread.sleep(1000);\n        return "slept a second";\n    }\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now bind an annotated service method to the prefix path by specifying no path. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2708",children:"#2708"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2853",children:"#2853"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'public class MyAnnotatedService {\n    @Get\n    public String withoutSlash() {\n        return "without slash";\n    }\n\n    @Get("/")\n    public String withSlash() {\n        return "with slash";\n    }\n}\n\nServer server =\n    Server.builder()\n          .http(8080)\n          .annotatedService("/prefix", new MyAnnotatedService())\n          .build();\nserver.start().join();\n\nassert "without slash".equals(\n    WebClient.of().get("http://127.0.0.1:8080/prefix")\n             .aggregate().toStringUtf8());\n\nassert "with slash".equals(\n    WebClient.of().get("http://127.0.0.1:8080/prefix/")\n             .aggregate().toStringUtf8());\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now send and receive ",(0,t.jsx)(r.code,{children:"grpc-web-text"})," messages in gRPC, as well as ",(0,t.jsx)(r.code,{children:"grpc-web+proto"})," and\n",(0,t.jsx)(r.code,{children:"grpc-web+json"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2938",children:"#2938"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2955",children:"#2955"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'MyGrpcServiceStub client =\n    Clients.newClient("gproto-web-text+h2c://example.com",\n                      MyGrpcServiceStub.class);\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now send a request via an HAPROXY server preserving the original source and destination addresses.\n",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2589",children:"#2589"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2907",children:"#2907"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'ClientFactory factory =\n    ClientFactory.builder()\n                 .proxyConfig(ProxyConfig.haproxy(haproxyServerAddr))\n                 .build();\n\nWebClient client =\n    WebClient.builder()\n             .factory(factory)\n             .build();\n\n// Send an HTTP request to example.com via an HAPROXY server,\n// preserving the source address by using HAPROXY protocol.\nclient.get("http://example.com/").aggregate().join();\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["You can now use different ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/proxy/ProxyConfig.html",children:"ProxyConfig"})," for different ",(0,t.jsx)(r.a,{href:"typeplural://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/Endpoint.html",children:"Endpoint"})," using\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/proxy/ProxyConfigSelector.html",children:"ProxyConfigSelector"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2752",children:"#2752"})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-java",children:'ProxyConfigSelector mySelector = (protocol, endpoint) -> {\n    // Send the requests to *.foo.com via a SOCKS5 server.\n    if (endpoint.host().endsWith(".foo.com")) {\n        return ProxyConfig.socks5(socksServerAddr);\n    }\n    // Send the requests to *.bar.com via a HAPROXY server.\n    if (endpoint.host().endsWith(".bar.com")) {\n        return ProxyConfig.haproxy(haproxyServerAddr);\n    }\n    return ProxyConfig.direct();\n};\n\nClientFactory factory =\n    ClientFactory.builder()\n                 .proxyConfig(mySelector)\n                 .build();\n'})}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:["Added ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Route.html#patternString()",children:"Route#patternString()"})," which can be used as a simple human-readable description of\na ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Route.html",children:"Route"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2932",children:"#2932"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2933",children:"#2933"})]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpData.html",children:"HttpData"})," now extends ",(0,t.jsx)(r.code,{children:"AutoCloseable"})," and provides various methods useful when using\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/SubscriptionOption.html#WITH_POOLED_OBJECTS",children:"SubscriptionOption#WITH_POOLED_OBJECTS"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2892",children:"#2892"})]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Note that this feature is only for the advanced users who want to reduce the number of memory copies\nin a performance-sensitive environment."}),"\n",(0,t.jsxs)(r.li,{children:["See ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/unsafe/PooledObjects.html",children:"PooledObjects"})," for more information."]}),"\n"]}),"\n"]}),"\n"]}),"\n","\n",(0,t.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["We now use the following ",(0,t.jsx)(r.a,{href:"https://errorprone.info/",children:"Google Error Prone"})," annotations which might be useful\nif you use Error Prone already or your static analysis tool supports them: ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2876",children:"#2876"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2908",children:"#2908"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"@CheckReturnValue"})}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"@FormatMethod"})," and ",(0,t.jsx)(r.code,{children:"@FormatString"})]}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"@MustBeClosed"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["You can now specify the connection ping interval less than 10 seconds, which was previously impossible. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2944",children:"#2944"})]}),"\n",(0,t.jsxs)(r.li,{children:["Improved the load distribution of client requests by randomizing how we choose the initial event loop,\nwhich may reduce the error rate in a certain situation. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2941",children:"#2941"})]}),"\n",(0,t.jsxs)(r.li,{children:["Improved the performance of ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/Endpoint.html#toString()",children:"Endpoint#toString()"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2906",children:"#2906"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContext.html#currentOrNull()",children:"ClientRequestContext#currentOrNull()"})," and ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#currentOrNull()",children:"ServiceRequestContext#currentOrNull()"})," don't throw\nan ",(0,t.jsx)(r.code,{children:"IllegalStateException"})," anymore but return ",(0,t.jsx)(r.code,{children:"null"})," when the current context type mismatches. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2962",children:"#2962"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/Endpoint.html#parse(java.lang.String)",children:"Endpoint#parse(String)"})," doesn't fail anymore when given with an authority with a userInfo part.\n",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2869",children:"#2869"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2893",children:"#2893"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"req.serviceName"})," in ",(0,t.jsx)(r.a,{href:"type://#",children:"BuiltInProperties"})," has been renamed to ",(0,t.jsx)(r.code,{children:"req.service_name"})," for the consistency\nwith other property names. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2958",children:"#2958"})]}),"\n",(0,t.jsxs)(r.li,{children:["We now handle an HTTP/2 request with a ",(0,t.jsx)(r.code,{children:"Host"})," header properly, matching the behavior of HAPROXY. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2877",children:"#2877"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2878",children:"#2878"})]}),"\n",(0,t.jsxs)(r.li,{children:["You can now send an HTTPS request via an HTTPS CONNECT proxy server (double encryption). ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2887",children:"#2887"})]}),"\n",(0,t.jsxs)(r.li,{children:["Fixed the buffer leaks in the following places: \ud83d\ude31 ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2891",children:"#2891"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2892",children:"#2892"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2951",children:"#2951"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryingClient.html",children:"RetryingClient"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerClient.html",children:"CircuitBreakerClient"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"DefaultDnsNameResolver"})}),"\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.code,{children:"DefaultStreamMessageDuplicator"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["You are now disallowed to set a ",(0,t.jsx)(r.code,{children:":status"})," header when building an ",(0,t.jsx)(r.code,{children:"HttpFile"}),", because it will make\n",(0,t.jsx)(r.code,{children:"FileService"})," misbehave. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2926",children:"#2926"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["Fixed an ",(0,t.jsx)(r.code,{children:"IllegalReferenceCountException"})," when content preview is turned on. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2905",children:"#2905"})]}),"\n",(0,t.jsxs)(r.li,{children:["gRPC-Web trailers are now compressed and decompressed properly. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2930",children:"#2930"})]}),"\n",(0,t.jsxs)(r.li,{children:["Fixed the compatibility issues with ",(0,t.jsx)(r.code,{children:"grpc-kotlin"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2947",children:"#2947"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2950",children:"#2950"})]}),"\n",(0,t.jsxs)(r.li,{children:["You can now use the graceful shutdown properties when integration with Spring Boot 1. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2954",children:"#2954"})]}),"\n",(0,t.jsxs)(r.li,{children:["You can now use ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/spring/DocServiceConfigurator.html",children:"DocServiceConfigurator"})," when integrating with Spring Boot 2. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2960",children:"#2960"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/metric/MetricCollectingService.html",children:"MetricCollectingService"})," now decorates all services if the ",(0,t.jsx)(r.code,{children:"armeria.enableMetrics"})," property is set\nwhen integrating with Spring Boot. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2873",children:"#2873"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2898",children:"#2898"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-deprecations",children:"\ud83c\udfda\ufe0f Deprecations"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["All option constants in ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientOption.html",children:"ClientOption"})," and ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactoryOption.html",children:"ClientFactoryOption"})," have been moved to\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientOptions.html",children:"ClientOptions"})," and ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactoryOptions.html",children:"ClientFactoryOptions"})," respectively. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2928",children:"#2928"})]}),"\n",(0,t.jsxs)(r.li,{children:["Various implementation classes have been deprecated in favor of static factory methods: ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2875",children:"#2875"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2890",children:"#2890"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"MetricCollectingCircuitBreakerListener"})," \u2192 ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerListener.html#metricCollecting(io.micrometer.core.instrument.MeterRegistry)",children:"CircuitBreakerListener#metricCollecting(MeterRegistry)"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"RateLimitingThrottlingStrategy"})," \u2192 ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/throttling/ThrottlingStrategy.html#rateLimiting(double)",children:"ThrottlingStrategy#rateLimiting(double)"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"ConnectionPoolLoggingListener"})," \u2192 ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ConnectionPoolListener.html#logging()",children:"ConnectionPoolListener#logging()"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"StickyEndpointSelectionStrategy"})," \u2192 ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/EndpointSelectionStrategy.html#sticky(java.util.function.ToLongFunction)",children:"EndpointSelectionStrategy#sticky(ToLongFunction)"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"TTextProtocol"})," \u2192 ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/thrift/text/TTextProtocolFactory.html#getProtocol(org.apache.thrift.transport.TTransport)",children:"TTextProtocolFactory#getProtocol(TTransport)"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"Route#meterTag()"})," and ",(0,t.jsx)(r.a,{href:"type://#",children:"Route#loggerName()"})," have been deprecated in favor of\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Route.html#patternString()",children:"Route#patternString()"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2933",children:"#2933"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"type://#",children:"ClientRequestContext#responseTimeoutHandler()"}),",\n",(0,t.jsx)(r.a,{href:"type://#",children:"ClientRequestContext#setResponseTimeoutHandler(Runnable)"}),",\n",(0,t.jsx)(r.a,{href:"type://#",children:"ServiceRequestContext#requestTimeoutHandler()"})," and\n",(0,t.jsx)(r.a,{href:"type://#",children:"ServiceRequestContext#setRequestTimeoutHandler(Runnable)"})," have been deprecated in favor of\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientRequestContext.html#whenResponseTimedOut()",children:"ClientRequestContext#whenResponseTimedOut()"})," and\n",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#whenRequestTimedOut()",children:"ServiceRequestContext#whenRequestTimedOut()"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2939",children:"#2939"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\ufe0f-breaking-changes",children:"\u2622\ufe0f Breaking changes"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Added ",(0,t.jsx)(r.code,{children:"final"})," to the various classes and methods so that a user doesn't extend them beyond the devs'\nintention. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2927",children:"#2927"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"com.linecorp.armeria.common.util.NonNullByDefault"})," and ",(0,t.jsx)(r.code,{children:"UnstableApi"})," have been moved to\n",(0,t.jsx)(r.code,{children:"com.linecorp.armeria.common.annotation"}),". ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2890",children:"#2890"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"KeyedCircuitBreakerMapping"})," and its inner class are now package-private. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2890",children:"#2890"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Use the static factory methods in ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerMapping.html",children:"CircuitBreakerMapping"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["A ",(0,t.jsx)(r.code,{children:"Host"})," header isn't automatically translated into the ",(0,t.jsx)(r.code,{children:":authority"})," header anymore, so that you can preserve\nthe original headers when writing a proxy server with Armeria. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2877",children:"#2877"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2878",children:"#2878"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"req.serviceName"})," in ",(0,t.jsx)(r.a,{href:"type://#",children:"BuiltInProperties"})," has been renamed to ",(0,t.jsx)(r.code,{children:"req.service_name"})," for the consistency\nwith other property names. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2958",children:"#2958"})]}),"\n",(0,t.jsxs)(r.li,{children:["Various classes and methods that were previously deprecated have been removed. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2926",children:"#2926"})]}),"\n",(0,t.jsxs)(r.li,{children:["The new ",(0,t.jsx)(r.code,{children:"Pooled*"})," API introduced in the previous release has been reverted due to design and performance\nissues. ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2882",children:"#2882"})," ",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2892",children:"#2892"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["See ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/unsafe/PooledObjects.html",children:"PooledObjects"})," for the new API."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"ClientFactoryOption.PROXY_CONFIG"})," has been replaced with ",(0,t.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactoryOptions.html#PROXY_CONFIG_SELECTOR",children:"ClientFactoryOptions#PROXY_CONFIG_SELECTOR"}),".\n",(0,t.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2752",children:"#2752"})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Bouncy Castle 1.65.01 \u2192 1.66"}),"\n",(0,t.jsx)(r.li,{children:"Brave 5.12.3 \u2192 5.12.4"}),"\n",(0,t.jsx)(r.li,{children:"Dropwizard 2.0.10 \u2192 2.0.12, 1.3.23 \u2192 1.3.24"}),"\n",(0,t.jsx)(r.li,{children:"Dropwizard Metrics 4.1.9 \u2192 4.1.11"}),"\n",(0,t.jsx)(r.li,{children:"gRPC 1.30.2 \u2192 1.31.0"}),"\n",(0,t.jsx)(r.li,{children:"Jackson 2.11.1 \u2192 2.11.2"}),"\n",(0,t.jsx)(r.li,{children:"Jetty 9.4.30 \u2192 9.4.31"}),"\n",(0,t.jsx)(r.li,{children:"Micrometer 1.5.2 \u2192 1.5.3, 1.3.10 \u2192 1.3.11"}),"\n",(0,t.jsxs)(r.li,{children:["Netty 4.1.50 \u2192 4.1.51","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"netty-tcnative-boringssl-static 2.0.30 \u2192 2.0.31"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.li,{children:"Reactor 3.3.7 \u2192 3.3.8"}),"\n",(0,t.jsx)(r.li,{children:"RxJava 3.0.4 \u2192 3.0.5"}),"\n",(0,t.jsx)(r.li,{children:"Spring Boot 2.3.1 \u2192 2.3.2"}),"\n",(0,t.jsx)(r.li,{children:"Tomcat 9.0.36 \u2192 9.0.37, 8.5.56 \u2192 8.5.57"}),"\n",(0,t.jsxs)(r.li,{children:["Shaded dependencies:","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"completable-futures 0.3.2 \u2192 0.3.3"}),"\n",(0,t.jsx)(r.li,{children:"fastutil 8.3.1 \u2192 8.4.0"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,t.jsx)(i,{usernames:["anuraaga","codefromthecrypt","ghkim3221","heowc","ikhoon","imasahiro","jrhee17","KarboniteKream","kojilin","m50d","mauhiz","matsumana","minwoox","okue","smax48","tobias-","trustin"]})]})}function d(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);