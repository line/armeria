"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[6064],{16697:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"1.18.0","title":"v1.18.0","description":"\ud83c\udf1f New features","source":"@site/src/content/release-notes/1.18.0.mdx","sourceDirName":".","slug":"/1.18.0","permalink":"/release-notes/1.18.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site/src/content/release-notes/1.18.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2022-08-08T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v1.19.0","permalink":"/release-notes/1.19.0"},"next":{"title":"v1.17.2","permalink":"/release-notes/1.17.2"}}');var a=n(74848),s=n(28453);const o={date:new Date("2022-08-08T00:00:00.000Z")},c="v1.18.0",t={},l=[{value:"\ud83c\udf1f New features",id:"-new-features",level:2},{value:"\ud83d\udcc8 Improvements",id:"-improvements",level:2},{value:"\ud83d\udee0\ufe0f Bug fixes",id:"\ufe0f-bug-fixes",level:2},{value:"\u26d3 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\ude47 Thank you",id:"-thank-you",level:2}];function d(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{ThankYou:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.header,{children:[(0,a.jsx)(r.h1,{id:"v1180",children:"v1.18.0"}),(0,a.jsx)(r.p,{children:(0,a.jsx)(r.em,{children:"August 8, 2022"})})]}),"\n",(0,a.jsx)(r.h2,{id:"-new-features",children:"\ud83c\udf1f New features"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html",children:"DocService"})," can now render Markdown and ",(0,a.jsx)(r.a,{href:"https://mermaid-js.github.io/mermaid/",children:"Mermaid"}),"\nformatted documentation for annotated services. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4299",children:"#4299"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4304",children:"#4304"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Description(value = "### Markdown format", markup = Markup.MARKDOWN)\n@Get("/markdown")\npublic HttpResponse markdown() {\n  return HttpResponse.of(200);\n}\n'})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Description(value = "graph TD;\\n" +\n                     " A--\x3eB;\\n" +\n                     " A--\x3eC;\\n" +\n                     " B--\x3eD;\\n" +\n                     " C--\x3eD;",\n             markup = Markup.MERMAID)\n@Get("/mermaid")\npublic HttpResponse mermaid() {\n  return HttpResponse.of(200);\n}\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now bind decorators to each gRPC service using ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#addService(io.grpc.BindableService,java.lang.Iterable)",children:"GrpcServiceBuilder#addService(BindableService,Iterable)"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4311",children:"#4311"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4316",children:"#4316"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"GrpcService.builder()\n  .addService(myGrpcService, List.of(decorator)) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n  .build();\n"})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/UnframedGrpcErrorHandler.html#ofJson()",children:"UnframedGrpcErrorHandler#ofJson()"})," now conforms to\n",(0,a.jsx)(r.a,{href:"https://cloud.google.com/apis/design/errors#error_model",children:"Google's error model"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4231",children:"#4231"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4384",children:"#4384"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"GrpcService\n  .builder()\n  .addService(myGrpcServiceImpl)\n  .unframedGrpcErrorHandler(\n    UnframedGrpcErrorHandler.ofJson()) // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n  .build();\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",children:'{\n  "code": 2,\n  "message": "A custom message!",\n  ...\n}\n'})}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:["You can now extract the innermost element of ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/Unwrappable.html",children:"Unwrappable"})," type objects easily using ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/Unwrappable.html#unwrapAll()",children:"Unwrappable#unwrapAll()"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4338",children:"#4338"})]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"Foo foo = new Foo();\nBar<Foo> bar = new Bar<>(foo);\nQux<Bar<Foo>> qux = new Qux<>(bar);\nassert qux.unwrapAll() == foo; // \ud83d\udc48\ud83d\udc48\ud83d\udc48\n"})}),"\n"]}),"\n"]}),"\n","\n",(0,a.jsx)(r.h2,{id:"-improvements",children:"\ud83d\udcc8 Improvements"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestContext.html",children:"RequestContext"})," now extends ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/Unwrappable.html",children:"Unwrappable"}),". ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4308",children:"#4308"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"\ufe0f-bug-fixes",children:"\ud83d\udee0\ufe0f Bug fixes"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["You no longer see an intermittent ",(0,a.jsx)(r.a,{href:"type://#",children:"IllegalStateException"})," for gRPC services\nwhen ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#useBlockingTaskExecutor(boolean)",children:"GrpcServiceBuilder#useBlockingTaskExecutor(boolean)"})," is enabled. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4367",children:"#4367"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4374",children:"#4374"})]}),"\n",(0,a.jsxs)(r.li,{children:["Requests no longer hang when gRPC-JSON transcoding is enabled and gRPC decorators return an unframed response. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4337",children:"#4337"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4348",children:"#4348"})]}),"\n",(0,a.jsxs)(r.li,{children:["You can now use ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/HttpFile.html",children:"HttpFile"})," to serve files from the OSGI bundle. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4371",children:"#4371"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4373",children:"#4373"})]}),"\n",(0,a.jsxs)(r.li,{children:["A request's start time on the server side is now correctly\nrecorded when a server receives the first header. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4365",children:"#4365"})," ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4372",children:"#4372"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer see a false positive warning of unknown ",(0,a.jsx)(r.code,{children:"MethodType"})," when using gRPC clients. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4363",children:"#4363"})]}),"\n",(0,a.jsxs)(r.li,{children:["You no longer see a ",(0,a.jsx)(r.code,{children:"NoSuchElementException"})," while a ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/healthcheck/HealthCheckedEndpointGroup.html",children:"HealthCheckedEndpointGroup"})," is closed. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4349",children:"#4349"})]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ClosedSessionException.html",children:"ClosedSessionException"})," and ",(0,a.jsx)(r.a,{href:"type://https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/ClosedStreamException.html",children:"ClosedStreamException"})," are raised correctly according to their usage. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4380",children:"#4380"})]}),"\n",(0,a.jsxs)(r.li,{children:["The timeout for client's endpoint selection isn't clamped by ",(0,a.jsx)(r.code,{children:"responseTimeout"})," anymore. ",(0,a.jsx)(r.a,{href:"https://github.com/line/armeria/issues/4383",children:"#4383"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-dependencies",children:"\u26d3 Dependencies"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Brave 5.13.9 \u2192 5.13.10"}),"\n",(0,a.jsx)(r.li,{children:"Bucket4j 7.5.0 \u2192 7.6.0"}),"\n",(0,a.jsx)(r.li,{children:"Curator 5.2.1 \u2192 5.3.0"}),"\n",(0,a.jsx)(r.li,{children:"Dropwizard metrics 2.1.0 \u2192 2.1.1"}),"\n",(0,a.jsx)(r.li,{children:"GraphQL-Java 18.2 \u2192 19.0"}),"\n",(0,a.jsx)(r.li,{children:"GraphQL-Kotlin 5.3.2 \u2192 6.1.0"}),"\n",(0,a.jsx)(r.li,{children:"gRPC-Java 1.47.0 \u2192 1.48.0"}),"\n",(0,a.jsx)(r.li,{children:"java-jwt 3.19.1 \u2192 4.0.0"}),"\n",(0,a.jsx)(r.li,{children:"Jetty 9.4.46.v20220331 \u2192 9.4.48.v20220622"}),"\n",(0,a.jsx)(r.li,{children:"kafka-clients 3.2.0 \u2192 3.2.1"}),"\n",(0,a.jsx)(r.li,{children:"Kotlin 1.7.0 \u2192 1.7.10"}),"\n",(0,a.jsx)(r.li,{children:"Kotlin Coroutine 1.6.3 \u2192 1.6.4"}),"\n",(0,a.jsx)(r.li,{children:"Micrometer 1.9.1 \u2192 1.9.2"}),"\n",(0,a.jsx)(r.li,{children:"Netty 4.1.78.Final \u2192 4.1.79.Final"}),"\n",(0,a.jsx)(r.li,{children:"Protobuf 3.19.2 \u2192 3.21.1"}),"\n",(0,a.jsx)(r.li,{children:"Reactor 3.4.19 \u2192 3.4.21"}),"\n",(0,a.jsx)(r.li,{children:"RESTEasy 5.0.2.Final \u2192 5.0.4.Final"}),"\n",(0,a.jsx)(r.li,{children:"Sangria 3.0.0 \u2192 3.0.1"}),"\n",(0,a.jsx)(r.li,{children:"Scala 2.12.15 \u2192 2.12.16, 3.1.2 \u2192 3.1.3"}),"\n",(0,a.jsx)(r.li,{children:"scala-collection-compat 2.7.0 \u2192 2.8.1"}),"\n",(0,a.jsx)(r.li,{children:"Spring Boot 2.7.1 \u2192 2.7.2"}),"\n",(0,a.jsx)(r.li,{children:"Spring Web 5.3.21 \u2192 5.3.22"}),"\n",(0,a.jsx)(r.li,{children:"Tomcat8 8.5.78 \u2192 8.5.81"}),"\n",(0,a.jsx)(r.li,{children:"Tomcat9 9.0.62 \u2192 9.0.65"}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"-thank-you",children:"\ud83d\ude47 Thank you"}),"\n",(0,a.jsx)(n,{usernames:["anuraaga","cnabro","ikhoon","jrhee17","mauhiz","minwoox","mscheong01","natsumehu","ngyukman","proceane","ta7uw","trustin"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>c});var i=n(96540);const a={},s=i.createContext(a);function o(e){const r=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:r},e.children)}}}]);