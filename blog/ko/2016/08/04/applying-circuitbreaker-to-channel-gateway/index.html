<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-blog-ko" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Channel Gateway에 CircuitBreaker 적용 | Armeria</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://armeria.dev/img/og-image.png"><meta data-rh="true" name="twitter:image" content="https://armeria.dev/img/og-image.png"><meta data-rh="true" property="og:url" content="https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="og:site_name" content="Armeria - Your go-to microservice framework"><meta data-rh="true" name="og:type" content="website"><meta data-rh="true" name="og:image:width" content="1280"><meta data-rh="true" name="og:image:height" content="640"><meta data-rh="true" name="twitter:site" content="@armeria_project"><meta data-rh="true" name="twitter:creator" content="@armeria_project"><meta data-rh="true" property="og:title" content="Channel Gateway에 CircuitBreaker 적용 | Armeria"><meta data-rh="true" name="description" content="들어가기에 앞서"><meta data-rh="true" property="og:description" content="들어가기에 앞서"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2016-08-04T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway"><link data-rh="true" rel="alternate" href="https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway" hreflang="en"><link data-rh="true" rel="alternate" href="https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway","mainEntityOfPage":"https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway","url":"https://armeria.dev/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway","headline":"Channel Gateway에 CircuitBreaker 적용","name":"Channel Gateway에 CircuitBreaker 적용","description":"들어가기에 앞서","datePublished":"2016-08-04T00:00:00.000Z","author":{"@type":"Person","name":"신종훈","description":"저는 귀찮은 일을 싫어합니다. 귀찮은 일을 줄이기 위해서 계속 고민하지요. 그래서, 프로그래밍을 좋아하는데 왠지 일이 더 늘어난 것 같은 느낌은 저만의 느낌이겠지요?","image":"/img/author-shinjonghun.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://armeria.dev/blog/ko","name":"Armeria Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Armeria Newsletter RSS Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CY9YHLJ0K6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CY9YHLJ0K6",{anonymize_ip:!0})</script>





<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Armeria Blog RSS Feed">
<link rel="alternate" type="application/rss+xml" href="/blog/ja/rss.xml" title="Armeria Blog - Japanese RSS Feed">
<link rel="alternate" type="application/rss+xml" href="/blog/ko/rss.xml" title="Armeria Blog - Korean RSS Feed">

<link rel="manifest" href="/manifest.json">


<link rel="alternate" type="application/rss+xml" href="/release-notes/rss.xml" title="Armeria Release Notes RSS Feed">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Armeria RSS Feed"><link rel="stylesheet" href="/assets/css/styles.884c8684.css">
<script src="/assets/js/runtime~main.4c78ee10.js" defer="defer"></script>
<script src="/assets/js/main.e9c1103a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/armeria_logo_horiz.svg"><link rel="preload" as="image" href="/img/author-shinjonghun.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/armeria_logo_horiz.svg" alt="Armeria Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/armeria_logo_horiz.svg" alt="Armeria Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">News</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/news/20231208-newsletter-6">Newsletter</a></li><li><a class="dropdown__link" href="/release-notes/1.34.2">Release notes</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/community/">Community</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/line/armeria" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a class="navbar__item navbar__link header-discord-link" aria-label="Discord" href="/s/discord"></a><a href="https://x.com/armeria_project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-x-link" aria-label="X"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md"> </div><button type="button" class="ant-btn css-198drv2 ant-btn-default ant-btn-color-default ant-btn-variant-outlined ant-btn-lg ant-dropdown-trigger blogLanguageSelector__AnM"><a href="/blog">English</a><span role="img" aria-label="down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></span></button><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2021/07/15/customizing-armeria-metrics">Armeria 지표 커스터마이징하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2021/06/28/monitoring-prometheus-metrics-from-armeria">Armeria에서 Prometheus 지표 모니터링하기</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2020/02/19/reactive-streams-armeria-2">Armeria로 Reactive Streams와 놀자! - 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2020/02/18/reactive-streams-armeria-1">Armeria로 Reactive Streams와 놀자! - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2020/04/27/circuit-breakers-armeria">Armeria의 서킷 브레이커 사용해 보기</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2019</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2019/12/24/my-first-opensource-contribution-to-armeria">생애 첫 오픈 소스 기여 경험(feat. Armeria)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2019/05/09/armeria-sprint-1">GitHub Contributions 그래프를 푸릇푸릇하게 만들어보아요(feat. Armeria Sprint)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2019/04/16/thank-you-for-contributing-to-armeria">오픈소스 Armeria의 기여자를 위한 이벤트를 진행하였습니다</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2016</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/ko/2016/08/04/applying-circuitbreaker-to-channel-gateway">Channel Gateway에 CircuitBreaker 적용</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2016/07/24/circuit-breakers-for-distributed-services">분산 서비스 환경에 대한 Circuit Breaker 적용</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ko/2016/04/13/open-sourcing-armeria">Armeria 오픈소스화 이야기</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><div><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>This post is also available in<!-- --> <a href="/blog/ja/2016/08/04/applying-circuitbreaker-to-channel-gateway">Japanese</a> and <a href="/blog/2016/08/04/applying-circuitbreaker-to-channel-gateway">English</a>.</p></div></div></div><h1 class="title_f1Hy">Channel Gateway에 CircuitBreaker 적용</h1><div class="container_mt6G margin-vert--md"><time datetime="2016-08-04T00:00:00.000Z">August 4, 2016</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><img class="avatar__photo authorImage_XqGP" src="/img/author-shinjonghun.png" alt="신종훈"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp" translate="no">신종훈</span></div><small class="authorTitle_nd0D" title="저는 귀찮은 일을 싫어합니다. 귀찮은 일을 줄이기 위해서 계속 고민하지요. 그래서, 프로그래밍을 좋아하는데 왠지 일이 더 늘어난 것 같은 느낌은 저만의 느낌이겠지요?">저는 귀찮은 일을 싫어합니다. 귀찮은 일을 줄이기 위해서 계속 고민하지요. 그래서, 프로그래밍을 좋아하는데 왠지 일이 더 늘어난 것 같은 느낌은 저만의 느낌이겠지요?</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="들어가기에-앞서">들어가기에 앞서<a href="#들어가기에-앞서" class="hash-link" aria-label="Direct link to 들어가기에 앞서" title="Direct link to 들어가기에 앞서" translate="no">​</a></h2>
<p><a class="" href="/blog/ko/2016/07/24/circuit-breakers-for-distributed-services">Circuit Breaker에 대한 소개 블로그</a>를 읽지 않았다면 먼저 읽어보시길 권장합니다.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="channel-gateway에-circuitbreaker-적용하기">Channel Gateway에 CircuitBreaker 적용하기<a href="#channel-gateway에-circuitbreaker-적용하기" class="hash-link" aria-label="Direct link to Channel Gateway에 CircuitBreaker 적용하기" title="Direct link to Channel Gateway에 CircuitBreaker 적용하기" translate="no">​</a></h2>
<p>Channel Gateway 서버에서는 LINE의 다양한 서버들의 기능을 CP(Contents Provider)들에게 제공하는 역할을 맡고 있습니다. 그러다보니 Channel Gateway 서버들은 연결된 서버들에 영향을 많이 받게 됩니다. 그리고, 그러한 영향들은 쉽게 전체 Channel Gateway 서버들에게 전파됩니다.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/applying-circuitbreaker-to-channel-gateway-1-537a3aa178c1835906c7a42d541dac55.png" width="870" height="328" class="img_ev3q"></p>
<!-- -->
<p>이 문제를 해결하기 위하여 고민하던 중에 CircuitBreaker에 관한 내용을 들었습니다. 특정 서버에서 장애가 발생할 경우 CircuitBreaker가 이를 감지하고 그 서버로 요청하는 호출을 차단하면 문제를 충분히 해결할 수 있다고 생각했습니다. 그래서 Channel Gateway에 CircuitBreaker를 적용하기로 했습니다.</p>
<p>Channel Gateway를 위한 CircuitBreaker를 직접 구현할 수도 있었지만, <a href="http://line.github.io/armeria/" target="_blank" rel="noopener noreferrer" class="">Armeria</a>에는 CircuitBreaker가 훌륭하게 만들어져 있었습니다.
Armeria의 CircuitBreaker는 여러 가지 옵션들을 원하는 대로 설정하여 <code>CircuitBreakerBuilder</code>를 통해 구현된 <code>CircuitBreaker</code> 객체를 얻을 수 있습니다. 이 객체를 통하여 Channel Gateway에 맞게 커스터마이즈할 수 있게 구현되어 있어서 어렵지 않게 적용할 수 있었습니다.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="circuitbreaker의-애너테이션-사용">CircuitBreaker의 애너테이션 사용<a href="#circuitbreaker의-애너테이션-사용" class="hash-link" aria-label="Direct link to CircuitBreaker의 애너테이션 사용" title="Direct link to CircuitBreaker의 애너테이션 사용" translate="no">​</a></h2>
<p>talk-channel-gateway 소스코드에서 CircuitBreaker는 <code>@CircuitBreakable</code> 애너테이션을 사용하여 적용할 수 있습니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@CircuitBreakable(CircuitBreakerGroup.HBASE_CLIENT_USER_SETTINGS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public ChannelSettings findBy(String mid) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>위와 같이 적용한 경우, <code>findBy()</code> 메서드가 호출될 때마다 성공/실패를 감시하고, 그 결과에 따라 CircuitBreaker가 열리거나 닫히게 됩니다.
HBASE_CLIENT_USER_SETTINGS는 CircuitBreaker로 묶일 그룹을 지정하는 것으로서, 메서드들의 실패율을 계산할 때도 그룹 전체의 호출 회수 대비 실패 회수로 계산하고, CircuitBreaker가 열리거나 닫힐 때도 함께 열리거나 닫히게 됩니다.
CircuitBreaker의 설정은 <code>CircuitBreakerGroup</code>이라는 enum 객체에서 다음과 같이 설정할 수 있습니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public enum CircuitBreakerGroup implements ExceptionFilter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SAMPLE_DEFAULT {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SAMPLE_API {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        protected ExceptionFilter exceptionFilter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return cause -&gt; !(cause instanceof AuthenticationException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              || cause instanceof ApiPermissionException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              || cause instanceof ImproperRequestException);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HBASE_CLIENT_CHANNEL_MATRIX {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HBASE_CLIENT_USER_SETTINGS {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected ExceptionFilter exceptionFilter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cause -&gt; true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public CircuitBreaker circuitBreaker(CircuitBreakerListener listener) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new CircuitBreakerBuilder(name()).exceptionFilter(exceptionFilter())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                .listener(listener)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean shouldDealWith(Throwable throwable) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return exceptionFilter().shouldDealWith(throwable);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Channel Gateway에서는 <code>ExceptionFilter</code>를 커스터마이즈하여 사용하였습니다. 그 외의 옵션들은 Armeria의 기본 옵션을 그대로 사용하였습니다. 만약, 다른 옵션들을 변경하여 사용하고 싶다면 <code>circuitBreaker()</code> 메서드를 수정하여 사용할 수 있을 것입니다.</p>
<p>Armeria에서는 기본적으로 어떠한 예외라도 발생할 경우 실패로 간주하도록 되어 있습니다. 하지만, Channel Gateway에서는 권한이 없는 경우 등을 예외로 처리하여 반환해주기 때문에 이를 구분할 필요가 있었습니다. 그래서, <code>ExceptionFilter</code>를 커스터마이즈하여 사용하였습니다. 그리고, CircuitBreaker의 상태가 변할 때마다 로그를 쌓을 수 있도록 Channel Gateway를 위한 이벤트 리스너도 추가하였습니다.</p>
<p>애너테이션에 적용하는 그룹은 enum 객체로 지정할 수 있으며, enum 객체 구현 부분에서 그룹별로 다른 설정을 할 수 있도록 하였습니다.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="circuitbreaker에서-proceed-구현">CircuitBreaker에서 proceed() 구현<a href="#circuitbreaker에서-proceed-구현" class="hash-link" aria-label="Direct link to CircuitBreaker에서 proceed() 구현" title="Direct link to CircuitBreaker에서 proceed() 구현" translate="no">​</a></h2>
<p><a href="https://en.wikipedia.org/wiki/AspectJ" target="_blank" rel="noopener noreferrer" class="">Aspect</a> 객체의 <code>proceed()</code> 코드는 다음과 같습니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class CircuitBreakerAspect implements Ordered {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private final Map&amp;lt;CircuitBreakerGroup, CircuitBreaker&gt; circuitBreakers =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                new EnumMap&amp;lt;&gt;(CircuitBreakerGroup.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @PostConstruct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public void initialize() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            final CircuitBreakerListener listener =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new CircuitBreakerListenerImpl(circuitBreakerLogger);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (CircuitBreakerGroup group : CircuitBreakerGroup.values()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                circuitBreakers.put(group, group.circuitBreaker(listener));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public Object proceed(final ProceedingJoinPoint pjp,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               final CircuitBreakable circuitBreakable) throws Throwable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            final CircuitBreakerGroup group = circuitBreakable.value();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            final CircuitBreaker circuitBreaker = circuitBreakers.get(group);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (circuitBreaker.canRequest()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                final Object result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    result = pjp.proceed();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } catch (Throwable e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (group.shouldDealWith(e)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        circuitBreaker.onFailure(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        circuitBreaker.onSuccess();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    throw e;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                circuitBreaker.onSuccess();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                throw CircuitBreakerException.circuitBroken();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>코드는 비교적 간단합니다. <code>CircuitBreaker.canRequest()</code>를 통해 CircuitBreaker가 열려 있다면 예외를 발생시킵니다. 그렇지 않다면 메서드를 정상적으로 호출합니다. 호출한 결과 예외가 발생했고, 그 예외가 실패로 처리해야 하는 경우라면 CircuitBreaker에게 실패했다고 알려줍니다. 그렇지 않다면 CircuitBreaker에게 성공했다고 알려주기만 하면 됩니다. 참고로 실제 적용된 코드에는 CircuitBreaker가 잘 적용되었는지 확인하기 위한 IMON Logger1와 관련된 코드가 들어있습니다. 하지만, 여기에서는 CircuitBreaker 부분에 집중할 수 있도록 생략하였습니다.</p>
<p><em>1: IMON Logger: IMON은 LINE 사내의 다양한 서비스들을 모니터링하기 위한 시스템으로, IMON Logger는 IMON으로 대상 서비스의 통계지표 및 로그들을 취합하여 전송하는 기능을 하고 있다.</em></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="circuitbreaker의-설정-변경-메서드">CircuitBreaker의 설정 변경 메서드<a href="#circuitbreaker의-설정-변경-메서드" class="hash-link" aria-label="Direct link to CircuitBreaker의 설정 변경 메서드" title="Direct link to CircuitBreaker의 설정 변경 메서드" translate="no">​</a></h2>
<p>CircuitBreaker 객체를 만들어주는 <code>CircuitBreakerBuilder</code>에는 CircuitBreaker의 설정을 변경할 수 있는 여러 가지 메서드를 제공합니다. 가능하면 기본 설정 그대로 사용하는 것을 추천하지만 CircuitBreaker에 대해서 좀 더 이해하기 쉽도록 설정들에 대해서 설명드릴까 합니다.</p>
<table><thead><tr><th>메서드</th><th>파라미터</th><th>기본값</th><th>설명</th></tr></thead><tbody><tr><td>failureRateThreshold</td><td>double</td><td>0.8</td><td>CircuitBreaker를 열지 말지 판단할 때 사용하기 위한 실패율입니다. <code>counterSlidingWindow</code> 시간 동안의 실패율이 이 값보다 높을 경우 CircuitBreaker가 열리게 됩니다. 기본값 그대로 사용할 경우 80% 이상 실패하게 되면 CircuitBreaker가 열리게 됩니다. 다시 말해 성공하는 비율이 20% 미만이면 CircuitBreaker가 열리게 됩니다.</td></tr><tr><td>minimumRequestThreshold</td><td>long</td><td>10</td><td>CircuitBreaker를 열지 말지 판단할 최소의 호출 회수입니다. <code>counterSlidingWindow</code> 시간 동안의 호출 회수가 이 값 미만일 때는 CircuitBreaker를 열지 말지 판단하지 않습니다.</td></tr><tr><td>circuitOpenWindow</td><td>Duration</td><td>10초</td><td>CircuitBreaker가 Open 상태로 바뀐 후 Half-Open 상태로 바뀌기까지의 시간입니다. CircuitBreaker가 열린 후에는 <code>circuitOpenWindow</code> 시간만큼 흐른 후에 Half-Open 상태로 바뀌어서 호출을 테스트하게 됩니다.</td></tr><tr><td>circuitOpenWindowMillis</td><td>long</td><td>10000</td><td></td></tr><tr><td>trialRequestInterval</td><td>Duration</td><td>3초</td><td>Half-Open 상태에서 요청한 호출에 Closed응답이 없을 경우, 호출을 재시도하기 위해 기다리는 시간입니다. <code>trialRequestInterval</code> 시간 안에 응답이 올 경우에는 그 결과에 따라서 Closed나 Open 상태로 바뀌게 됩니다. 만약, Open 상태로 바뀌었다면 다시 <code>circuitOpenWindow</code> 시간만큼 기다렸다가 호출을 테스트하게 됩니다. 하지만, 요청한 호출이 <code>trialRequestInterval</code> 시간 동안 어느 응답도 오지 않는다면 다시 호출을 시도하게 됩니다.</td></tr><tr><td>trialRequestIntervalMillis</td><td>long</td><td>3000</td><td></td></tr><tr><td>counterSlidingWindow</td><td>Duration</td><td>20초</td><td>CircuitBreaker를 열지 말지 판단할 때 최근 <code>counterSlidngWindow</code> 시간만큼의 기록을 가지고 판단합니다. 기본값 그대로 사용하게 되면 최근 20초 동안의 호출 결과들만으로 판단하게 됩니다.</td></tr><tr><td>counterSlidingWindowMillis</td><td>long</td><td>20000</td><td></td></tr><tr><td>counterUpdateInterval</td><td>Duration</td><td>1초</td><td>CircuitBreaker에서는 호출의 결과를 <code>SlidingWindowCounter</code>를 통해서 보관하고 있는데 이때, 보관하는 단위의 시간을 의미합니다. 기본값 그대로 사용하게 되면 1초 단위로 기록을 가지고 있습니다. 예를 들면, 최근 20초 전 = 성공 20회, 실패 0회 / 최근 19초 전 = 성공 25회, 실패 1회 / ... / 최근 1초 전 = 성공 21회, 실패 0회 등의 기록을 가지고 있습니다. 이 1초 단위의 기록을 가지고 <code>counterSlidingWindow</code> 시간만큼을 계산하여 실패율을 계산하게 됩니다.</td></tr><tr><td>counterUpdateIntervalMillis</td><td>long</td><td>1000</td><td></td></tr><tr><td>exceptionFilter</td><td>ExceptionFilter</td><td>모든 예외를 실패로 간주</td><td>예외가 발생했을 때, 그 예외를 실패로 간주할지 여부를 반환하는 객체입니다. 기본값을 그대로 사용하게 되면 모든 예외를 실패로 간주합니다.</td></tr><tr><td>listener</td><td>CircuitBreakerListener</td><td></td><td>CircuitBreaker의 상태가 바뀌거나, <code>counterUpdateInterval</code> 시간이 지나거나, CircuitBreaker가 열려서 호출이 거부될 때에 대한 이벤트를 수신할 수 있는 리스너입니다.</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="마무리하며">마무리하며<a href="#마무리하며" class="hash-link" aria-label="Direct link to 마무리하며" title="Direct link to 마무리하며" translate="no">​</a></h2>
<p>예전에는 Channel Gateway의 어떤 부분에 장애가 발생한다면 손쓰기 전에 너무 큰 피해가 발생하였습니다. 일부에서 시작된 장애가 Thread Full 현상을 발생시키고, 결국 전체 서비스에 영향을 미쳤기 때문입니다. 하지만, 이제는 CircuitBreaker가 그 부분을 차단함으로서 좀 더 여유롭게 대처할 수 있을 것입니다.</p>
<p>마지막으로 위 설정들을 이용하여 CircuitBreaker의 동작 방식을 설명하는 것으로 마무리 지을까 합니다.</p>
<ul>
<li class="">처음 CircuitBreaker의 상태는 <em>Closed</em>입니다.</li>
<li class=""><em>Closed</em> : 호출을 수행한 후 <code>exceptionFilter</code>에 따라 다음과 같이 동작합니다.<!-- -->
<ul>
<li class="">결과가 성공했다면 성공했다는 기록을 남기고 <em>Closed</em> 상태로 갑니다.</li>
<li class="">결과가 실패했다면 <code>counterSlidingWindow</code> 시간 동안의 호출 결과를 확인해서<!-- -->
<ul>
<li class=""><code>minimumRequestThreshold</code> 개수보다 많고, 실패율이 <code>failureRateThreshold</code> 이상이라면 <em>Open</em> 상태로 갑니다.</li>
<li class="">그렇지 않다면 <em>Closed</em> 상태로 유지됩니다.</li>
</ul>
</li>
</ul>
</li>
<li class=""><em>Open</em> : <code>circuitOpenWindow</code> 시간이 지나면 <em>Half-Open</em> 상태로 바뀌게 됩니다.</li>
<li class=""><em>Half-Open</em> : 처음 들어오는 호출을 수행한 후 <code>exceptionFilter</code>에 따라 다음과 같이 동작합니다.<!-- -->
<ul>
<li class="">결과가 성공했다면 <em>Closed</em> 상태로 바뀝니다.</li>
<li class="">결과가 실패했다면 <em>Open</em> 상태로 바뀝니다.</li>
<li class=""><code>trialRequestInterval</code> 시간 안에 응답이 없다면 <em>Half-Open</em> 상태에서 그 다음 처음으로 들어오는 호출 결과에 따른 분기 처리를 합니다.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="저자-소개">저자 소개<a href="#저자-소개" class="hash-link" aria-label="Direct link to 저자 소개" title="Direct link to 저자 소개" translate="no">​</a></h2>
<p>신종훈: 저는 귀찮은 일을 싫어합니다. 귀찮은 일을 줄이기 위해서 계속 고민하지요. 그래서, 프로그래밍을 좋아하는데 왠지 일이 더 늘어난 것 같은 느낌은 저만의 느낌이겠지요?</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/line/armeria/edit/main/site/src/content/blog/ko/2016-08-04-applying-circuitbreaker-to-channel-gateway.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/ko/2019/04/16/thank-you-for-contributing-to-armeria"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">오픈소스 Armeria의 기여자를 위한 이벤트를 진행하였습니다</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/ko/2016/07/24/circuit-breakers-for-distributed-services"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">분산 서비스 환경에 대한 Circuit Breaker 적용</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#들어가기에-앞서" class="table-of-contents__link toc-highlight">들어가기에 앞서</a></li><li><a href="#channel-gateway에-circuitbreaker-적용하기" class="table-of-contents__link toc-highlight">Channel Gateway에 CircuitBreaker 적용하기</a></li><li><a href="#circuitbreaker의-애너테이션-사용" class="table-of-contents__link toc-highlight">CircuitBreaker의 애너테이션 사용</a></li><li><a href="#circuitbreaker에서-proceed-구현" class="table-of-contents__link toc-highlight">CircuitBreaker에서 proceed() 구현</a></li><li><a href="#circuitbreaker의-설정-변경-메서드" class="table-of-contents__link toc-highlight">CircuitBreaker의 설정 변경 메서드</a></li><li><a href="#마무리하며" class="table-of-contents__link toc-highlight">마무리하며</a></li><li><a href="#저자-소개" class="table-of-contents__link toc-highlight">저자 소개</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container--fluid"><div class="row"><div class="newsletterForm_kJQ8 col"><p>Sign up for our newsletters:</p><span class="ant-input-group-wrapper ant-input-group-wrapper-outlined css-198drv2 ant-input-search ant-input-search-with-button signUpForm_fXdf"><span class="ant-input-wrapper ant-input-group css-198drv2"><span class="ant-input-affix-wrapper css-198drv2 ant-input-outlined"><span class="ant-input-prefix"><span role="img" aria-label="mail" class="anticon anticon-mail"><svg viewBox="64 64 896 896" focusable="false" data-icon="mail" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"></path></svg></span></span><input type="search" placeholder="Your e-mail" required="" aria-required="true" class="ant-input css-198drv2" value=""></span><span class="ant-input-group-addon"><button title="Sign up for our newsletters" type="button" class="ant-btn css-198drv2 ant-btn-default ant-btn-color-default ant-btn-variant-outlined ant-input-search-button"><span>Subscribe</span></button></span></span></span></div><div class="copyright_C6JK col"><div>© 2015-<!-- -->2025<!-- -->, LY Corporation<br><br><a href="https://terms.line.me/line_rules?lang=en" target="_blank" rel="noopener noreferrer">Privacy policy</a></div><div><span role="img" aria-label="Armeria project logo" aria-hidden="false"><svg class="" style="width:4rem;overflow:hidden;vertical-align:middle" viewBox="20 70 70 70" version="1.1"><title>Armeria project logo</title><g id="layer1" transform="translate(0,-87)"><g id="g4208" transform="matrix(1.3217499,0,0,1.3217499,-49.437761,-33.946772)"><g transform="matrix(0.35277777,0,0,-0.35277777,80.962517,162.47851)" id="g46"><path id="path48" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="M 0,0 -20.785,-12 V -36 L 0,-48 20.785,-36 v 24 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,95.627238,162.47851)" id="g50"><path id="path52" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="M 0,0 V 24 L -20.785,12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,66.297787,170.94517)" id="g54"><path id="path56" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="M 0,0 V 24 L -20.784,12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,88.294897,192.11184)" id="g58"><path id="path60" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="M 0,0 V 24 L -20.785,12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,66.297787,154.01184)" id="g62"><path id="path64" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="m 0,0 v -24 l 20.785,12 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,95.627238,162.47851)" id="g66"><path id="path68" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="m 0,0 v -24 l 20.785,12 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,73.630137,183.64517)" id="g70"><path id="path72" class="secondary_XIgw" style="fill:rgba(255, 255, 255, 0.55)" d="m 0,0 v -24 l 20.785,12 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,73.630137,149.77851)" id="g74"><path id="path76" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="M 0,0 -20.785,-12 0,-24 20.785,-12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,95.627238,154.01184)" id="g78"><path id="path80" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="M 0,0 -20.785,12 -41.569,0 -20.785,-12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,88.294897,166.71184)" id="g82"><path id="path84" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="m 0,0 v 0 -24 l 20.785,12 V 12 L 0,24 -20.785,12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,73.630137,166.71184)" id="g86"><path id="path88" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="M 0,0 20.785,12 0,24 -20.785,12 V -12 L 0,-24 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,88.294897,192.11184)" id="g90"><path id="path92" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="M 0,0 20.785,12 V 36 L 0,24 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,95.627238,170.94517)" id="g94"><path id="path96" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="m 0,0 v -24 l 20.785,12 v 24 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,66.297787,187.8785)" id="g98"><path id="path100" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="M 0,0 20.785,-12 V 12 L 0,24 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,58.965587,166.71184)" id="g102"><path id="path104" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="m 0,0 v -24 l 20.784,-12 v 24 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,80.962517,179.41184)" id="g106"><path id="path108" class="primary_UCAP" style="fill:rgba(255, 255, 255, 1.0)" d="M 0,0 -20.785,12 V -12 L 0,-24 20.785,-12 v 24 z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,88.294897,158.24517)" id="g110"><path id="path112" class="tertiary_B5zC" style="fill:transparent" d="M 0,0 -20.785,12 -41.569,0 -20.785,-12 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,95.627238,170.94517)" id="g114"><path id="path116" class="tertiary_B5zC" style="fill:transparent" d="M 0,0 -20.785,-12 V -36 L 0,-24 Z"></path></g><g transform="matrix(0.35277777,0,0,-0.35277777,66.297787,170.94517)" id="g118"><path id="path120" class="tertiary_B5zC" style="fill:transparent" d="M 0,0 20.785,-12 V -36 L 0,-24 Z"></path></g></g></g></svg></span></div></div></div></div></footer><div id="starBegging_pb0B" class="off_vUOf"><p>Like Armeria?<br>Star us ⭐️</p><span role="button" tabindex="0" class="close_CaW0">×</span> <iframe id="starFrame" class="githubStar" title="github-stars" src="https://ghbtns.com/github-btn.html?user=line&amp;repo=armeria&amp;type=star&amp;count=true&amp;size=large" width="150px" height="30px"></iframe></div></div>
</body>
</html>