"use strict";(self.webpackChunkarmeria_site=self.webpackChunkarmeria_site||[]).push([[4095],{32915:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return s},default:function(){return h}});var r=t(63366),i=(t(67294),t(64983)),n=t(20370),o=["components"],s={},l=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",a)}},m=l("Tip"),p=l("ThankYou"),c={_frontmatter:s},u=n.Z;function h(e){var a=e.components,t=(0,r.Z)(e,o);return(0,i.kt)(u,Object.assign({},c,t,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("p",{className:"date"},"23rd June 2021"),(0,i.kt)("h2",{id:"-new-features",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h2",href:"#-new-features","aria-label":" new features permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🌟 New features"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"A new module ",(0,i.kt)("inlineCode",{parentName:"p"},"armeria-graphql")," integrates with ",(0,i.kt)("a",{parentName:"p",href:"https://www.graphql-java.com/"},"GraphQL Java")," to let you serve\nGraphQL requests. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3318"},"#3318")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3373"},"#3373")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'ServerBuilder sb = ...;\nsb.service("/graphql",\n    GraphqlService.builder()\n                  .schemaFile(schemaFiles)\n                  .runtimeWiring(w -> ...)\n                  .configureDataLoaderRegistry(registry -> ...)\n                  ...\n                  .build());\n')),(0,i.kt)(m,{mdxType:"Tip"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"armeria-graphql")," is currently experimental. We're looking forward to your feedback."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now transform the objects of ",(0,i.kt)("a",{parentName:"p",href:"type://HttpRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html"},"type://HttpRequest")," and ",(0,i.kt)("a",{parentName:"p",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse")," using a function.\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3606"},"#3606")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3624"},"#3624")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'HttpRequest req1 = ...;\nHttpRequest req2 = \n    req1.mapHeaders(headers -> headers.toBuilder()\n                                      .add("TraceId", "1")\n                                      .build())\n        .mapData(data -> HttpData.ofUtf8(data.toStringUtf8() + \'\\n\'))\n        .mapTrailers(trailers -> trailers.toBuilder()\n                                         .add("trailer-key", "val")\n                                         .build())\n\nHttpResponse res1 = ...;\nHttpResponse res2 = \n    res1.mapHeaders(headers -> headers.toBuilder()\n                                      .add("SessionId", "123")\n                                      .build())\n        .mapInformational(informational -> {\n            return informational.withMutations(builder -> {\n                builder.add(HttpHeaderNames.USER_AGENT, "Armeria");\n            });\n        })\n        .mapData(data -> HttpData.ofUtf8(data.toStringUtf8()\n                                 .replaceAll("\\n", "<br/>")))\n        .mapTrailers(trailers -> trailers.toBuilder()\n                                         .add("result", "0")\n                                         .build());\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now collect the all elements of a ",(0,i.kt)("a",{parentName:"p",href:"type://StreamMessage:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html"},"type://StreamMessage")," with ",(0,i.kt)("a",{parentName:"p",href:"type://StreamMessage#collect():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html#collect()"},"type://StreamMessage#collect()"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3603"},"#3603")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"StreamMessage<Integer> stream = StreamMessage.of(1, 2, 3);\nCompletableFuture<List<Integer>> collected = stream.collect();\nassert collected.join().equals(List.of(1, 2, 3));\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can exclude a ",(0,i.kt)("a",{parentName:"p",href:"type://Route:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Route.html"},"type://Route")," from another ",(0,i.kt)("a",{parentName:"p",href:"type://Route:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Route.html"},"type://Route")," when configuring a service. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2737"},"#2737")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3562"},"#3562")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'ServerBuilder sb = ...;\nsb.route()\n  .pathPrefix("/api")\n  .exclude("prefix:/api/admin")\n  .exclude(Route.builder()\n                .pathPrefix("/api/v1")\n                .consumes(MediaType.JSON)\n                .build())\n  .build(apiService);\n\nsb.routeDecorator()\n  .pathPrefix("/api")\n  .exclude("prefix:/api/admin")\n  .build(MetricCollectingService.newDecorator());\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now update the service bindings without restarting a ",(0,i.kt)("a",{parentName:"p",href:"type://Server:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Server.html"},"type://Server")," using\n",(0,i.kt)("a",{parentName:"p",href:"type://Server#reconfigure(ServerConfigurator):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Server.html#reconfigure(com.linecorp.armeria.server.ServerConfigurator)"},"type://Server#reconfigure(ServerConfigurator)"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3041"},"#3041")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3362"},"#3362")," Note that there are some limitations on\nthe ",(0,i.kt)("a",{parentName:"p",href:"type://Server:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/Server.html"},"type://Server")," reconfiguration. Please check out ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3041"},"#3041")," for details."),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'Server server = ...;\nserver.reconfigure(sb -> {\n   sb.service("/dynamic", new LazyService());\n});\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now use ",(0,i.kt)("a",{parentName:"p",href:"type://RequestOptions:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/RequestOptions.html"},"type://RequestOptions")," to configure various options at request level. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3593"},"#3593")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'HttpRequest req = ...;\nWebClient client = ...;\nRequestOptions options =\n    RequestOptions.builder()\n                  .responseTimeout(Duration.ofSeconds(20))\n                  .writeTimeout(Duration.ofSeconds(5))\n                  .maxResponseLength(2048)\n                  .attr(foo, "bar")\n                  .build();\n// Specify RequestOptions when sending a request.\nclient.execute(req, options);\n\n// You can also specify the options when building a request\n// using WebClientRequestPreparation.\nclient.prepare()\n      .get("/some/path")\n      .responseTimeout(Duration.ofSeconds(20))\n      .writeTimeout(Duration.ofSeconds(5))\n      .maxResponseLength(2048)\n      .attr(foo, "bar")\n      .execute();\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now fluently build a ",(0,i.kt)("a",{parentName:"p",href:"type://BlockingTaskExecutor:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/BlockingTaskExecutor.html"},"type://BlockingTaskExecutor")," using ",(0,i.kt)("a",{parentName:"p",href:"type://BlockingTaskExecutorBuilder:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/BlockingTaskExecutorBuilder.html"},"type://BlockingTaskExecutorBuilder"),".\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3315"},"#3315")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3389"},"#3389")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'BlockingTaskExecutor.builder()\n                    .daemon(true)\n                    .numThreads(500)\n                    .threadNamePrefix("my-blocking-task-executor")\n                    .build();\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now easily get a boolean value from ",(0,i.kt)("a",{parentName:"p",href:"type://QueryParams:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/QueryParams.html"},"type://QueryParams")," and ",(0,i.kt)("a",{parentName:"p",href:"type://HttpHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpHeaders.html"},"type://HttpHeaders"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3600"},"#3600")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'HttpHeaders headers = HttpHeaders.of("checked", "true", "valid", "1");\nassert headers.getBoolean("checked");\nassert headers.getBoolean("valid");\nQueryParams params = QueryParams.of("checked", "false", "valid", "0");\nassert !params.getBoolean("checked");\nassert !params.getBoolean("valid");\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now conveniently configure a loopback port with\n",(0,i.kt)("a",{parentName:"p",href:"type://ServerBuilder#localPort(int,Iterable):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html#localPort(int,java.lang.Iterable)"},"type://ServerBuilder#localPort(int,Iterable)"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3599"},"#3599")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3601"},"#3601")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Server.builder()\n      .localPort(8080)\n      .localPort(9090, SessionProtocol.HTTP, SessionProtocol.HTTPS);\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"All Jackson modules in the class loader are registered automatically by default via Jackson's\n",(0,i.kt)("a",{parentName:"p",href:"https://fasterxml.github.io/jackson-databind/javadoc/2.11/com/fasterxml/jackson/databind/cfg/MapperBuilder.html#findAndAddModules--"},"built-in SPI mechanism"),"\nfor your convenience."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"You can override this behavior by registering your ",(0,i.kt)("a",{parentName:"li",href:"type://JacksonModuleProvider"},"type://JacksonModuleProvider")," implementation\nvia Java SPI. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3594"},"#3594")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3625"},"#3625")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc5482"},"TCP user timeout option")," is now enabled by default when an\nidle timeout is enabled. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3509"},"#3509")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"TCP_KEEPIDLE")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"TCP_KEEPINTVL")," options are enabled when a PING interval is greater than 0."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now get the last value of a header or a query parameter using\n",(0,i.kt)("a",{parentName:"p",href:"type://HttpHeaders#getLast(CharSequence):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpHeaders.html#getLast(java.lang.CharSequence)"},"type://HttpHeaders#getLast(CharSequence)")," and ",(0,i.kt)("a",{parentName:"p",href:"type://QueryParams#getLast(String):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/QueryParams.html#getLast(java.lang.String)"},"type://QueryParams#getLast(String)"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3438"},"#3438")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3568"},"#3568")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},'HttpHeaders headers =\n    HttpHeaders.builder()\n               .add(HttpHeaderNames.X_FORWARDED_FOR,\n                   List.of("203.0.113.195", "150.172.238.178"))\n               .build();\nassert headers.getLast(HttpHeaderNames.X_FORWARDED_FOR)\n              .equals("150.172.238.178");\n\nQueryParams params = \n    QueryParams.builder()\n               .add("items", List.of("1", "2", "3"))\n               .build();\nassert params.getLastInt("items").equals(3);\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"type://ContentTooLargeException:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/ContentTooLargeException.html"},"type://ContentTooLargeException")," now provides you the following 3 properties about why\nthe exception was raised. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3520"},"#3520"),", ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3616"},"#3616")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The maximum allowed content length"),(0,i.kt)("li",{parentName:"ul"},"The content length specified in the ",(0,i.kt)("inlineCode",{parentName:"li"},"content-length")," header"),(0,i.kt)("li",{parentName:"ul"},"The number of bytes transferred so far"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now convert a ",(0,i.kt)("a",{parentName:"p",href:"type://Multipart:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/multipart/Multipart.html"},"type://Multipart")," into an ",(0,i.kt)("a",{parentName:"p",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3642"},"#3642"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now warm up an ",(0,i.kt)("inlineCode",{parentName:"p"},"EventLoopGroup")," using ",(0,i.kt)("a",{parentName:"p",href:"type://EventLoopGroups#warmUp(EventLoopGroup):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/EventLoopGroups.html#warmUp(io.netty.channel.EventLoopGroup)"},"type://EventLoopGroups#warmUp(EventLoopGroup)"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3363"},"#3363")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3610"},"#3610"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now figure out the number of connections managed by a ",(0,i.kt)("a",{parentName:"p",href:"type://ClientFactory:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactory.html"},"type://ClientFactory")," with\n",(0,i.kt)("a",{parentName:"p",href:"type://ClientFactory#numConnections():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ClientFactory.html#numConnections()"},"type://ClientFactory#numConnections()"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3596"},"#3596")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3613"},"#3613"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now specify the number of event loop threads and blocking task threads more conveniently. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3597"},"#3597")," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3602"},"#3602")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Server.builder()\n      .workerGroup(3)\n      .blockingTaskExecutor(10)\n      ...\n      .build();\n\nClientFactory.builder()\n             .workerGroup(3)\n             .build();\n"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"You can now clear the mocking state of a ",(0,i.kt)("a",{parentName:"p",href:"type://MockWebServerExtension:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/testing/junit5/server/mock/MockWebServerExtension.html"},"type://MockWebServerExtension")," using\n",(0,i.kt)("a",{parentName:"p",href:"type://MockWebServerExtension#reset():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/testing/junit5/server/mock/MockWebServerExtension.html#reset()"},"type://MockWebServerExtension#reset()"),". ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3629"},"#3629")))),(0,i.kt)("h2",{id:"-improvements",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h2",href:"#-improvements","aria-label":" improvements permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"📈 Improvements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Various optimizations for ",(0,i.kt)("a",{parentName:"li",href:"type://StreamMessage:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html"},"type://StreamMessage")," implementations. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3585"},"#3585")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3584"},"#3584")),(0,i.kt)("li",{parentName:"ul"},"You can now use an optimized context-aware ",(0,i.kt)("inlineCode",{parentName:"li"},"CompletableFuture")," for Java 12 and above. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2119"},"#2119")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3615"},"#3615")),(0,i.kt)("li",{parentName:"ul"},"Various multipart MIME types were added to ",(0,i.kt)("a",{parentName:"li",href:"type://MediaType:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/MediaType.html"},"type://MediaType"),". ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3642"},"#3642"))),(0,i.kt)("h2",{id:"️-bug-fixes",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h2",href:"#%EF%B8%8F-bug-fixes","aria-label":"️ bug fixes permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🛠️ Bug fixes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ByteBuf"),"s are no longer leaked when using:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Spring WebFlux integration with compression ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3608"},"#3608")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3617"},"#3617"),"; or"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"type://StreamMessageDuplicator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessageDuplicator.html"},"type://StreamMessageDuplicator")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3476"},"#3476")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3583"},"#3583")))),(0,i.kt)("li",{parentName:"ul"},"You no longer see a ",(0,i.kt)("a",{parentName:"li",href:"type://ResponseTimeoutException:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/ResponseTimeoutException.html"},"type://ResponseTimeoutException")," with ",(0,i.kt)("a",{parentName:"li",href:"type://CircuitBreakerClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerClient.html"},"type://CircuitBreakerClient")," when a large number\nof messages are received from a response. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3631"},"#3631")),(0,i.kt)("li",{parentName:"ul"},"You can now set the service name of an annotated service using\nthe ",(0,i.kt)("a",{parentName:"li",href:"type://ServerBuilder#defaultServiceNaming(ServiceNaming):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html#defaultServiceNaming(com.linecorp.armeria.server.ServiceNaming)"},"type://ServerBuilder#defaultServiceNaming(ServiceNaming)"),". ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3589"},"#3589")),(0,i.kt)("li",{parentName:"ul"},"You no longer see a ",(0,i.kt)("a",{parentName:"li",href:"type://ClosedStreamException:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/ClosedStreamException.html"},"type://ClosedStreamException")," when an ",(0,i.kt)("a",{parentName:"li",href:"type://EndpointGroup:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/EndpointGroup.html"},"type://EndpointGroup")," is empty. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3381"},"#3381")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3636"},"#3636")),(0,i.kt)("li",{parentName:"ul"},"Late ",(0,i.kt)("inlineCode",{parentName:"li"},"Subscriber"),"s correctly run on the specified executor. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3623"},"#3623")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3632"},"#3632")),(0,i.kt)("li",{parentName:"ul"},"An exception raised in ",(0,i.kt)("a",{parentName:"li",href:"type://THttpService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/thrift/THttpService.html"},"type://THttpService")," is now properly peeled using\n",(0,i.kt)("a",{parentName:"li",href:"type://Exceptions#peel(Throwable):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/Exceptions.html#peel(java.lang.Throwable)"},"type://Exceptions#peel(Throwable)"),". ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3588"},"#3588")),(0,i.kt)("li",{parentName:"ul"},"You no longer see an ",(0,i.kt)("inlineCode",{parentName:"li"},"UnsatisfiedLinkError")," when a Netty JAR without native libraries is included. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3485"},"#3485")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3607"},"#3607")),(0,i.kt)("li",{parentName:"ul"},"Additional headers are now correctly updated to ",(0,i.kt)("a",{parentName:"li",href:"type://RequestOnlyLog#requestHeaders():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/logging/RequestOnlyLog.html#requestHeaders()"},"type://RequestOnlyLog#requestHeaders()"),". ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3579"},"#3579")," ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3581"},"#3581")),(0,i.kt)("li",{parentName:"ul"},"A timeout is more precisely scheduled for a request or a response. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3570"},"#3570")),(0,i.kt)("li",{parentName:"ul"},"You no longer see a duplicate ",(0,i.kt)("inlineCode",{parentName:"li"},"Content-Type")," header when using ",(0,i.kt)("a",{parentName:"li",href:"type://Multipart:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/multipart/Multipart.html"},"type://Multipart"),". ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3642"},"#3642"))),(0,i.kt)("h2",{id:"-dependencies",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h2",href:"#-dependencies","aria-label":" dependencies permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"⛓ Dependencies"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Bouncy Castle 1.68 → 1.69"),(0,i.kt)("li",{parentName:"ul"},"Dropwizard 2.0.21 → 2.0.23"),(0,i.kt)("li",{parentName:"ul"},"Dropwizard Metrics 4.1.21 → 4.2.2"),(0,i.kt)("li",{parentName:"ul"},"Eureka 1.10.13 → 1.10.15"),(0,i.kt)("li",{parentName:"ul"},"gRPC-Java 1.37.0 → 1.38.1"),(0,i.kt)("li",{parentName:"ul"},"gRPC-Kotlin 1.0.0 → 1.1.0"),(0,i.kt)("li",{parentName:"ul"},"JBoss logging 3.4.1 → 3.4.2"),(0,i.kt)("li",{parentName:"ul"},"Jetty 9.4.39 → 9.4.42"),(0,i.kt)("li",{parentName:"ul"},"Kotlin 1.5.0 → 1.5.10"),(0,i.kt)("li",{parentName:"ul"},"Kotlin Coroutines 1.4.3 → 1.5.0"),(0,i.kt)("li",{parentName:"ul"},"Netty 4.1.63 → 4.1.65"),(0,i.kt)("li",{parentName:"ul"},"netty-tcnative-boringssl-static 2.0.38 → 2.0.39"),(0,i.kt)("li",{parentName:"ul"},"Prometheus 0.10.0 → 0.11.0"),(0,i.kt)("li",{parentName:"ul"},"Reactor 3.4.6 → 3.4.7"),(0,i.kt)("li",{parentName:"ul"},"RESTEasy 4.6.0 → 4.6.1"),(0,i.kt)("li",{parentName:"ul"},"RxJava 3.0.12 → 3.0.13"),(0,i.kt)("li",{parentName:"ul"},"Scala",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"2.12.13 → 2.12.14"),(0,i.kt)("li",{parentName:"ul"},"2.13.5 → 2.13.6"))),(0,i.kt)("li",{parentName:"ul"},"ScalaPB runtime 0.11.2 → 0.11.3"),(0,i.kt)("li",{parentName:"ul"},"ScalaPB json4s 0.11.0 → 0.11.1"),(0,i.kt)("li",{parentName:"ul"},"SLF4J 1.7.30 → 1.7.31"),(0,i.kt)("li",{parentName:"ul"},"Spring 5.3.7 → 5.3.8"),(0,i.kt)("li",{parentName:"ul"},"Spring Boot 2.4.5 → 2.5.1"),(0,i.kt)("li",{parentName:"ul"},"Tomcat",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"8.5.64 → 8.5.68"),(0,i.kt)("li",{parentName:"ul"},"9.0.44 → 9.0.46"))),(0,i.kt)("li",{parentName:"ul"},"Thrift 0.14.1 → 0.14.2")),(0,i.kt)("h2",{id:"-thank-you",style:{position:"relative"}},(0,i.kt)("a",{parentName:"h2",href:"#-thank-you","aria-label":" thank you permalink",className:"anchor before"},(0,i.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🙇 Thank you"),(0,i.kt)(p,{usernames:["amitvc","anuraaga","haithamgabr","heowc","hexoul","hyangtack","ikhoon","jrhee17","JunoJunho","KarboniteKream","kezhenxu94","kojilin","mauhiz","max904-github","minwoox","nirvanarsc","serajin00","trustin"],mdxType:"ThankYou"}))}h.isMDXComponent=!0},20370:function(e,a,t){t(88025);var r=t(1923),i=t(25444),n=t(67294),o=t(55746),s=t(8284),l=t(96759),m=t(46731),p=t(9396),c=r.Z.Title,u=Object.keys(s)[0],h=d(u);function d(e){return e.substring(e.lastIndexOf("/")+1)}a.Z=function(e){var a={},t={},r={root:{"Latest news items":"/news","Latest release notes":"/release-notes","Past news items":"/news/list","Past release notes":"/release-notes/list"},"Recent news items":a,"Recent releases":t};Object.entries(o).forEach((function(e){var t=e[0],r=e[1];a[r]=t})),Object.entries(s).forEach((function(e){var a=e[0],r=e[1];t[r]=a}));var k=(0,p.Z)(e.location),v=e.version||d(k);return v.match(/^[0-9]/)||(v=void 0),n.createElement(m.Z,Object.assign({},e,{candidateMdxNodes:[],index:r,prefix:"release-notes",pageTitle:v?v+" release notes":e.pageTitle,pageTitleSuffix:"Armeria release notes"}),v&&v!==h?n.createElement(l.Ch,null,"You're seeing the release note of an old version. Check out"," ",n.createElement(i.Link,{to:u},"the latest release note"),"."):"",v?n.createElement(c,{id:"release-notes",level:1},n.createElement("a",{href:"#release-notes","aria-label":"release notes permalink",className:"anchor before"},n.createElement("svg",{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},n.createElement("path",{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),v," release notes"):"",e.children)}},55746:function(e){e.exports=JSON.parse('{"/news/20231208-newsletter-6":"Armeria Newsletter vol. 6","/news/20230426-newsletter-5":"Armeria Newsletter vol. 5","/news/20220714-newsletter-4":"Armeria Newsletter vol. 4","/news/20211029-newsletter-3":"Armeria Newsletter vol. 3","/news/20210202-newsletter-2":"Armeria Newsletter vol. 2","/news/20200703-newsletter-1":"Armeria Newsletter vol. 1","/news/20200514-newsletter-0":"Armeria Newsletter vol. 0"}')},8284:function(e){e.exports=JSON.parse('{"/release-notes/1.29.4":"v1.29.4","/release-notes/1.29.3":"v1.29.3","/release-notes/1.29.2":"v1.29.2","/release-notes/1.29.1":"v1.29.1","/release-notes/1.29.0":"v1.29.0","/release-notes/1.28.4":"v1.28.4","/release-notes/1.28.3":"v1.28.3","/release-notes/1.28.2":"v1.28.2","/release-notes/1.28.1":"v1.28.1","/release-notes/1.28.0":"v1.28.0","/release-notes/1.27.3":"v1.27.3","/release-notes/1.27.2":"v1.27.2","/release-notes/1.27.1":"v1.27.1","/release-notes/1.27.0":"v1.27.0","/release-notes/1.26.4":"v1.26.4","/release-notes/1.26.3":"v1.26.3"}')}}]);
//# sourceMappingURL=component---src-pages-release-notes-1-9-0-mdx-f4c821bb48eee1af2eda.js.map