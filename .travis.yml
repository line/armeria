language: java
sudo: false
os:
- linux
branches:
  only:
  - master
  - '0.46'
notifications:
  email: false
  slack:
    secure: p0yDpag9aMp5rylFb+/ED4wzCM2rmYB6COJTJZ80J6oUPQHFC/B5csM4hQcgMnUG3sJmu5J4CjHRyEXH6u5E8owetpAR0h175y/MJl92BxavFdOGa3q8Zw2PekIkivnj5KkmHaiTPeqmnk6dYrbZbSzG0QnhfuL1vHCsx7NBXa9tWqYUymIbibHP82c4xqty9Pb7DvVSGMkTit8W7qUvuys2Uk7L0TQv1qoHlRiBxeuzjo9vl9XqqbsLXytQIHmJCha6hLgdDXnnaR8nRblYDtBlEd/T2kUSDkiLvJZPzfIPPAwM/771QnZf0gQtIXb3rkQyfIg9OEBXqoD7TbSP5i9zfzq25RALMXa8M4DjXe4O68DtNvPpOu4MA76HccPPQikiPSpT1oJ9Ag/pjiSEvgGll0aMopyRvkIsHmuxCGUcTpxVlY6FStNXSxcPfomxYnnGFPRr2XRtKZI2luYjiYFP5hOcvLUO4ZLxRrBKemKtb5kK7+KvrXLLOjc8rXxji00nrK1I+6/swam++8ALa+ZqZnjJJHvq98AD2/BMUx/e+bQJZ7+mIN4N+9k5AzVDqkoYDJJG2BrJWY7rCzKXXt8ljM6DAT7Ibx0YRRcsaP6lFza7SlnhmyxhoaOB5lPu/tIiiFPfRQGhj3aqxwG2uslR1lY8Em6KHl1ccNJISwM=
cache:
  directories:
  - "$HOME/.gradle/wrapper/dists"
  - "$HOME/.gradle/caches/jars-3"
  - "$HOME/.gradle/caches/modules-2"
  - "$HOME/.gradle/caches/package-lists"
  - "$HOME/.gradle/caches/sphinx-binary"
  - "$HOME/.jdk"
env:
  global:
  - _JAVA_OPTIONS=
  - JAVA_HOME=$HOME/.jdk/default
  - PATH=$JAVA_HOME/bin:$PATH
  - GRADLE_OPTS=-Xmx1280m
before_install:
- ".travis/install-jdk.sh"
- "./gradlew --version"
install:
- true
script:
- "./gradlew --no-daemon --stacktrace -Pcoverage checkstyle test build"
before_cache:
- find $HOME/.gradle/caches -name '*.lock' -delete
after_success:
- bash <(curl -s https://codecov.io/bash)
