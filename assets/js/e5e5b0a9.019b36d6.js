"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[8303],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>a});var s=i(96540);const r={},t=s.createContext(r);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(t.Provider,{value:n},e.children)}},80029:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"0.82.0","title":"v0.82.0","description":"New features","source":"@site/src/content/release-notes/0.82.0.mdx","sourceDirName":".","slug":"/0.82.0","permalink":"/release-notes/0.82.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site-new/src/content/release-notes/0.82.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2019-03-19T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v0.83.0","permalink":"/release-notes/0.83.0"},"next":{"title":"v0.81.1","permalink":"/release-notes/0.81.1"}}');var r=i(74848),t=i(28453);const c={date:new Date("2019-03-19T00:00:00.000Z")},a="v0.82.0",l={},o=[{value:"New features",id:"new-features",level:2},{value:"Improvements",id:"improvements",level:2},{value:"Bug fixes",id:"bug-fixes",level:2},{value:"Breaking Change",id:"breaking-change",level:2},{value:"Dependencies",id:"dependencies",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.header,{children:[(0,r.jsx)(n.h1,{id:"v0820",children:"v0.82.0"}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"March 19, 2019"})})]}),"\n",(0,r.jsx)(n.h2,{id:"new-features",children:"New features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You can now include or exclude service methods using ",(0,r.jsx)(n.code,{children:"DocServiceFilter"})," when building a ",(0,r.jsx)(n.code,{children:"DocService"}),".\nSee ",(0,r.jsx)(n.a,{href:"https://armeria.dev/docs/server-docservice#including-and-excluding-service-methods",children:"our documentation"})," for more information. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1609",children:"#1609"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'ServerBuilder sb = new ServerBuilder();\n...\nsb.serviceUnder("/docs", new DocServiceBuilder()\n        // Include Thrift services and Annotated services.\n        .include(DocServiceFilter.ofThrift().or(DocServiceFilter.ofAnnotated()))\n        // Exclude the method whose name is "foo" in Thrift services.\n        .exclude(DocServiceFilter.ofThrift().and(DocServiceFilter.ofMethodName("foo")))\n        .build());\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HttpHeaderNames"})," now forks from Guava's ",(0,r.jsx)(n.code,{children:"HttpHeaders"})," instead of Netty's ",(0,r.jsx)(n.code,{children:"HttpHeaderNames"}),"\nbecause it has more recent HTTP headers which may be useful to service authors."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You can use ",(0,r.jsx)(n.code,{children:"SystemInfo"})," utility class in order to get the system information. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1656",children:"#1656"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// Java version\nSystemInfo.javaVersion();\n\n// Hostname\nSystemInfo.hostname();\n\n// The current process ID\nSystemInfo.pid();\n\n// The current time in microseconds\nSystemInfo.currentTimeMicros();\n"})}),"\n"]}),"\n"]}),"\n","\n",(0,r.jsx)(n.h2,{id:"improvements",children:"Improvements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Set 0.5 to the default failure rate threshold of a circuit breaker. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1657",children:"#1657"})]}),"\n",(0,r.jsxs)(n.li,{children:["Various documentation updates. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1657",children:"#1657"})," ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1654",children:"#1654"})," ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1651",children:"#1651"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"bug-fixes",children:"Bug fixes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Strip a leading slash in an ",(0,r.jsx)(n.code,{children:"HttpFile"})," resource path. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1661",children:"#1661"})," ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1650",children:"#1650"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// Will strip the leading slash\nHttpFile.ofResource(ClassLoader.getSystemClassLoader(), "/java/lang/Object.class");\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ByteBuf"}),"s are no longer leaked when you use Spring WebFlux integration. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1658",children:"#1658"}),"\nIt was possible to leak a ",(0,r.jsx)(n.code,{children:"ByteBuf"})," if a client closes a connection before reading the body of an HTTP response."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"breaking-change",children:"Breaking Change"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DocServicePlugin"})," interface now has ",(0,r.jsx)(n.code,{children:"name()"})," method and ",(0,r.jsx)(n.code,{children:"generateSpecification()"})," method signature has changed. ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1609",children:"#1609"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// Before:\nServiceSpecification generateSpecification(Set<ServiceConfig> serviceConfigs);\n// After:\nString name();\nServiceSpecification generateSpecification(Set<ServiceConfig> serviceConfigs, DocServiceFilter filter);\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Some header names in ",(0,r.jsx)(n.code,{children:"HttpHeaderNames"})," were removed, although it is very unlikely to be used by users: ",(0,r.jsx)(n.a,{href:"https://github.com/line/armeria/issues/1660",children:"#1660"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Keep-Alive"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Proxy-Connection"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Content-Transfer-Encoding"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"java-jwt 3.7.0 -> 3.8.0"}),"\n",(0,r.jsx)(n.li,{children:"Guava 27.0.1 -> 27.1"}),"\n",(0,r.jsxs)(n.li,{children:["Netty 4.1.33 -> 4.1.34","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Netty TCNative BoringSSL 2.0.20 -> 2.0.22"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Brave 5.6.1 -> 5.6.3"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);