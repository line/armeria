"use strict";(globalThis.webpackChunkarmeria_site=globalThis.webpackChunkarmeria_site||[]).push([[8091],{28453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>c});var i=n(96540);const s={},t=i.createContext(s);function a(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:r},e.children)}},75498:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"0.93.0","title":"v0.93.0","description":"New features","source":"@site/src/content/release-notes/0.93.0.mdx","sourceDirName":".","slug":"/0.93.0","permalink":"/release-notes/0.93.0","draft":false,"unlisted":false,"editUrl":"https://github.com/line/armeria/edit/main/site-new/src/content/release-notes/0.93.0.mdx","tags":[],"version":"current","frontMatter":{"date":"2019-09-26T00:00:00.000Z"},"sidebar":"defaultSidebar","previous":{"title":"v0.94.0","permalink":"/release-notes/0.94.0"},"next":{"title":"v0.92.0","permalink":"/release-notes/0.92.0"}}');var s=n(74848),t=n(28453);const a={date:new Date("2019-09-26T00:00:00.000Z")},c="v0.93.0",l={},o=[{value:"New features",id:"new-features",level:2},{value:"Bug fixes",id:"bug-fixes",level:2},{value:"Breaking changes",id:"breaking-changes",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Thank you",id:"thank-you",level:2}];function d(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{ThankYou:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ThankYou",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.header,{children:[(0,s.jsx)(r.h1,{id:"v0930",children:"v0.93.0"}),(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:"September 26, 2019"})})]}),"\n",(0,s.jsx)(r.h2,{id:"new-features",children:"New features"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now create a ",(0,s.jsx)(r.code,{children:"Sampler"})," from a specification string such as ",(0,s.jsx)(r.code,{children:"random=0.1"})," and ",(0,s.jsx)(r.code,{children:"rate-limited=10"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2108",children:"#2108"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["This is going to be useful when you want to make the sampling policy of ",(0,s.jsx)(r.code,{children:"Brave{Client,Server}"})," or ",(0,s.jsx)(r.code,{children:"Logging{Client,Server}"})," configurable from external sources such as a configuration file or a system property."]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'Sampler<Object> randomSampler = Sampler.of("random=0.1");\nSampler<Object> rateLimitedSampler = Sampler.of("rate-limited=10");\nSampler<Object> alwaysSampler = Sampler.of("always");\nSampler<Object> neverSampler = Sampler.of("never");\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now specify the ",(0,s.jsx)(r.code,{children:"Sampler"})," specification string in the ",(0,s.jsx)(r.code,{children:"com.linecorp.armeria.verboseExceptions"})," system property. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2105",children:"#2105"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2111",children:"#2111"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["From this release, the default value of this property is ",(0,s.jsx)(r.code,{children:"rate-limited=10"})," which means the stack trace of the exceptions will be recorded at the maximum rate of 10 exceptions/sec. Previously, the default value of this property was ",(0,s.jsx)(r.code,{children:"false"}),", which eliminates all stack traces, which gave our users a hard time figuring out why."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["You can now specify a common path prefix using ",(0,s.jsx)(r.code,{children:"@PathPrefix"})," annotation in annotated services. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2031",children:"#2031"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2099",children:"#2099"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-java",children:'@PathPrefix("/users")\npublic class MyUserService {\n    @Get("/{id}") // Mapped to \'/users/{id}\'\n    @ProducesJson\n    public User getUser(@Param int id) { ... }\n    ...\n}\n\nServer server = new ServerBuilder()\n    .annotatedService(new MyUserService())\n    .build();\n'})}),"\n"]}),"\n"]}),"\n","\n",(0,s.jsx)(r.h2,{id:"bug-fixes",children:"Bug fixes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Fixed a memory leak in ",(0,s.jsx)(r.code,{children:"HealthCheckService"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2110",children:"#2110"})]}),"\n",(0,s.jsxs)(r.li,{children:["Prometheus and Dropwizard Metrics are now optional dependencies in ",(0,s.jsx)(r.code,{children:"armeria-spring-boot-*"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2106",children:"#2106"})," ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2107",children:"#2107"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"armeria-spring-boot-actuator-autoconfigure"})," does not refuse to start anymore when ",(0,s.jsx)(r.code,{children:"HealthStatusHttpMapper"})," is missing. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2104",children:"#2104"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"breaking-changes",children:"Breaking changes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"Flags.verboseExceptions()"})," has been replaced with ",(0,s.jsx)(r.code,{children:"verboseExceptionSampler()"})," and ",(0,s.jsx)(r.code,{children:"verboseExceptionSamplerSpec()"}),". ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2111",children:"#2111"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"Exceptions.isVerbose()"}),", which was deprecated previously, has been removed. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2111",children:"#2111"})]}),"\n",(0,s.jsxs)(r.li,{children:["You may need to add ",(0,s.jsx)(r.code,{children:"io.micrometer:micrometer-registry-prometheus"})," or ",(0,s.jsx)(r.code,{children:"io.dropwizard.metrics:metrics-json"})," after upgrading if you were depending on them transitively. ",(0,s.jsx)(r.a,{href:"https://github.com/line/armeria/issues/2107",children:"#2107"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Netty 4.1.41 -> 4.1.42"}),"\n",(0,s.jsx)(r.li,{children:"Netty TCNative BoringSSL 2.0.25 -> 2.0.26"}),"\n",(0,s.jsx)(r.li,{children:"Project Reactor 3.2.12 -> 3.3.0"}),"\n",(0,s.jsx)(r.li,{children:"Prometheus 0.6.0 -> 0.7.0"}),"\n",(0,s.jsx)(r.li,{children:"Retrofit 2.6.1 -> 2.6.2"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"thank-you",children:"Thank you"}),"\n",(0,s.jsx)(n,{usernames:["anuraaga","codefromthecrypt","heowc","ikhoon","jyblue","minwoox","sivaalli","taejs","trustin"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);